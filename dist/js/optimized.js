/**
 * @license AngularJS v1.2.19-build.256+sha.8b25ea1
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */

/*!
 * posty_webUI
 *
 * Copyright 2014 posty-soft.org
 * Licensed under the LGPL v3
 * https://www.gnu.org/licenses/lgpl.html
 *
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

(function(e,t,n){function r(e){return function(){var t=arguments[0],n="["+(e?e+":":"")+t+"] ",r=arguments[1],i=arguments,s=function(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):typeof e=="undefined"?"undefined":typeof e!="string"?JSON.stringify(e):e},o,u;o=n+r.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n;if(t+2<i.length)return n=i[t+2],typeof n=="function"?n.toString().replace(/ ?\{[\s\S]*$/,""):typeof n=="undefined"?"undefined":typeof n!="string"?lt(n):n;return e}),o=o+"\nhttp://errors.angularjs.org/1.2.19-build.256+sha.8b25ea1/"+(e?e+"/":"")+t;for(u=2;u<arguments.length;u++)o=o+(u==2?"?":"&")+"p"+(u-2)+"="+encodeURIComponent(s(arguments[u]));return new Error(o)}}function w(e){if(e==null||U(e))return!1;var t=e.length;return e.nodeType===1&&t?!0:B(e)||I(e)||t===0||typeof t=="number"&&t>0&&t-1 in e}function E(e,t,n){var r;if(e)if(q(e))for(r in e)r!="prototype"&&r!="length"&&r!="name"&&(!e.hasOwnProperty||e.hasOwnProperty(r))&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==E)e.forEach(t,n);else if(w(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function S(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function x(e,t,n){var r=S(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function T(e){return function(t,n){e(n,t)}}function N(){var e=b.length,t;while(e){e--,t=b[e].charCodeAt(0);if(t==57)return b[e]="A",b.join("");if(t!=90)return b[e]=String.fromCharCode(t+1),b.join("");b[e]="0"}return b.unshift("0"),b.join("")}function C(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function k(e){var t=e.$$hashKey;return E(arguments,function(t){t!==e&&E(t,function(t,n){e[n]=t})}),C(e,t),e}function L(e){return parseInt(e,10)}function A(e,t){return k(new(k(function(){},{prototype:e})),t)}function O(){}function M(e){return e}function _(e){return function(){return e}}function D(e){return typeof e=="undefined"}function P(e){return typeof e!="undefined"}function H(e){return e!=null&&typeof e=="object"}function B(e){return typeof e=="string"}function j(e){return typeof e=="number"}function F(e){return d.call(e)==="[object Date]"}function q(e){return typeof e=="function"}function R(e){return d.call(e)==="[object RegExp]"}function U(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function z(e){return e&&e.$evalAsync&&e.$watch}function W(e){return d.call(e)==="[object File]"}function X(e){return d.call(e)==="[object Blob]"}function V(e){return typeof e=="boolean"}function J(e){return!!e&&!!(e.nodeName||e.prop&&e.attr&&e.find)}function K(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function Q(e,t,n){var r=[];return E(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r}function G(e,t){var n=0,r;if(I(e)||B(e))return e.length;if(H(e))for(r in e)(!t||e.hasOwnProperty(r))&&n++;return n}function Y(e,t){return Z(e,t)!=-1}function Z(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function et(e,t){var n=Z(e,t);return n>=0&&e.splice(n,1),t}function tt(e){if(e)switch(e.nodeName){case"OPTION":case"PRE":case"TITLE":return!0}return!1}function nt(e,t,n,r){if(U(e)||z(e))throw v("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(!t)t=e,e&&(I(e)?t=nt(e,[],n,r):F(e)?t=new Date(e.getTime()):R(e)?t=new RegExp(e.source):H(e)&&(t=nt(e,{},n,r)));else{if(e===t)throw v("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[];if(H(e)){var i=Z(n,e);if(i!==-1)return r[i];n.push(e),r.push(t)}var s;if(I(e)){t.length=0;for(var o=0;o<e.length;o++)s=nt(e[o],null,n,r),H(e[o])&&(n.push(e[o]),r.push(s)),t.push(s)}else{var u=t.$$hashKey;E(t,function(e,n){delete t[n]});for(var a in e)s=nt(e[a],null,n,r),H(e[a])&&(n.push(e[a]),r.push(s)),t[a]=s;C(t,u)}}return t}function rt(e,t){if(I(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(H(e)){t=t||{};for(var r in e)s.call(e,r)&&(r.charAt(0)!=="$"||r.charAt(1)!=="$")&&(t[r]=e[r])}return t||e}function it(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;var r=typeof e,i=typeof t,s,o,u;if(r==i&&r=="object"){if(!I(e)){if(F(e))return F(t)&&e.getTime()==t.getTime();if(R(e)&&R(t))return e.toString()==t.toString();if(z(e)||z(t)||U(e)||U(t)||I(t))return!1;u={};for(o in e){if(o.charAt(0)==="$"||q(e[o]))continue;if(!it(e[o],t[o]))return!1;u[o]=!0}for(o in t)if(!u.hasOwnProperty(o)&&o.charAt(0)!=="$"&&t[o]!==n&&!q(t[o]))return!1;return!0}if(!I(t))return!1;if((s=e.length)==t.length){for(o=0;o<s;o++)if(!it(e[o],t[o]))return!1;return!0}}return!1}function st(){return t.securityPolicy&&t.securityPolicy.isActive||t.querySelector&&(!!t.querySelector("[ng-csp]")||!!t.querySelector("[data-ng-csp]"))}function ot(e,t,n){return e.concat(h.call(t,n))}function ut(e,t){return h.call(e,t||0)}function at(e,t){var n=arguments.length>2?ut(arguments,2):[];return!q(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(h.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ft(e,r){var i=r;return typeof e=="string"&&e.charAt(0)==="$"?i=n:U(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":z(r)&&(i="$SCOPE"),i}function lt(e,t){return typeof e=="undefined"?n:JSON.stringify(e,ft,t?"  ":null)}function ct(e){return B(e)?JSON.parse(e):e}function ht(e){if(typeof e=="function")e=!0;else if(e&&e.length!==0){var t=i(""+e);e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}function pt(e){e=l(e).clone();try{e.empty()}catch(t){}var n=3,r=l("<div>").append(e).html();try{return e[0].nodeType===n?i(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+i(t)})}catch(t){return i(r)}}function dt(e){try{return decodeURIComponent(e)}catch(t){}}function vt(e){var t={},n,r;return E((e||"").split("&"),function(e){if(e){n=e.split("="),r=dt(n[0]);if(P(r)){var i=P(n[1])?dt(n[1]):!0;t[r]?I(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}}}),t}function mt(e){var t=[];return E(e,function(e,n){I(e)?E(e,function(e){t.push(yt(n,!0)+(e===!0?"":"="+yt(e,!0)))}):t.push(yt(n,!0)+(e===!0?"":"="+yt(e,!0)))}),t.length?t.join("&"):""}function gt(e){return yt(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function yt(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function bt(e,n){function a(e){e&&r.push(e)}var r=[e],i,s,o=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;E(o,function(n){o[n]=!0,a(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(E(e.querySelectorAll("."+n),a),E(e.querySelectorAll("."+n+"\\:"),a),E(e.querySelectorAll("["+n+"]"),a))}),E(r,function(e){if(!i){var t=" "+e.className+" ",n=u.exec(t);n?(i=e,s=(n[2]||"").replace(/\s+/g,",")):E(e.attributes,function(t){!i&&o[t.name]&&(i=e,s=t.value)})}}),i&&n(i,s?[s]:[])}function wt(n,r){var i=function(){n=l(n);if(n.injector()){var e=n[0]===t?"document":pt(n);throw v("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng");var i=Cn(r);return i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},s=/^NG_DEFER_BOOTSTRAP!/;if(e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),m.resumeBootstrap=function(e){E(e,function(e){r.push(e)}),i()}}function St(e,t){return t=t||"_",e.replace(Et,function(e,n){return(n?t:"")+e.toLowerCase()})}function xt(){c=e.jQuery,c&&c.fn.on?(l=c,k(c.fn,{scope:pn.scope,isolateScope:pn.isolateScope,controller:pn.controller,injector:pn.injector,inheritedData:pn.inheritedData}),zt("remove",!0,!0,!1),zt("empty",!1,!1,!1),zt("html",!1,!1,!0)):l=Yt,m.element=l}function Tt(e,t,n){if(!e)throw v("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Nt(e,t,n){return n&&I(e)&&(e=e[e.length-1]),Tt(q(e),t,"not a function, got "+(e&&typeof e=="object"?e.constructor.name||"Object":typeof e)),e}function Ct(e,t){if(e==="hasOwnProperty")throw v("badname","hasOwnProperty is not a valid {0} name",t)}function kt(e,t,n){if(!t)return e;var r=t.split("."),i,s=e,o=r.length;for(var u=0;u<o;u++)i=r[u],e&&(e=(s=e)[i]);return!n&&q(e)?at(s,e):e}function Lt(e){var t=e[0],n=e[e.length-1];if(t===n)return l(t);var r=t,i=[r];do{r=r.nextSibling;if(!r)break;i.push(r)}while(r!==n);return l(i)}function At(e){function i(e,t,n){return e[t]||(e[t]=n())}var t=r("$injector"),n=r("ng"),s=i(e,"angular",Object);return s.$$minErr=s.$$minErr||r,i(s,"module",function(){var e={};return function(s,o,u){var a=function(e,t){if(e==="hasOwnProperty")throw n("badname","hasOwnProperty is not a valid {0} name",t)};return a(s,"module"),o&&e.hasOwnProperty(s)&&(e[s]=null),i(e,s,function(){function a(t,n,r){return function(){return e[r||"push"]([t,n,arguments]),i}}if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var e=[],n=[],r=a("$injector","invoke"),i={_invokeQueue:e,_runBlocks:n,requires:o,name:s,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:r,run:function(e){return n.push(e),this}};return u&&r(u),i})}})}function Mt(t){k(t,{bootstrap:wt,copy:nt,extend:k,equals:it,element:l,forEach:E,injector:Cn,noop:O,bind:at,toJson:lt,fromJson:ct,identity:M,isUndefined:D,isDefined:P,isString:B,isFunction:q,isObject:H,isNumber:j,isElement:J,isArray:I,version:Ot,isDate:F,lowercase:i,uppercase:o,callbacks:{counter:0},$$minErr:r,$$csp:st}),g=At(e);try{g("ngLocale")}catch(n){g("ngLocale",[]).provider("$locale",nr)}g("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:qr}),t.provider("$compile",Bn).directive({a:Si,input:Ri,textarea:Ri,form:ki,script:xs,select:Cs,style:Ls,option:ks,ngBind:Zi,ngBindHtml:ts,ngBindTemplate:es,ngClass:rs,ngClassEven:ss,ngClassOdd:is,ngCloak:os,ngController:us,ngForm:Li,ngHide:gs,ngIf:fs,ngInclude:ls,ngInit:hs,ngNonBindable:ps,ngPluralize:ds,ngRepeat:vs,ngShow:ms,ngStyle:ys,ngSwitch:bs,ngSwitchWhen:ws,ngSwitchDefault:Es,ngOptions:Ns,ngTransclude:Ss,ngModel:$i,ngList:Qi,ngChange:Ji,required:Ki,ngRequired:Ki,ngValue:Yi}).directive({ngInclude:cs}).directive(xi).directive(as),t.provider({$anchorScroll:kn,$animate:An,$browser:_n,$cacheFactory:Dn,$controller:Un,$document:zn,$exceptionHandler:Wn,$filter:ti,$interpolate:er,$interval:tr,$http:Kn,$httpBackend:Gn,$location:yr,$log:br,$parse:Hr,$rootScope:Ir,$q:Br,$sce:$r,$sceDelegate:Vr,$sniffer:Jr,$templateCache:Pn,$timeout:Kr,$window:ei,$$rAF:Fr,$$asyncCallback:On})}])}function Ft(){return++Pt}function Ut(e){return e.replace(It,function(e,t,n,r){return r?n.toUpperCase():n}).replace(qt,"Moz$1")}function zt(e,t,n,r){function s(e){var s=n&&e?[this.filter(e)]:[this],o=t,u,a,f,h,p,d,v;if(!r||e!=null)while(s.length){u=s.shift();for(a=0,f=u.length;a<f;a++){h=l(u[a]),o?h.triggerHandler("$destroy"):o=!o;for(p=0,d=(v=h.children()).length;p<d;p++)s.push(c(v[p]))}}return i.apply(this,arguments)}var i=c.fn[e];i=i.$original||i,s.$original=i,c.fn[e]=s}function Kt(e){return!Xt.test(e)}function Qt(e,t){var n,r,i,s,o=t.createDocumentFragment(),u=[],a,f,l;if(Kt(e))u.push(t.createTextNode(e));else{r=o.appendChild(t.createElement("div")),i=(Vt.exec(e)||["",""])[1].toLowerCase(),s=Jt[i]||Jt._default,r.innerHTML="<div>&#160;</div>"+s[1]+e.replace($t,"<$1></$2>")+s[2],r.removeChild(r.firstChild),a=s[0];while(a--)r=r.lastChild;for(f=0,l=r.childNodes.length;f<l;++f)u.push(r.childNodes[f]);r=o.firstChild,r.textContent=""}return o.textContent="",o.innerHTML="",u}function Gt(e,n){n=n||t;var r;return(r=Wt.exec(e))?[n.createElement(r[1])]:Qt(e,n)}function Yt(e){if(e instanceof Yt)return e;B(e)&&(e=$(e));if(!(this instanceof Yt)){if(B(e)&&e.charAt(0)!="<")throw Rt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Yt(e)}if(B(e)){fn(this,Gt(e));var n=l(t.createDocumentFragment());n.append(this)}else fn(this,e)}function Zt(e){return e.cloneNode(!0)}function en(e){nn(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)en(n[t])}function tn(e,t,n,r){if(P(r))throw Rt("offargs","jqLite#off() does not support the `selector` argument");var i=rn(e,"events"),s=rn(e,"handle");if(!s)return;D(t)?E(i,function(t,n){Bt(e,n,t),delete i[n]}):E(t.split(" "),function(t){D(n)?(Bt(e,t,i[t]),delete i[t]):et(i[t]||[],n)})}function nn(e,t){var r=e[Dt],i=_t[r];if(i){if(t){delete _t[r].data[t];return}i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),tn(e)),delete _t[r],e[Dt]=n}}function rn(e,t,n){var r=e[Dt],i=_t[r||-1];if(!P(n))return i&&i[t];i||(e[Dt]=r=Ft(),i=_t[r]={}),i[t]=n}function sn(e,t,n){var r=rn(e,"data"),i=P(n),s=!i&&P(t),o=s&&!H(t);!r&&!o&&rn(e,"data",r={});if(i)r[t]=n;else{if(!s)return r;if(o)return r&&r[t];k(r,t)}}function on(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function un(e,t){t&&e.setAttribute&&E(t.split(" "),function(t){e.setAttribute("class",$((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+$(t)+" "," ")))})}function an(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");E(t.split(" "),function(e){e=$(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",$(n))}}function fn(e,t){if(t){t=!t.nodeName&&P(t.length)&&!U(t)?t:[t];for(var n=0;n<t.length;n++)e.push(t[n])}}function ln(e,t){return cn(e,"$"+(t||"ngController")+"Controller")}function cn(e,t,r){e=l(e),e[0].nodeType==9&&(e=e.find("html"));var i=I(t)?t:[t];while(e.length){var s=e[0];for(var o=0,u=i.length;o<u;o++)if((r=e.data(i[o]))!==n)return r;e=l(s.parentNode||s.nodeType===11&&s.host)}}function hn(e){for(var t=0,n=e.childNodes;t<n.length;t++)en(n[t]);while(e.firstChild)e.removeChild(e.firstChild)}function mn(e,t){var n=dn[t.toLowerCase()];return n&&vn[e.nodeName]&&n}function gn(e,n){var r=function(r,i){r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t);if(D(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,s.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1};var o=rt(n[i||r.type]||[]);E(o,function(t){t.call(e,r)}),f<=8?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function yn(e,t){var r=typeof e,i;return r=="function"||r=="object"&&e!==null?typeof (i=e.$$hashKey)=="function"?i=e.$$hashKey():i===n&&(i=e.$$hashKey=(t||N)()):i=e,r+":"+i}function bn(e,t){if(t){var n=0;this.nextUid=function(){return++n}}E(e,this.put,this)}function Nn(e){var t,n,r,i;return typeof e=="function"?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(xn,""),r=n.match(wn),E(r[1].split(En),function(e){e.replace(Sn,function(e,n,r){t.push(r)})})),e.$inject=t):I(e)?(i=e.length-1,Nt(e[i],"fn"),t=e.slice(0,i)):Nt(e,"fn",!0),t}function Cn(e){function f(e){return function(t,n){if(!H(t))return e(t,n);E(t,T(e))}}function l(e,t){Ct(e,"service");if(q(t)||I(t))t=o.instantiate(t);if(!t.$get)throw Tn("pget","Provider '{0}' must define $get factory method.",e);return s[e+n]=t}function c(e,t){return l(e,{$get:t})}function h(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function p(e,t){return c(e,_(t))}function d(e,t){Ct(e,"constant"),s[e]=t,u[e]=t}function v(e,t){var r=o.get(e+n),i=r.$get;r.$get=function(){var e=a.invoke(i,r);return a.invoke(t,null,{$delegate:e})}}function m(e){var t=[],n,r,s,u;return E(e,function(e){if(i.get(e))return;i.put(e,!0);try{if(B(e)){n=g(e),t=t.concat(m(n.requires)).concat(n._runBlocks);for(r=n._invokeQueue,s=0,u=r.length;s<u;s++){var a=r[s],f=o.get(a[0]);f[a[1]].apply(f,a[2])}}else q(e)?t.push(o.invoke(e)):I(e)?t.push(o.invoke(e)):Nt(e,"module")}catch(l){throw I(e)&&(e=e[e.length-1]),l.message&&l.stack&&l.stack.indexOf(l.message)==-1&&(l=l.message+"\n"+l.stack),Tn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}),t}function y(e,i){function o(n){if(e.hasOwnProperty(n)){if(e[n]===t)throw Tn("cdep","Circular dependency found: {0}",n+" <- "+r.join(" <- "));return e[n]}try{return r.unshift(n),e[n]=t,e[n]=i(n)}catch(s){throw e[n]===t&&delete e[n],s}finally{r.shift()}}function u(e,t,n){var r=[],i=Nn(e),s,u,a;for(u=0,s=i.length;u<s;u++){a=i[u];if(typeof a!="string")throw Tn("itkn","Incorrect injection token! Expected service name as string, got {0}",a);r.push(n&&n.hasOwnProperty(a)?n[a]:o(a))}return e.$inject||(e=e[s]),e.apply(t,r)}function a(e,t){var n=function(){},r,i;return n.prototype=(I(e)?e[e.length-1]:e).prototype,r=new n,i=u(e,r,t),H(i)||q(i)?i:r}return{invoke:u,instantiate:a,get:o,annotate:Nn,has:function(t){return s.hasOwnProperty(t+n)||e.hasOwnProperty(t)}}}var t={},n="Provider",r=[],i=new bn([],!0),s={$provide:{provider:f(l),factory:f(c),service:f(h),value:f(p),constant:f(d),decorator:v}},o=s.$injector=y(s,function(){throw Tn("unpr","Unknown provider: {0}",r.join(" <- "))}),u={},a=u.$injector=y(u,function(e){var t=o.get(e+n);return a.invoke(t.$get,t)});return E(m(e),function(e){a.invoke(e||O)}),a}function kn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;return E(e,function(e){!t&&i(e.nodeName)==="a"&&(t=e)}),t}function u(){var e=n.hash(),r;e?(r=s.getElementById(e))?r.scrollIntoView():(r=o(s.getElementsByName(e)))?r.scrollIntoView():e==="top"&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(u)}),u}]}function On(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Mn(e,t,r,i){function v(e){try{e.apply(null,ut(arguments,1))}finally{p--;if(p===0)while(d.length)try{d.pop()()}catch(t){r.error(t)}}}function y(e,t){(function n(){E(m,function(e){e()}),g=t(n,e)})()}function N(){S=null;if(b==s.url())return;b=s.url(),E(x,function(e){e(s.url())})}var s=this,o=t[0],u=e.location,a=e.history,f=e.setTimeout,c=e.clearTimeout,h={};s.isMock=!1;var p=0,d=[];s.$$completeOutstandingRequest=v,s.$$incOutstandingRequestCount=function(){p++},s.notifyWhenNoOutstandingRequests=function(e){E(m,function(e){e()}),p===0?e():d.push(e)};var m=[],g;s.addPollFn=function(e){return D(g)&&y(100,f),m.push(e),e};var b=u.href,w=t.find("base"),S=null;s.url=function(t,n){u!==e.location&&(u=e.location),a!==e.history&&(a=e.history);if(t){if(b==t)return;return b=t,i.history?n?a.replaceState(null,"",t):(a.pushState(null,"",t),w.attr("href",w.attr("href"))):(S=t,n?u.replace(t):u.href=t),s}return S||u.href.replace(/%27/g,"'")};var x=[],T=!1;s.onUrlChange=function(t){return T||(i.history&&l(e).on("popstate",N),i.hashchange?l(e).on("hashchange",N):s.addPollFn(N),T=!0),x.push(t),t},s.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},k="",L=s.baseHref();s.cookies=function(e,t){var i,s,u,a,f;if(!e){if(o.cookie!==k){k=o.cookie,s=k.split("; "),C={};for(a=0;a<s.length;a++)u=s[a],f=u.indexOf("="),f>0&&(e=unescape(u.substring(0,f)),C[e]===n&&(C[e]=unescape(u.substring(f+1))))}return C}t===n?o.cookie=escape(e)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT":B(t)&&(i=(o.cookie=escape(e)+"="+escape(t)+";path="+L).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},s.defer=function(e,t){var n;return p++,n=f(function(){delete h[n],v(e)},t||0),h[n]=!0,n},s.defer.cancel=function(e){return h[e]?(delete h[e],c(e),v(O),!0):!1}}function _n(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Mn(e,r,t,n)}]}function Dn(){this.$get=function(){function t(t,n){function c(e){e!=f&&(l?l==e&&(l=e.n):l=e,h(e.n,e.p),h(e,f),f=e,f.n=null)}function h(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,s=k({},n,{id:t}),o={},u=n&&n.capacity||Number.MAX_VALUE,a={},f=null,l=null;return e[t]={put:function(e,t){if(u<Number.MAX_VALUE){var n=a[e]||(a[e]={key:e});c(n)}if(D(t))return;return e in o||i++,o[e]=t,i>u&&this.remove(l.key),t},get:function(e){if(u<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return o[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=a[e];if(!t)return;t==f&&(f=t.p),t==l&&(l=t.n),h(t.n,t.p),delete a[e]}delete o[e],i--},removeAll:function(){o={},i=0,a={},f=l=null},destroy:function(){o=null,s=null,a=null,delete e[t]},info:function(){return k({},s,{size:i})}}}var e={};return t.info=function(){var t={};return E(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Pn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Bn(e,r){var i={},s="Directive",o=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,u=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,a=/^(on[a-z]+|formaction)$/;this.directive=function c(t,n){return Ct(t,"directive"),B(t)?(Tt(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+s,["$injector","$exceptionHandler",function(e,n){var r=[];return E(i[t],function(i,s){try{var o=e.invoke(i);q(o)?o={compile:_(o)}:!o.compile&&o.link&&(o.compile=_(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",r.push(o)}catch(u){n(u)}}),r}])),i[t].push(n)):E(t,T(c)),this},this.aHrefSanitizationWhitelist=function(e){return P(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return P(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,c,h,p,d,v,m,g,b,w,S){function O(e,t,n,r,i){e instanceof l||(e=l(e)),E(e,function(t,n){t.nodeType==3&&t.nodeValue.match(/\S+/)&&(e[n]=t=l(t).wrap("<span></span>").parent()[0])});var s=D(e,t,e,n,r,i);return _(e,"ng-scope"),function(n,r,i,o){Tt(n,"scope");var u=r?pn.clone.call(e):e;E(i,function(e,t){u.data("$"+t+"Controller",e)});for(var a=0,f=u.length;a<f;a++){var l=u[a],c=l.nodeType;(c===1||c===9)&&u.eq(a).data("$scope",n)}return r&&r(u,n),s&&s(n,u,u,o),u}}function _(e,t){try{e.addClass(t)}catch(n){}}function D(e,t,r,i,s,o){function m(e,r,i,s){var o,a,f,c,h,p,d,v,m,g=r.length,y=new Array(g);for(p=0;p<g;p++)y[p]=r[p];for(p=0,v=0,d=u.length;p<d;v++)f=y[v],o=u[p++],a=u[p++],c=l(f),o?(o.scope?(h=e.$new(),c.data("$scope",h)):h=e,o.transcludeOnThisElement?m=P(e,o.transclude,s):!o.templateOnThisElement&&s?m=s:!s&&t?m=P(e,t):m=null,o(a,h,f,i,m)):a&&a(e,f.childNodes,n,s)}var u=[],a,f,c,h,p,d;for(var v=0;v<e.length;v++)a=new x,f=j(e[v],[],a,v===0?i:n,s),c=f.length?U(f,e[v],a,t,r,null,[],[],o):null,c&&c.scope&&_(l(e[v]),"ng-scope"),p=c&&c.terminal||!(h=e[v].childNodes)||!h.length?null:D(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),u.push(c,p),d=d||c||p,o=null;return d?m:null}function P(e,t,n){var r=function(r,i,s){var o=!1;r||(r=e.$new(),r.$$transcluded=!0,o=!0);var u=t(r,i,s,n);return o&&u.on("$destroy",function(){r.$destroy()}),u};return r}function j(e,t,n,r,i){var s=e.nodeType,a=n.$attr,l,c;switch(s){case 1:W(t,Fn(y(e).toLowerCase()),"E",r,i);for(var h,p,d,v,m,g,b=e.attributes,w=0,E=b&&b.length;w<E;w++){var S=!1,x=!1;h=b[w];if(!f||f>=8||h.specified){p=h.name,m=$(h.value),v=Fn(p);if(g=L.test(v))p=St(v.substr(6),"-");var T=v.replace(/(Start|End)$/,"");v===T+"Start"&&(S=p,x=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),d=Fn(p.toLowerCase()),a[d]=p;if(g||!n.hasOwnProperty(d))n[d]=m,mn(e,d)&&(n[d]=!0);Y(e,t,m,d),W(t,d,"A",r,i,S,x)}}c=e.className;if(B(c)&&c!=="")while(l=u.exec(c))d=Fn(l[2]),W(t,d,"C",r,i)&&(n[d]=$(l[3])),c=c.substr(l.index+l[0].length);break;case 3:Q(t,e.nodeValue);break;case 8:try{l=o.exec(e.nodeValue),l&&(d=Fn(l[1]),W(t,d,"M",r,i)&&(n[d]=$(l[2])))}catch(N){}}return t.sort(J),t}function F(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){var s=e;do{if(!e)throw Hn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==1&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return l(r)}function R(e,t,n){return function(r,i,s,o,u){return i=F(i[0],t,n),e(r,i,s,o,u)}}function U(e,i,s,o,u,a,f,h,p){function ft(e,t,n,r){if(e){n&&(e=R(e,n,r)),e.require=A.require,e.directiveName=M;if(b===A||A.$$isolateScope)e=et(e,{isolateScope:!0});f.push(e)}if(t){n&&(t=R(t,n,r)),t.require=A.require,t.directiveName=M;if(b===A||A.$$isolateScope)t=et(t,{isolateScope:!0});h.push(t)}}function lt(e,t,n,r){var i,s="data",o=!1;if(B(t)){while((i=t.charAt(0))=="^"||i=="?")t=t.substr(1),i=="^"&&(s="inheritedData"),o=o||i=="?";i=null,r&&s==="data"&&(i=r[t]),i=i||n[s]("$"+t+"Controller");if(!i&&!o)throw Hn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i}return I(t)&&(i=[],E(t,function(t){i.push(lt(e,t,n,r))})),i}function ct(e,t,o,u,a){function H(e,t){var r;return arguments.length<2&&(t=e,e=n),k&&(r=L),a(e,t,r)}var p,m,g,S,T,N,C,L={},A;i===o?p=s:p=rt(s,new x(l(o),s.$attr)),m=p.$$element;if(b){var O=/^\s*([@=&])(\??)\s*(\w*)\s*$/,M=l(o);C=t.$new(!0),!w||w!==b&&w!==b.$$originalDirective?M.data("$isolateScopeNoTemplate",C):M.data("$isolateScope",C),_(M,"ng-isolate-scope"),E(b.scope,function(e,n){var i=e.match(O)||[],s=i[3]||n,o=i[2]=="?",u=i[1],a,f,l,c;C.$$isolateBindings[n]=u+s;switch(u){case"@":p.$observe(s,function(e){C[n]=e}),p.$$observers[s].$$scope=t,p[s]&&(C[n]=r(p[s])(t));break;case"=":if(o&&!p[s])return;f=d(p[s]),f.literal?c=it:c=function(e,t){return e===t},l=f.assign||function(){throw a=C[n]=f(t),Hn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",p[s],b.name)},a=C[n]=f(t),C.$watch(function(){var r=f(t);return c(r,C[n])||(c(r,a)?l(t,r=C[n]):C[n]=r),a=r},null,f.literal);break;case"&":f=d(p[s]),C[n]=function(e){return f(t,e)};break;default:throw Hn("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b.name,n,e)}})}A=a&&H,y&&E(y,function(e){var n={$scope:e===b||e.$$isolateScope?C:t,$element:m,$attrs:p,$transclude:A},r;N=e.controller,N=="@"&&(N=p[e.name]),r=v(N,n),L[e.name]=r,k||m.data("$"+e.name+"Controller",r),e.controllerAs&&(n.$scope[e.controllerAs]=r)});for(g=0,S=f.length;g<S;g++)try{T=f[g],T(T.isolateScope?C:t,m,p,T.require&&lt(T.directiveName,T.require,m,L),A)}catch(D){c(D,pt(m))}var P=t;b&&(b.template||b.templateUrl===null)&&(P=C),e&&e(P,o.childNodes,n,a);for(g=h.length-1;g>=0;g--)try{T=h[g],T(T.isolateScope?C:t,m,p,T.require&&lt(T.directiveName,T.require,m,L),A)}catch(D){c(D,pt(m))}}p=p||{};var m=-Number.MAX_VALUE,g,y=p.controllerDirectives,b=p.newIsolateScopeDirective,w=p.templateDirective,S=p.nonTlbTranscludeDirective,T=!1,N=!1,k=p.hasElementTranscludeDirective,L=s.$$element=l(i),A,M,D,P=a,U=o,W,J;for(var Q=0,G=e.length;Q<G;Q++){A=e[Q];var Y=A.$$start,tt=A.$$end;Y&&(L=F(i,Y,tt)),D=n;if(m>A.priority)break;if(J=A.scope)g=g||A,A.templateUrl||(K("new/isolated scope",b,A,L),H(J)&&(b=A));M=A.name,!A.templateUrl&&A.controller&&(J=A.controller,y=y||{},K("'"+M+"' controller",y[M],A,L),y[M]=A);if(J=A.transclude)T=!0,A.$$tlb||(K("transclusion",S,A,L),S=A),J=="element"?(k=!0,m=A.priority,D=F(i,Y,tt),L=s.$$element=l(t.createComment(" "+M+": "+s[M]+" ")),i=L[0],Z(u,l(ut(D)),i),U=O(D,o,m,P&&P.name,{nonTlbTranscludeDirective:S})):(D=l(Zt(i)).contents(),L.empty(),U=O(D,o));if(A.template){N=!0,K("template",w,A,L),w=A,J=q(A.template)?A.template(L,s):A.template,J=C(J);if(A.replace){P=A,Kt(J)?D=[]:D=l($(J)),i=D[0];if(D.length!=1||i.nodeType!==1)throw Hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",M,"");Z(u,L,i);var nt={$attr:{}},st=j(i,[],nt),ot=e.splice(Q+1,e.length-(Q+1));b&&z(st),e=e.concat(st).concat(ot),X(s,nt),G=e.length}else L.html(J)}if(A.templateUrl)N=!0,K("template",w,A,L),w=A,A.replace&&(P=A),ct=V(e.splice(Q,e.length-Q),L,s,u,T&&U,f,h,{controllerDirectives:y,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:S}),G=e.length;else if(A.compile)try{W=A.compile(L,s,U),q(W)?ft(null,W,Y,tt):W&&ft(W.pre,W.post,Y,tt)}catch(at){c(at,pt(L))}A.terminal&&(ct.terminal=!0,m=Math.max(m,A.priority))}return ct.scope=g&&g.scope===!0,ct.transcludeOnThisElement=T,ct.templateOnThisElement=N,ct.transclude=U,p.hasElementTranscludeDirective=k,ct}function z(e){for(var t=0,n=e.length;t<n;t++)e[t]=A(e[t],{$$isolateScope:!0})}function W(t,r,o,u,a,f,l){if(r===a)return null;var h=null;if(i.hasOwnProperty(r))for(var p,d=e.get(r+s),v=0,m=d.length;v<m;v++)try{p=d[v],(u===n||u>p.priority)&&p.restrict.indexOf(o)!=-1&&(f&&(p=A(p,{$$start:f,$$end:l})),t.push(p),h=p)}catch(g){c(g)}return h}function X(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;E(e,function(r,i){i.charAt(0)!="$"&&(t[i]&&t[i]!==r&&(r+=(i==="style"?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),E(t,function(t,s){s=="class"?(_(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):s=="style"?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):s.charAt(0)!="$"&&!e.hasOwnProperty(s)&&(e[s]=t,r[s]=n[s])})}function V(e,t,n,r,i,s,o,u){var a=[],f,c,d=t[0],v=e.shift(),m=k({},v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=q(v.templateUrl)?v.templateUrl(t,n):v.templateUrl;return t.empty(),h.get(b.getTrustedResourceUrl(g),{cache:p}).success(function(h){var p,y,b,w;h=C(h);if(v.replace){Kt(h)?b=[]:b=l($(h)),p=b[0];if(b.length!=1||p.nodeType!==1)throw Hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);y={$attr:{}},Z(r,t,p);var S=j(p,[],y);H(v.scope)&&z(S),e=S.concat(e),X(n,y)}else p=d,t.html(h);e.unshift(m),f=U(e,p,n,i,t,v,s,o,u),E(r,function(e,n){e==p&&(r[n]=t[0])}),c=D(t[0].childNodes,i);while(a.length){var x=a.shift(),T=a.shift(),N=a.shift(),k=a.shift(),L=t[0];if(T!==d){var A=T.className;if(!u.hasElementTranscludeDirective||!v.replace)L=Zt(p);Z(N,l(T),L),_(l(L),A)}f.transcludeOnThisElement?w=P(x,f.transclude,k):w=k,f(c,x,L,r,w)}a=null}).error(function(e,t,n,r){throw Hn("tpload","Failed to load template: {0}",r.url)}),function(t,n,r,i,s){var o=s;a?(a.push(n),a.push(r),a.push(i),a.push(o)):(f.transcludeOnThisElement&&(o=P(n,f.transclude,s)),f(c,n,r,i,o))}}function J(e,t){var n=t.priority-e.priority;return n!==0?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,r){if(t)throw Hn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,pt(r))}function Q(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(t){var r=t.parent(),i=r.length;return i&&_(t.parent(),"ng-binding"),function(t,r){var s=r.parent(),o=s.data("$binding")||[];o.push(n),s.data("$binding",o),i||_(s,"ng-binding"),t.$watch(n,function(t){r[0].nodeValue=t})}}})}function G(e,t){if(t=="srcdoc")return b.HTML;var n=y(e);if(t=="xlinkHref"||n=="FORM"&&t=="action"||n!="IMG"&&(t=="src"||t=="ngSrc"))return b.RESOURCE_URL}function Y(e,t,n,i){var s=r(n,!0);if(!s)return;if(i==="multiple"&&y(e)==="SELECT")throw Hn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",pt(e));t.push({priority:100,compile:function(){return{pre:function(n,o,u){var f=u.$$observers||(u.$$observers={});if(a.test(i))throw Hn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");s=r(u[i],!0,G(e,i));if(!s)return;u[i]=s(n),(f[i]||(f[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||n).$watch(s,function(t,n){i==="class"&&t!=n?u.$updateClass(t,n):u.$set(i,t)})}}}})}function Z(e,n,r){var i=n[0],s=n.length,o=i.parentNode,u,a;if(e)for(u=0,a=e.length;u<a;u++)if(e[u]==i){e[u++]=r;for(var f=u,c=f+s-1,h=e.length;f<h;f++,c++)c<h?e[f]=e[c]:delete e[f];e.length-=s-1;break}o&&o.replaceChild(r,i);var p=t.createDocumentFragment();p.appendChild(i),r[l.expando]=i[l.expando];for(var d=1,v=n.length;d<v;d++){var m=n[d];l(m).remove(),p.appendChild(m),delete n[d]}n[0]=r,n.length=1}function et(e,t){return k(function(){return e.apply(null,arguments)},e,t)}var x=function(e,t){this.$$element=e,this.$attr=t||{}};x.prototype={$normalize:Fn,$addClass:function(e){e&&e.length>0&&w.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&w.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Rn(e,t),r=Rn(t,e);n.length===0?w.removeClass(this.$$element,r):r.length===0?w.addClass(this.$$element,n):w.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var s=mn(this.$$element[0],e),o,u;s&&(this.$$element.prop(e,t),i=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=St(e,"-"))),u=y(this.$$element);if(u==="A"&&e==="href"||u==="IMG"&&e==="src")this[e]=t=S(t,e==="src");r!==!1&&(t===null||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var a=this.$$observers;a&&E(a[e],function(e){try{e(t)}catch(n){c(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),m.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var T=r.startSymbol(),N=r.endSymbol(),C=T=="{{"||N=="}}"?M:function(t){return t.replace(/\{\{/g,T).replace(/}}/g,N)},L=/^ngAttr[A-Z]/;return O}]}function Fn(e){return Ut(e.replace(jn,""))}function In(e,t,n,r){}function qn(e,t,n,r,i){}function Rn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var s=0;s<r.length;s++){var o=r[s];for(var u=0;u<i.length;u++)if(o==i[u])continue e;n+=(n.length>0?" ":"")+o}return n}function Un(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){Ct(t,"controller"),H(t)?k(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(s,o){var u,a,f,l;B(s)&&(a=s.match(t),f=a[1],l=a[3],s=e.hasOwnProperty(f)?e[f]:kt(o.$scope,f,!0)||kt(i,f,!0),Nt(s,f,!0)),u=n.instantiate(s,o);if(l){if(!o||typeof o.$scope!="object")throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",f||s.name,l);o.$scope[l]=u}return u}}]}function zn(){this.$get=["$window",function(e){return l(e.document)}]}function Wn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Xn(e){var t={},n,r,s;return e?(E(e.split("\n"),function(e){s=e.indexOf(":"),n=i($(e.substr(0,s))),r=$(e.substr(s+1)),n&&(t[n]?t[n]+=", "+r:t[n]=r)}),t):t}function Vn(e){var t=H(e)?e:n;return function(n){return t||(t=Xn(e)),n?t[i(n)]||null:t}}function $n(e,t,n){return q(n)?n(e,t):(E(n,function(n){e=n(e,t)}),e)}function Jn(e){return 200<=e&&e<300}function Kn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,s={"Content-Type":"application/json;charset=utf-8"},u=this.defaults={transformResponse:[function(n){return B(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=ct(n))),n}],transformRequest:[function(e){return H(e)&&!W(e)&&!X(e)?lt(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:rt(s),put:rt(s),patch:rt(s)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],f=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,s,l,c){function d(e){function d(e){var n=k({},e,{data:$n(e.data,e.headers,t.transformResponse)});return Jn(e.status)?n:l.reject(n)}function v(e){function a(e){var t;E(e,function(n,r){q(n)&&(t=n(),t!=null?e[r]=t:delete e[r])})}var t=u.headers,n=k({},e.headers),r,s,o;t=k({},t.common,t[i(e.method)]),a(t),a(n);e:for(r in t){s=i(r);for(o in n)if(i(o)===s)continue e;n[r]=t[r]}return n}var t={method:"get",transformRequest:u.transformRequest,transformResponse:u.transformResponse},r=v(e);k(t,e),t.headers=r,t.method=o(t.method);var s=function(e){r=e.headers;var t=$n(e.data,Vn(r),e.transformRequest);return D(e.data)&&E(r,function(e,t){i(t)==="content-type"&&delete r[t]}),D(e.withCredentials)&&!D(u.withCredentials)&&(e.withCredentials=u.withCredentials),g(e,t,r).then(d,d)},a=[s,n],f=l.when(t);E(p,function(e){(e.request||e.requestError)&&a.unshift(e.request,e.requestError),(e.response||e.responseError)&&a.push(e.response,e.responseError)});while(a.length){var c=a.shift(),h=a.shift();f=f.then(c,h)}return f.success=function(e){return f.then(function(n){e(n.data,n.status,n.headers,t)}),f},f.error=function(e){return f.then(null,function(n){e(n.data,n.status,n.headers,t)}),f},f}function v(e){E(arguments,function(e){d[e]=function(t,n){return d(k(n||{},{method:e,url:t}))}})}function m(e){E(arguments,function(e){d[e]=function(t,n,r){return d(k(r||{},{method:e,url:t,data:n}))}})}function g(r,i,o){function g(e,t,n,r){c&&(Jn(e)?c.put(v,[e,t,Xn(n),r]):c.remove(v)),b(t,e,n,r),s.$$phase||s.$apply()}function b(e,t,n,i){t=Math.max(t,0),(Jn(t)?a.resolve:a.reject)({data:e,status:t,headers:Vn(n),config:r,statusText:i})}function w(){var e=Z(d.pendingRequests,r);e!==-1&&d.pendingRequests.splice(e,1)}var a=l.defer(),f=a.promise,c,p,v=y(r.url,r.params);d.pendingRequests.push(r),f.then(w,w),(r.cache||u.cache)&&r.cache!==!1&&r.method=="GET"&&(c=H(r.cache)?r.cache:H(u.cache)?u.cache:h);if(c){p=c.get(v);if(P(p)){if(p.then)return p.then(w,w),p;I(p)?b(p[1],p[0],rt(p[2]),p[3]):b(p,200,{},"OK")}else c.put(v,f)}if(D(p)){var m=Zr(r.url)?t.cookies()[r.xsrfCookieName||u.xsrfCookieName]:n;m&&(o[r.xsrfHeaderName||u.xsrfHeaderName]=m),e(r.method,v,i,g,o,r.timeout,r.withCredentials,r.responseType)}return f}function y(e,t){if(!t)return e;var n=[];return x(t,function(e,t){if(e===null||D(e))return;I(e)||(e=[e]),E(e,function(e){H(e)&&(e=lt(e)),n.push(yt(t)+"="+yt(e))})}),n.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+n.join("&")),e}var h=r("$http"),p=[];return E(a,function(e){p.unshift(B(e)?c.get(e):c.invoke(e))}),E(f,function(e,t){var n=B(e)?c.get(e):c.invoke(e);p.splice(t,0,{response:function(e){return n(l.when(e))},responseError:function(e){return n(l.reject(e))}})}),d.pendingRequests=[],v("get","delete","head","jsonp"),m("post","put"),d.defaults=u,d}]}function Qn(t){if(f<=8&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Gn(){this.$get=["$browser","$window","$document",function(e,t,n){return Yn(e,Qn,e.defer,t.angular.callbacks,n[0])}]}function Yn(e,t,n,r,s){function u(e,t,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){Bt(i,"load",o),Bt(i,"error",o),s.body.removeChild(i),i=null;var u=-1,a="unknown";e&&(e.type==="load"&&!r[t].called&&(e={type:"error"}),a=e.type,u=e.type==="error"?404:200),n&&n(u,a)},Ht(i,"load",o),Ht(i,"error",o),f<=8&&(i.onreadystatechange=function(){B(i.readyState)&&/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=null,o({type:"load"}))}),s.body.appendChild(i),o}var o=-1;return function(s,a,f,l,c,h,p,d){function S(){v=o,g&&g(),y&&y.abort()}function x(t,r,i,s,o){w&&n.cancel(w),g=y=null,r===0&&(r=i?200:Yr(a).protocol=="file"?404:0),r=r===1223?204:r,o=o||"",t(r,i,s,o),e.$$completeOutstandingRequest(O)}var v;e.$$incOutstandingRequestCount(),a=a||e.url();if(i(s)=="jsonp"){var m="_"+(r.counter++).toString(36);r[m]=function(e){r[m].data=e,r[m].called=!0};var g=u(a.replace("JSON_CALLBACK","angular.callbacks."+m),m,function(e,t){x(l,e,r[m].data,"",t),r[m]=O})}else{var y=t(s);y.open(s,a,!0),E(c,function(e,t){P(e)&&y.setRequestHeader(t,e)}),y.onreadystatechange=function(){if(y&&y.readyState==4){var e=null,t=null;v!==o&&(e=y.getAllResponseHeaders(),t="response"in y?y.response:y.responseText),x(l,v||y.status,t,e,y.statusText||"")}},p&&(y.withCredentials=!0);if(d)try{y.responseType=d}catch(b){if(d!=="json")throw b}y.send(f||null)}if(h>0)var w=n(S,h);else h&&h.then&&h.then(S)}}function er(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function u(u,a,f){var l,c,h=0,p=[],d=u.length,v=!1,m,g,y=[];while(h<d)(l=u.indexOf(e,h))!=-1&&(c=u.indexOf(t,l+s))!=-1?(h!=l&&p.push(u.substring(h,l)),p.push(m=n(g=u.substring(l+s,c))),m.exp=g,h=c+o,v=!0):(h!=d&&p.push(u.substring(h)),h=d);(d=p.length)||(p.push(""),d=1);if(f&&p.length>1)throw Zn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",u);if(!a||v)return y.length=d,m=function(e){try{for(var t=0,n=d,s;t<n;t++){if(typeof (s=p[t])=="function"){s=s(e),f?s=i.getTrusted(f,s):s=i.valueOf(s);if(s==null)s="";else switch(typeof s){case"string":break;case"number":s=""+s;break;default:s=lt(s)}}y[t]=s}return y.join("")}catch(o){var a=Zn("interr","Can't interpolate: {0}\n{1}",u,o.toString());r(a)}},m.exp=u,m.parts=p,m}var s=e.length,o=t.length;return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function tr(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,s,o,u){var a=t.setInterval,f=t.clearInterval,l=n.defer(),c=l.promise,h=0,p=P(u)&&!u;return o=P(o)?o:0,c.then(null,null,i),c.$$intervalId=a(function(){l.notify(h++),o>0&&h>=o&&(l.resolve(h),f(c.$$intervalId),delete r[c.$$intervalId]),p||e.$apply()},s),r[c.$$intervalId]=l,c}var r={};return i.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},i}]}function nr(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return e===1?"one":"other"}}}}function or(e){var t=e.split("/"),n=t.length;while(n--)t[n]=gt(t[n]);return t.join("/")}function ur(e,t,n){var r=Yr(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=L(r.port)||ir[r.protocol]||null}function ar(e,t,n){var r=e.charAt(0)!=="/";r&&(e="/"+e);var i=Yr(e,n);t.$$path=decodeURIComponent(r&&i.pathname.charAt(0)==="/"?i.pathname.substring(1):i.pathname),t.$$search=vt(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&t.$$path.charAt(0)!="/"&&(t.$$path="/"+t.$$path)}function fr(e,t){if(t.indexOf(e)===0)return t.substr(e.length)}function lr(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function cr(e){return e.substr(0,lr(e).lastIndexOf("/")+1)}function hr(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function pr(e,t){this.$$html5=!0,t=t||"";var r=cr(e);ur(e,this,e),this.$$parse=function(t){var n=fr(r,t);if(!B(n))throw sr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);ar(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=mt(this.$$search),t=this.$$hash?"#"+gt(this.$$hash):"";this.$$url=or(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var s,o;if((s=fr(e,i))!==n)return o=s,(s=fr(t,s))!==n?r+(fr("/",s)||s):e+o;if((s=fr(r,i))!==n)return r+s;if(r==i+"/")return r}}function dr(e,t){var n=cr(e);ur(e,this,e),this.$$parse=function(r){function o(e,t,n){var r=/^\/[A-Z]:(\/.*)/,i;return t.indexOf(n)===0&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var i=fr(e,r)||fr(n,r),s=i.charAt(0)=="#"?fr(t,i):this.$$html5?i:"";if(!B(s))throw sr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,t);ar(s,this,e),this.$$path=o(this.$$path,s,e),this.$$compose()},this.$$compose=function(){var n=mt(this.$$search),r=this.$$hash?"#"+gt(this.$$hash):"";this.$$url=or(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){if(lr(e)==lr(t))return t}}function vr(e,t){this.$$html5=!0,dr.apply(this,arguments);var n=cr(e);this.$$rewrite=function(r){var i;if(e==lr(r))return r;if(i=fr(n,r))return e+t+i;if(n===r+"/")return n},this.$$compose=function(){var n=mt(this.$$search),r=this.$$hash?"#"+gt(this.$$hash):"";this.$$url=or(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function mr(e){return function(){return this[e]}}function gr(e,t){return function(n){return D(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function yr(){var t="",n=!1;this.hashPrefix=function(e){return P(e)?(t=e,this):t},this.html5Mode=function(e){return P(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,s,o,u){function v(e){r.$broadcast("$locationChangeSuccess",a.absUrl(),e)}var a,f,c=s.baseHref(),h=s.url(),p;n?(p=hr(h)+(c||"/"),f=o.history?pr:vr):(p=lr(h),f=dr),a=new f(p,"#"+t),a.$$parse(a.$$rewrite(h)),u.on("click",function(n){if(n.ctrlKey||n.metaKey||n.which==2)return;var o=l(n.target);while(i(o[0].nodeName)!=="a")if(o[0]===u[0]||!(o=o.parent())[0])return;var c=o.prop("href");H(c)&&c.toString()==="[object SVGAnimatedString]"&&(c=Yr(c.animVal).href);if(f===vr){var h=o.attr("href")||o.attr("xlink:href");if(h.indexOf("://")<0){var d="#"+t;if(h[0]=="/")c=p+d+h;else if(h[0]=="#")c=p+d+(a.path()||"/")+h;else{var v=a.path().split("/"),m=h.split("/");for(var g=0;g<m.length;g++){if(m[g]==".")continue;m[g]==".."?v.pop():m[g].length&&v.push(m[g])}c=p+d+v.join("/")}}}var y=a.$$rewrite(c);c&&!o.attr("target")&&y&&!n.isDefaultPrevented()&&(n.preventDefault(),y!=s.url()&&(a.$$parse(y),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}),a.absUrl()!=h&&s.url(a.absUrl(),!0),s.onUrlChange(function(e){a.absUrl()!=e&&(r.$evalAsync(function(){var t=a.absUrl();a.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(a.$$parse(t),s.url(t)):v(t)}),r.$$phase||r.$digest())});var d=0;return r.$watch(function(){var t=s.url(),n=a.$$replace;if(!d||t!=a.absUrl())d++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",a.absUrl(),t).defaultPrevented?a.$$parse(t):(s.url(a.absUrl(),n),v(t))});return a.$$replace=!1,d}),a}]}function br(){var e=!0,t=this;this.debugEnabled=function(t){return P(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||O,s=!1;try{s=!!i.apply}catch(o){}return s?function(){var e=[];return E(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,t==null?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function xr(e,t){if(e==="constructor")throw wr("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',t);return e}function Tr(e,t){if(e){if(e.constructor===e)throw wr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw wr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw wr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t)}return e}function Ar(e,t,r,i,s){s=s||{};var o=t.split("."),u;for(var a=0;o.length>1;a++){u=xr(o.shift(),i);var f=e[u];f||(f={},e[u]=f),e=f,e.then&&s.unwrapPromises&&(Sr(i),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return u=xr(o.shift(),i),e[u]=r,r}function Mr(e,t,r,i,s,o,u){return xr(e,o),xr(t,o),xr(r,o),xr(i,o),xr(s,o),u.unwrapPromises?function(a,f){var l=f&&f.hasOwnProperty(e)?f:a,c;return l==null?l:(l=l[e],l&&l.then&&(Sr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),t?l==null?n:(l=l[t],l&&l.then&&(Sr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),r?l==null?n:(l=l[r],l&&l.then&&(Sr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),i?l==null?n:(l=l[i],l&&l.then&&(Sr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),s?l==null?n:(l=l[s],l&&l.then&&(Sr(o),"$$v"in l||(c=l,c.$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),l):l):l):l):l)}:function(u,a){var f=a&&a.hasOwnProperty(e)?a:u;return f==null?f:(f=f[e],t?f==null?n:(f=f[t],r?f==null?n:(f=f[r],i?f==null?n:(f=f[i],s?f==null?n:(f=f[s],f):f):f):f):f)}}function _r(e,t){return xr(e,t),function(r,i){return r==null?n:(i&&i.hasOwnProperty(e)?i:r)[e]}}function Dr(e,t,r){return xr(e,r),xr(t,r),function(i,s){return i==null?n:(i=(s&&s.hasOwnProperty(e)?s:i)[e],i==null?n:i[t])}}function Pr(e,t,r){if(Or.hasOwnProperty(e))return Or[e];var i=e.split("."),s=i.length,o;if(!t.unwrapPromises&&s===1)o=_r(i[0],r);else if(!t.unwrapPromises&&s===2)o=Dr(i[0],i[1],r);else if(t.csp)s<6?o=Mr(i[0],i[1],i[2],i[3],i[4],r,t):o=function(e,o){var u=0,a;do a=Mr(i[u++],i[u++],i[u++],i[u++],i[u++],r,t)(e,o),o=n,e=a;while(u<s);return a};else{var u="var p;\n";E(i,function(e,n){xr(e,r),u+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n'+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n":"")}),u+="return s;";var a=new Function("s","k","pw",u);a.toString=_(u),o=t.unwrapPromises?function(e,t){return a(e,t,Sr)}:a}return e!=="hasOwnProperty"&&(Or[e]=o),o}function Hr(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return P(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return P(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,Sr=function(n){if(!t.logPromiseWarnings||Er.hasOwnProperty(n))return;Er[n]=!0,i.warn("[$parse] Promise found in the expression `"+n+"`. "+"Automatic unwrapping of promises in Angular expressions is deprecated.")},function(r){var i;switch(typeof r){case"string":if(e.hasOwnProperty(r))return e[r];var s=new kr(t),o=new Lr(s,n,t);return i=o.parse(r),r!=="hasOwnProperty"&&(e[r]=i),i;case"function":return r;default:return O}}}]}function Br(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return jr(function(t){e.$evalAsync(t)},t)}]}function jr(e,t){function a(e){return e}function f(e){return s(e)}function l(e){var t=r(),n=0,s=I(e)?[]:{};return E(e,function(e,r){n++,i(e).then(function(e){if(s.hasOwnProperty(r))return;s[r]=e,--n||t.resolve(s)},function(e){if(s.hasOwnProperty(r))return;t.reject(e)})}),n===0&&t.resolve(s),t.promise}var r=function(){var s=[],u,l;return l={resolve:function(t){if(s){var r=s;s=n,u=i(t),r.length&&e(function(){var e;for(var t=0,n=r.length;t<n;t++)e=r[t],u.then(e[0],e[1],e[2])})}},reject:function(e){l.resolve(o(e))},notify:function(t){if(s){var n=s;s.length&&e(function(){var e;for(var r=0,i=n.length;r<i;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,i){var o=r(),l=function(n){try{o.resolve((q(e)?e:a)(n))}catch(r){o.reject(r),t(r)}},c=function(e){try{o.resolve((q(n)?n:f)(e))}catch(r){o.reject(r),t(r)}},h=function(e){try{o.notify((q(i)?i:a)(e))}catch(n){t(n)}};return s?s.push([l,c,h]):u.then(l,c,h),o.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=r();return t?n.resolve(e):n.reject(e),n.promise}function n(n,r){var i=null;try{i=(e||a)()}catch(s){return t(s,!1)}return i&&q(i.then)?i.then(function(){return t(n,r)},function(e){return t(e,!1)}):t(n,r)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}},l},i=function(t){return t&&q(t.then)?t:{then:function(n){var i=r();return e(function(){i.resolve(n(t))}),i.promise}}},s=function(e){var t=r();return t.reject(e),t.promise},o=function(n){return{then:function(i,s){var o=r();return e(function(){try{o.resolve((q(s)?s:f)(n))}catch(e){o.reject(e),t(e)}}),o.promise}}},u=function(n,o,u,l){var c=r(),h,p=function(e){try{return(q(o)?o:a)(e)}catch(n){return t(n),s(n)}},d=function(e){try{return(q(u)?u:f)(e)}catch(n){return t(n),s(n)}},v=function(e){try{return(q(l)?l:a)(e)}catch(n){t(n)}};return e(function(){i(n).then(function(e){if(h)return;h=!0,c.resolve(i(e).then(p,d,v))},function(e){if(h)return;h=!0,c.resolve(d(e))},function(e){if(h)return;c.notify(v(e))})}),c.promise};return{defer:r,reject:s,when:u,all:l}}function Fr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,s=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return s.supported=i,s}]}function Ir(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,i,o,u){function a(){this.$id=N(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function l(e){if(f.$$phase)throw t("inprog","{0} already in progress",f.$$phase);f.$$phase=e}function c(){f.$$phase=null}function h(e,t){var n=o(e);return Nt(n,t),n}function p(e,t,n){do e.$$listenerCount[n]-=t,e.$$listenerCount[n]===0&&delete e.$$listenerCount[n];while(e=e.$parent)}function d(){}a.prototype={constructor:a,$new:function(e){var t,n;return e?(n=new a,n.$root=this.$root,n.$$asyncQueue=this.$$asyncQueue,n.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=N(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),n=new this.$$childScopeClass),n["this"]=n,n.$parent=this,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,r){var i=this,s=h(e,"watch"),o=i.$$watchers,u={fn:t,last:d,get:s,exp:e,eq:!!r};n=null;if(!q(t)){var a=h(t||O,"listener");u.fn=function(e,t,n){a(n)}}if(typeof e=="string"&&s.constant){var f=u.fn;u.fn=function(e,t,n){f.call(this,e,t,n),et(o,u)}}return o||(o=i.$$watchers=[]),o.unshift(u),function(){et(o,u),n=null}},$watchCollection:function(e,t){function v(){r=l(n);var e,t;if(!H(r))i!==r&&(i=r,f++);else if(w(r)){i!==c&&(i=c,d=i.length=0,f++),e=r.length,d!==e&&(f++,i.length=d=e);for(var s=0;s<e;s++){var o=i[s]!==i[s]&&r[s]!==r[s];!o&&i[s]!==r[s]&&(f++,i[s]=r[s])}}else{i!==h&&(i=h={},d=0,f++),e=0;for(t in r)r.hasOwnProperty(t)&&(e++,i.hasOwnProperty(t)?i[t]!==r[t]&&(f++,i[t]=r[t]):(d++,i[t]=r[t],f++));if(d>e){f++;for(t in i)i.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(d--,delete i[t])}}return f}function m(){p?(p=!1,t(r,r,n)):t(r,u,n);if(a)if(!H(r))u=r;else if(w(r)){u=new Array(r.length);for(var e=0;e<r.length;e++)u[e]=r[e]}else{u={};for(var i in r)s.call(r,i)&&(u[i]=r[i])}}var n=this,r,i,u,a=t.length>1,f=0,l=o(e),c=[],h={},p=!0,d=0;return this.$watch(v,m)},$digest:function(){var r,s,o,u,a=this.$$asyncQueue,f=this.$$postDigestQueue,h,p,v=e,m,g,y=this,b=[],w,E,S;l("$digest"),n=null;do{p=!1,g=y;while(a.length){try{S=a.shift(),S.scope.$eval(S.expression)}catch(x){c(),i(x)}n=null}e:do{if(u=g.$$watchers){h=u.length;while(h--)try{r=u[h];if(r)if((s=r.get(g))!==(o=r.last)&&!(r.eq?it(s,o):typeof s=="number"&&typeof o=="number"&&isNaN(s)&&isNaN(o)))p=!0,n=r,r.last=r.eq?nt(s,null):s,r.fn(s,o===d?s:o,g),v<5&&(w=4-v,b[w]||(b[w]=[]),E=q(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,E+="; newVal: "+lt(s)+"; oldVal: "+lt(o),b[w].push(E));else if(r===n){p=!1;break e}}catch(x){c(),i(x)}}if(!(m=g.$$childHead||g!==y&&g.$$nextSibling))while(g!==y&&!(m=g.$$nextSibling))g=g.$parent}while(g=m);if((p||a.length)&&!(v--))throw c(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,lt(b))}while(p||a.length);c();while(f.length)try{f.shift()()}catch(x){i(x)}},$destroy:function(){if(this.$$destroyed)return;var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0;if(this===f)return;E(this.$$listenerCount,at(null,p,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=O,this.$on=this.$watch=function(){return O}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e){!f.$$phase&&!f.$$asyncQueue.length&&u.defer(function(){f.$$asyncQueue.length&&f.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return l("$apply"),this.$eval(e)}catch(t){i(t)}finally{c();try{f.$digest()}catch(t){throw i(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){n[Z(n,t)]=null,p(i,1,e)}},$emit:function(e,t){var n=[],r,s=this,o=!1,u={name:e,targetScope:s,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},a=ot([u],arguments,1),f,l;do{r=s.$$listeners[e]||n,u.currentScope=s;for(f=0,l=r.length;f<l;f++){if(!r[f]){r.splice(f,1),f--,l--;continue}try{r[f].apply(null,a)}catch(c){i(c)}}if(o)return u;s=s.$parent}while(s);return u},$broadcast:function(e,t){var n=this,r=n,s=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1},u=ot([o],arguments,1),a,f,l;while(r=s){o.currentScope=r,a=r.$$listeners[e]||[];for(f=0,l=a.length;f<l;f++){if(!a[f]){a.splice(f,1),f--,l--;continue}try{a[f].apply(null,u)}catch(c){i(c)}}if(!(s=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))while(r!==n&&!(s=r.$$nextSibling))r=r.$parent}return o}};var f=new a;return f}]}function qr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return P(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return P(e)?(t=e,this):t},this.$get=function(){return function(r,i){var s=i?t:e,o;if(!f||f>=8){o=Yr(r).href;if(o!==""&&!o.match(s))return"unsafe:"+o}return r}}}function zr(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Wr(e){if(e==="self")return e;if(B(e)){if(e.indexOf("***")>-1)throw Rr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=zr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(R(e))return new RegExp("^"+e.source+"$");throw Rr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Xr(e){var t=[];return P(e)&&E(e,function(e){t.push(Wr(e))}),t}function Vr(){this.SCE_CONTEXTS=Ur;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Xr(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Xr(e)),t},this.$get=["$injector",function(r){function s(e,t){return e==="self"?Zr(t):!!e.exec(t.href)}function o(n){var r=Yr(n.toString()),i,o,u=!1;for(i=0,o=e.length;i<o;i++)if(s(e[i],r)){u=!0;break}if(u)for(i=0,o=t.length;i<o;i++)if(s(t[i],r)){u=!1;break}return u}function u(e){var t=function(t){this.$$unwrapTrustedValue=function(){return t}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function l(e,t){var r=f.hasOwnProperty(e)?f[e]:null;if(!r)throw Rr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(t===null||t===n||t==="")return t;if(typeof t!="string")throw Rr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof a?e.$$unwrapTrustedValue():e}function h(e,t){if(t===null||t===n||t==="")return t;var r=f.hasOwnProperty(e)?f[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===Ur.RESOURCE_URL){if(o(t))return t;throw Rr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ur.HTML)return i(t);throw Rr("unsafe","Attempting to use an unsafe value in a safe context.")}var i=function(t){throw Rr("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(i=r.get("$sanitize"));var a=u(),f={};return f[Ur.HTML]=u(a),f[Ur.CSS]=u(a),f[Ur.URL]=u(a),f[Ur.JS]=u(a),f[Ur.RESOURCE_URL]=u(f[Ur.URL]),{trustAs:l,getTrusted:h,valueOf:c}}]}function $r(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&n.msieDocumentMode<8)throw Rr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var s=rt(Ur);s.isEnabled=function(){return e},s.trustAs=r.trustAs,s.getTrusted=r.getTrusted,s.valueOf=r.valueOf,e||(s.trustAs=s.getTrusted=function(e,t){return t},s.valueOf=M),s.parseAs=function(n,r){var i=t(r);return i.literal&&i.constant?i:function(t,r){return s.getTrusted(n,i(t,r))}};var o=s.parseAs,u=s.getTrusted,a=s.trustAs;return E(Ur,function(e,t){var n=i(t);s[Ut("parse_as_"+n)]=function(t){return o(e,t)},s[Ut("get_trusted_"+n)]=function(t){return u(e,t)},s[Ut("trust_as_"+n)]=function(t){return a(e,t)}}),s}]}function Jr(){this.$get=["$window","$document",function(e,t){var n={},r=L((/android (\d+)/.exec(i((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},u=o.documentMode,a,l=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=o.body&&o.body.style,h=!1,p=!1,d;if(c){for(var v in c)if(d=l.exec(v)){a=d[0],a=a.substr(0,1).toUpperCase()+a.substr(1);break}a||(a="WebkitOpacity"in c&&"webkit"),h="transition"in c||a+"Transition"in c,p="animation"in c||a+"Animation"in c,r&&(!h||!p)&&(h=B(o.body.style.webkitTransition),p=B(o.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||r<4)&&!s,hashchange:"onhashchange"in e&&(!u||u>7),hasEvent:function(e){if(e=="input"&&f==9)return!1;if(D(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:st(),vendorPrefix:a,transitions:h,animations:p,android:r,msie:f,msieDocumentMode:u}}]}function Kr(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function s(s,o,u){var a=n.defer(),f=a.promise,l=P(u)&&!u,c;return c=t.defer(function(){try{a.resolve(s())}catch(t){a.reject(t),r(t)}finally{delete i[f.$$timeoutId]}l||e.$apply()},o),f.$$timeoutId=c,i[c]=a,f}var i={};return s.cancel=function(e){return e&&e.$$timeoutId in i?(i[e.$$timeoutId].reject("canceled"),delete i[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},s}]}function Yr(e,t){var n=e;return f&&(Qr.setAttribute("href",n),n=Qr.href),Qr.setAttribute("href",n),{href:Qr.href,protocol:Qr.protocol?Qr.protocol.replace(/:$/,""):"",host:Qr.host,search:Qr.search?Qr.search.replace(/^\?/,""):"",hash:Qr.hash?Qr.hash.replace(/^#/,""):"",hostname:Qr.hostname,port:Qr.port,pathname:Qr.pathname.charAt(0)==="/"?Qr.pathname:"/"+Qr.pathname}}function Zr(e){var t=B(e)?Yr(e):e;return t.protocol===Gr.protocol&&t.host===Gr.host}function ei(){this.$get=_(e)}function ti(e){function n(r,i){if(H(r)){var s={};return E(r,function(e,t){s[t]=n(t,e)}),s}return e.factory(r+t,i)}var t="Filter";this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",ri),n("date",vi),n("filter",ni),n("json",mi),n("limitTo",bi),n("lowercase",gi),n("number",ii),n("orderBy",wi),n("uppercase",yi)}function ni(){return function(e,t,n){if(!I(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},r!=="function"&&(r==="boolean"&&n?n=function(e,t){return m.equals(e,t)}:n=function(e,t){if(e&&t&&typeof e=="object"&&typeof t=="object"){for(var r in e)if(r.charAt(0)!=="$"&&s.call(e,r)&&n(e[r],t[r]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var o=function(e,t){if(typeof t=="string"&&t.charAt(0)==="!")return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if(r.charAt(0)!=="$"&&o(e[r],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(o(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var u in t)(function(e){if(typeof t[e]=="undefined")return;i.push(function(n){return o(e=="$"?n:n&&n[e],t[e])})})(u);break;case"function":i.push(t);break;default:return e}var a=[];for(var f=0;f<e.length;f++){var l=e[f];i.check(l)&&a.push(l)}return a}}function ri(e){var t=e.NUMBER_FORMATS;return function(e,n){return D(n)&&(n=t.CURRENCY_SYM),oi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function ii(e){var t=e.NUMBER_FORMATS;return function(e,n){return oi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function oi(e,t,n,r,i){if(e==null||!isFinite(e)||H(e))return"";var s=e<0;e=Math.abs(e);var o=e+"",u="",a=[],f=!1;if(o.indexOf("e")!==-1){var l=o.match(/([\d\.]+)e(-?)(\d+)/);l&&l[2]=="-"&&l[3]>i+1?o="0":(u=o,f=!0)}if(!f){var c=(o.split(si)[1]||"").length;D(i)&&(i=Math.min(Math.max(t.minFrac,c),t.maxFrac));var h=Math.pow(10,i+1);e=Math.floor(e*h+5)/h;var p=(""+e).split(si),d=p[0];p=p[1]||"";var v,m=0,g=t.lgSize,y=t.gSize;if(d.length>=g+y){m=d.length-g;for(v=0;v<m;v++)(m-v)%y===0&&v!==0&&(u+=n),u+=d.charAt(v)}for(v=m;v<d.length;v++)(d.length-v)%g===0&&v!==0&&(u+=n),u+=d.charAt(v);while(p.length<i)p+="0";i&&i!=="0"&&(u+=r+p.substr(0,i))}else i>0&&e>-1&&e<1&&(u=e.toFixed(i));return a.push(s?t.negPre:t.posPre),a.push(u),a.push(s?t.negSuf:t.posSuf),a.join("")}function ui(e,t,n){var r="";e<0&&(r="-",e=-e),e=""+e;while(e.length<t)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function ai(e,t,n,r){return n=n||0,function(i){var s=i["get"+e]();if(n>0||s>-n)s+=n;return s===0&&n==-12&&(s=12),ui(s,t,r)}}function fi(e,t){return function(n,r){var i=n["get"+e](),s=o(t?"SHORT"+e:e);return r[s][i]}}function li(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=ui(Math[t>0?"floor":"ceil"](t/60),2)+ui(Math.abs(t%60),2),n}function ci(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function vi(e){function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,s=0,o=n[8]?r.setUTCFullYear:r.setFullYear,u=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=L(n[9]+n[10]),s=L(n[9]+n[11])),o.call(r,L(n[1]),L(n[2])-1,L(n[3]));var a=L(n[4]||0)-i,f=L(n[5]||0)-s,l=L(n[6]||0),c=Math.round(parseFloat("0."+(n[7]||0))*1e3);return u.call(r,a,f,l,c),r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,r){var i="",s=[],o,u;r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,B(t)&&(di.test(t)?t=L(t):t=n(t)),j(t)&&(t=new Date(t));if(!F(t))return t;while(r)u=pi.exec(r),u?(s=ot(s,u,1),r=s.pop()):(s.push(r),r=null);return E(s,function(n){o=hi[n],i+=o?o(t,e.DATETIME_FORMATS):n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function mi(){return function(e){return lt(e,!0)}}function bi(){return function(e,t){if(!I(e)&&!B(e))return e;Math.abs(Number(t))===Infinity?t=Number(t):t=L(t);if(B(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n=[],r,i;t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(r=0,i=t):(r=e.length+t,i=e.length);for(;r<i;r++)n.push(e[r]);return n}}function wi(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i!==0)return i}return 0}function u(e,t){return ht(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?(n=="string"&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):n<r?-1:1}if(!I(t))return t;if(!n)return t;n=I(n)?n:[n],n=Q(n,function(t){var n=!1,r=t||M;if(B(t)){if(t.charAt(0)=="+"||t.charAt(0)=="-")n=t.charAt(0)=="-",t=t.substring(1);r=e(t);if(r.constant){var i=r();return u(function(e,t){return a(e[i],t[i])},n)}}return u(function(e,t){return a(r(e),r(t))},n)});var i=[];for(var s=0;s<t.length;s++)i.push(t[s]);return i.sort(u(o,r))}}function Ei(e){return q(e)&&(e={link:e}),e.restrict=e.restrict||"AC",_(e)}function Ni(e,t,n,r){function f(t,n){n=n?"-"+St(n,"-"):"",r.removeClass(e,(t?zi:Ui)+n),r.addClass(e,(t?Ui:zi)+n)}var i=this,s=e.parent().controller("form")||Ti,o=0,u=i.$error={},a=[];i.$name=t.name||t.ngForm,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,s.$addControl(i),e.addClass(Wi),f(!0),i.$addControl=function(e){Ct(e.$name,"input"),a.push(e),e.$name&&(i[e.$name]=e)},i.$removeControl=function(e){e.$name&&i[e.$name]===e&&delete i[e.$name],E(u,function(t,n){i.$setValidity(n,!0,e)}),et(a,e)},i.$setValidity=function(e,t,n){var r=u[e];if(t)r&&(et(r,n),r.length||(o--,o||(f(t),i.$valid=!0,i.$invalid=!1),u[e]=!1,f(!0,e),s.$setValidity(e,!0,i)));else{o||f(t);if(r){if(Y(r,n))return}else u[e]=r=[],o++,f(!1,e),s.$setValidity(e,!1,i);r.push(n),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){r.removeClass(e,Wi),r.addClass(e,Xi),i.$dirty=!0,i.$pristine=!1,s.$setDirty()},i.$setPristine=function(){r.removeClass(e,Xi),r.addClass(e,Wi),i.$dirty=!1,i.$pristine=!0,E(a,function(e){e.$setPristine()})}}function Di(e,t,r,i){return e.$setValidity(t,r),r?i:n}function Pi(e,t,n){var r=n.prop("validity");if(H(r)){var i=function(n){if(!e.$error[t]&&(r.badInput||r.customError||r.typeMismatch)&&!r.valueMissing){e.$setValidity(t,!1);return}return n};e.$parsers.push(i)}}function Hi(e,t,n,i,s,o){var u=t.prop("validity"),a=t[0].placeholder,l={};if(!s.android){var c=!1;t.on("compositionstart",function(e){c=!0}),t.on("compositionend",function(){c=!1,h()})}var h=function(r){if(c)return;var s=t.val();if(f&&(r||l).type==="input"&&t[0].placeholder!==a){a=t[0].placeholder;return}ht(n.ngTrim||"T")&&(s=$(s));if(i.$viewValue!==s||u&&s===""&&!u.valueMissing)e.$$phase?i.$setViewValue(s):e.$apply(function(){i.$setViewValue(s)})};if(s.hasEvent("input"))t.on("input",h);else{var p,d=function(){p||(p=o.defer(function(){h(),p=null}))};t.on("keydown",function(e){var t=e.keyCode;if(t===91||15<t&&t<19||37<=t&&t<=40)return;d()}),s.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",h),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)};var v=n.ngPattern,m,g;if(v){var y=function(e,t){return Di(i,"pattern",i.$isEmpty(t)||e.test(t),t)};g=v.match(/^\/(.*)\/([gim]*)$/),g?(v=new RegExp(g[1],g[2]),m=function(e){return y(v,e)}):m=function(n){var i=e.$eval(v);if(!i||!i.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",v,i,pt(t));return y(i,n)},i.$formatters.push(m),i.$parsers.push(m)}if(n.ngMinlength){var b=L(n.ngMinlength),w=function(e){return Di(i,"minlength",i.$isEmpty(e)||e.length>=b,e)};i.$parsers.push(w),i.$formatters.push(w)}if(n.ngMaxlength){var E=L(n.ngMaxlength),S=function(e){return Di(i,"maxlength",i.$isEmpty(e)||e.length<=E,e)};i.$parsers.push(S),i.$formatters.push(S)}}function Bi(e,t,r,i,s,o){Hi(e,t,r,i,s,o),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||Mi.test(e)?(i.$setValidity("number",!0),e===""?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),Pi(i,"number",t),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e});if(r.min){var u=function(e){var t=parseFloat(r.min);return Di(i,"min",i.$isEmpty(e)||e>=t,e)};i.$parsers.push(u),i.$formatters.push(u)}if(r.max){var a=function(e){var t=parseFloat(r.max);return Di(i,"max",i.$isEmpty(e)||e<=t,e)};i.$parsers.push(a),i.$formatters.push(a)}i.$formatters.push(function(e){return Di(i,"number",i.$isEmpty(e)||j(e),e)})}function ji(e,t,n,r,i,s){Hi(e,t,n,r,i,s);var o=function(e){return Di(r,"url",r.$isEmpty(e)||Ai.test(e),e)};r.$formatters.push(o),r.$parsers.push(o)}function Fi(e,t,n,r,i,s){Hi(e,t,n,r,i,s);var o=function(e){return Di(r,"email",r.$isEmpty(e)||Oi.test(e),e)};r.$formatters.push(o),r.$parsers.push(o)}function Ii(e,t,n,r){D(n.name)&&t.attr("name",N()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function qi(e,t,n,r){var i=n.ngTrueValue,s=n.ngFalseValue;B(i)||(i=!0),B(s)||(s=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:s})}function ns(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){var i=e[r];for(var s=0;s<t.length;s++)if(i==t[s])continue e;n.push(i)}return n}function i(e){if(I(e))return e;if(B(e))return e.split(" ");if(H(e)){var t=[],n=0;return E(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(s,o,u){function f(e){var t=c(e,1);u.$addClass(t)}function l(e){var t=c(e,-1);u.$removeClass(t)}function c(e,t){var n=o.data("$classCounts")||{},r=[];return E(e,function(e){if(t>0||n[e])n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e)}),o.data("$classCounts",n),r.join(" ")}function h(e,t){var i=r(t,e),s=r(e,t);s=c(s,-1),i=c(i,1),i.length===0?n.removeClass(o,s):s.length===0?n.addClass(o,i):n.setClass(o,i,s)}function p(e){if(t===!0||s.$index%2===t){var n=i(e||[]);if(!a)f(n);else if(!it(e,a)){var r=i(a);h(r,n)}}a=rt(e)}var a;s.$watch(u[e],p,!0),u.$observe("class",function(t){p(s.$eval(u[e]))}),e!=="ngClass"&&s.$watch("$index",function(n,r){var o=n&1;if(o!==(r&1)){var a=i(s.$eval(u[e]));o===t?f(a):l(a)}})}}}]}var i=function(e){return B(e)?e.toLowerCase():e},s=Object.prototype.hasOwnProperty,o=function(e){return B(e)?e.toUpperCase():e},u=function(e){return B(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e},a=function(e){return B(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(i=u,o=a);var f,l,c,h=[].slice,p=[].push,d=Object.prototype.toString,v=r("ng"),m=e.angular||(e.angular={}),g,y,b=["0","0","0"];f=L((/msie (\d+)/.exec(i(navigator.userAgent))||[])[1]),isNaN(f)&&(f=L((/trident\/.*; rv:(\d+)/.exec(i(navigator.userAgent))||[])[1])),O.$inject=[],M.$inject=[];var I=function(){return q(Array.isArray)?Array.isArray:function(e){return d.call(e)==="[object Array]"}}(),$=function(){return String.prototype.trim?function(e){return B(e)?e.trim():e}:function(e){return B(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();f<9?y=function(e){return e=e.nodeName?e:e[0],e.scopeName&&e.scopeName!="HTML"?o(e.scopeName+":"+e.nodeName):e.nodeName}:y=function(e){return e.nodeName?e.nodeName:e[0].nodeName};var Et=/[A-Z]/g,Ot={full:"1.2.19-build.256+sha.8b25ea1",major:1,minor:2,dot:19,codeName:"snapshot"},_t=Yt.cache={},Dt=Yt.expando="ng"+(new Date).getTime(),Pt=1,Ht=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Bt=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},jt=Yt._data=function(e){return this.cache[e[this.expando]]||{}},It=/([\:\-\_]+(.))/g,qt=/^moz([A-Z])/,Rt=r("jqLite"),Wt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Xt=/<|&#?\w+;/,Vt=/<([\w:]+)/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td;var pn=Yt.prototype={ready:function(n){function i(){if(r)return;r=!0,n()}var r=!1;t.readyState==="complete"?setTimeout(i):(this.on("DOMContentLoaded",i),Yt(e).on("load",i))},toString:function(){var e=[];return E(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?l(this[e]):l(this[this.length+e])},length:0,push:p,sort:[].sort,splice:[].splice},dn={};E("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){dn[i(e)]=e});var vn={};E("input,select,option,textarea,button,form,details".split(","),function(e){vn[o(e)]=!0}),E({data:sn,inheritedData:cn,scope:function(e){return l(e).data("$scope")||cn(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return l(e).data("$isolateScope")||l(e).data("$isolateScopeNoTemplate")},controller:ln,injector:function(e){return cn(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:on,css:function(e,t,r){t=Ut(t);if(!P(r)){var i;return f<=8&&(i=e.currentStyle&&e.currentStyle[t],i===""&&(i="auto")),i=i||e.style[t],f<=8&&(i=i===""?n:i),i}e.style[t]=r},attr:function(e,t,r){var s=i(t);if(dn[s]){if(!P(r))return e[t]||(e.attributes.getNamedItem(t)||O).specified?s:n;r?(e[t]=!0,e.setAttribute(t,s)):(e[t]=!1,e.removeAttribute(s))}else if(P(r))e.setAttribute(t,r);else if(e.getAttribute){var o=e.getAttribute(t,2);return o===null?n:o}},prop:function(e,t,n){if(!P(n))return e[t];e[t]=n},text:function(){function t(t,n){var r=e[t.nodeType];if(D(n))return r?t[r]:"";t[r]=n}var e=[];return f<9?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",t.$dv="",t}(),val:function(e,t){if(D(t)){if(y(e)==="SELECT"&&e.multiple){var n=[];return E(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n.length===0?null:n}return e.value}e.value=t},html:function(e,t){if(D(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)en(r[n]);e.innerHTML=t},empty:hn},function(e,t){Yt.prototype[t]=function(t,r){var i,s,o=this.length;if(e!==hn&&(e.length==2&&e!==on&&e!==ln?t:r)===n){if(H(t)){for(i=0;i<o;i++)if(e===sn)e(this[i],t);else for(s in t)e(this[i],s,t[s]);return this}var u=e.$dv,a=u===n?Math.min(o,1):o;for(var f=0;f<a;f++){var l=e(this[f],t,r);u=u?u+l:l}return u}for(i=0;i<o;i++)e(this[i],t,r);return this}}),E({removeData:nn,dealoc:en,on:function As(e,n,r,i){if(P(i))throw Rt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var s=rn(e,"events"),o=rn(e,"handle");s||rn(e,"events",s={}),o||rn(e,"handle",o=gn(e,s)),E(n.split(" "),function(n){var i=s[n];if(!i){if(n=="mouseenter"||n=="mouseleave"){var u=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1};s[n]=[];var a={mouseleave:"mouseout",mouseenter:"mouseover"};As(e,a[n],function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!u(t,r))&&o(e,n)})}else Ht(e,n,o),s[n]=[];i=s[n]}i.push(r)})},off:tn,one:function(e,t,n){e=l(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;en(e),E(new Yt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return E(e.childNodes,function(e){e.nodeType===1&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){E(new Yt(t),function(t){(e.nodeType===1||e.nodeType===11)&&e.appendChild(t)})},prepend:function(e,t){if(e.nodeType===1){var n=e.firstChild;E(new Yt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=l(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){en(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;E(new Yt(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:an,removeClass:un,toggleClass:function(e,t,n){t&&E(t.split(" "),function(t){var r=n;D(r)&&(r=!on(e,t)),(r?an:un)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;var t=e.nextSibling;while(t!=null&&t.nodeType!==1)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Zt,triggerHandler:function(e,t,n){var r=(rn(e,"events")||{})[t];n=n||[];var i=[{preventDefault:O,stopPropagation:O}];E(r,function(t){t.apply(e,i.concat(n))})}},function(e,t){Yt.prototype[t]=function(t,n,r){var i;for(var s=0;s<this.length;s++)D(i)?(i=e(this[s],t,n,r),P(i)&&(i=l(i))):fn(i,e(this[s],t,n,r));return P(i)?i:this},Yt.prototype.bind=Yt.prototype.on,Yt.prototype.unbind=Yt.prototype.off}),bn.prototype={put:function(e,t){this[yn(e,this.nextUid)]=t},get:function(e){return this[yn(e,this.nextUid)]},remove:function(e){var t=this[e=yn(e,this.nextUid)];return delete this[e],t}};var wn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,En=/,/,Sn=/^\s*(_?)(\S+?)\1\s*$/,xn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Tn=r("$injector"),Ln=r("$animate"),An=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&t.charAt(0)!=".")throw Ln("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return arguments.length===1&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,r,i){if(r)r.after(e);else{if(!t||!t[0])t=r.parent();t.append(e)}n(i)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,t,r){t=B(t)?t:I(t)?t.join(" "):"",E(e,function(e){an(e,t)}),n(r)},removeClass:function(e,t,r){t=B(t)?t:I(t)?t.join(" "):"",E(e,function(e){un(e,t)}),n(r)},setClass:function(e,t,r,i){E(e,function(e){an(e,t),un(e,r)}),n(i)},enabled:O}}]}],Hn=r("$compile");Bn.$inject=["$provide","$$sanitizeUriProvider"];var jn=/^(x[\:\-_]|data[\:\-_])/i,Zn=r("$interpolate"),rr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ir={http:80,https:443,ftp:21},sr=r("$location");vr.prototype=dr.prototype=pr.prototype={$$html5:!1,$$replace:!1,absUrl:mr("$$absUrl"),url:function(e,t){if(D(e))return this.$$url;var n=rr.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:mr("$$protocol"),host:mr("$$host"),port:mr("$$port"),path:gr("$$path",function(e){return e.charAt(0)=="/"?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(B(e))this.$$search=vt(e);else{if(!H(e))throw sr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=e}break;default:D(t)||t===null?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:gr("$$hash",M),replace:function(){return this.$$replace=!0,this}};var wr=r("$parse"),Er={},Sr,Nr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},"undefined":O,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),P(r)?P(i)?r+i:r:P(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(P(n)?n:0)-(P(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":O,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Cr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},kr=function(e){this.options=e};kr.prototype={constructor:kr,lex:function(e){this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];while(this.index<this.text.length){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),r=t+this.peek(2),i=Nr[this.ch],s=Nr[t],o=Nr[r];o?(this.tokens.push({index:this.index,text:r,fn:o}),this.index+=3):s?(this.tokens.push({index:this.index,text:t,fn:s}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return e.indexOf(this.ch)!==-1},was:function(e){return e.indexOf(this.lastCh)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return"0"<=e&&e<="9"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e==="\n"||e===""||e===" "},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||e==="$"},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=P(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw wr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){var e="",t=this.index;while(this.index<this.text.length){var n=i(this.text.charAt(this.index));if(n=="."||this.isNumber(n))e+=n;else{var r=this.peek();if(n=="e"&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)=="e")e+=n;else{if(!this.isExpOperator(n)||!!r&&!!this.isNumber(r)||e.charAt(e.length-1)!="e")break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){var e=this,t="",n=this.index,r,i,s,o;while(this.index<this.text.length){o=this.text.charAt(this.index);if(o!=="."&&!this.isIdent(o)&&!this.isNumber(o))break;o==="."&&(r=this.index),t+=o,this.index++}if(r){i=this.index;while(i<this.text.length){o=this.text.charAt(i);if(o==="("){s=t.substr(r-n+1),t=t.substr(0,r-n),this.index=i;break}if(!this.isWhitespace(o))break;i++}}var u={index:n,text:t};if(Nr.hasOwnProperty(t))u.fn=Nr[t],u.literal=!0,u.constant=!0;else{var a=Pr(t,this.options,this.text);u.fn=k(function(e,t){return a(e,t)},{assign:function(n,r){return Ar(n,t,r,e.text,e.options)}})}this.tokens.push(u),s&&(this.tokens.push({index:r,text:"."}),this.tokens.push({index:r+1,text:s}))},readString:function(e){var t=this.index;this.index++;var n="",r=e,i=!1;while(this.index<this.text.length){var s=this.text.charAt(this.index);r+=s;if(i){if(s==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var u=Cr[s];u?n+=u:n+=s}i=!1}else if(s==="\\")i=!0;else{if(s===e){this.index++,this.tokens.push({index:t,text:r,string:n,literal:!0,constant:!0,fn:function(){return n}});return}n+=s}this.index++}this.throwError("Unterminated quote",t)}};var Lr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};Lr.ZERO=k(function(){return 0},{constant:!0}),Lr.prototype={constructor:Lr,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}var n,r;while(n=this.expect("(","[","."))n.text==="("?(e=this.functionCall(e,r),r=null):n.text==="["?(r=e,e=this.objectIndex(e)):n.text==="."?(r=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw wr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(this.tokens.length===0)throw wr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],s=i.text;if(s===e||s===t||s===n||s===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return k(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return k(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return k(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){var e=[];for(;;){this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain());if(!this.expect(";"))return e.length===1?e[0]:function(t,n){var r;for(var i=0;i<e.length;i++){var s=e[i];s&&(r=s(t,n))}return r}}},filterChain:function(){var e=this.expression(),t;for(;;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){var e=this.expect(),t=this.$filter(e.text),n=[];for(;;){if(!(e=this.expect(":"))){var r=function(e,r,i){var s=[i];for(var o=0;o<n.length;o++)s.push(n[o](e,r));return t.apply(e,s)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary(),t,n;return(n=this.expect("="))?(e.assign||this.throwError("implies assignment but ["+this.text.substring(0,n.index)+"] can not be assigned to",n),t=this.ternary(),function(n,r){return e.assign(n,t(n,r),r)}):e},ternary:function(){var e=this.logicalOR(),t,n;if(!(n=this.expect("?")))return e;t=this.ternary();if(n=this.expect(":"))return this.ternaryFn(e,t,this.ternary());this.throwError("expected :",n)},logicalOR:function(){var e=this.logicalAND(),t;for(;;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var e=this.equality(),t;if(t=this.expect("&&"))e=this.binaryFn(e,t.fn,this.logicalAND());return e},equality:function(){var e=this.relational(),t;if(t=this.expect("==","!=","===","!=="))e=this.binaryFn(e,t.fn,this.equality());return e},relational:function(){var e=this.additive(),t;if(t=this.expect("<",">","<=",">="))e=this.binaryFn(e,t.fn,this.relational());return e},additive:function(){var e=this.multiplicative(),t;while(t=this.expect("+","-"))e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){var e=this.unary(),t;while(t=this.expect("*","/","%"))e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Lr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=Pr(n,this.options,this.text);return k(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,s){return Ar(e(r,s),n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),k(function(i,s){var o=e(i,s),u=r(i,s),a,f;return o?(a=Tr(o[u],t.text),a&&a.then&&t.options.unwrapPromises&&(f=a,"$$v"in a||(f.$$v=n,f.then(function(e){f.$$v=e})),a=a.$$v),a):n},{assign:function(n,i,s){var o=r(n,s),u=Tr(e(n,s),t.text);return u[o]=i}})},functionCall:function(e,t){var n=[];if(this.peekToken().text!==")")do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,s){var o=[],u=t?t(i,s):i;for(var a=0;a<n.length;a++)o.push(n[a](i,s));var f=e(i,s,u)||O;Tr(u,r.text),Tr(f,r.text);var l=f.apply?f.apply(u,o):f(o[0],o[1],o[2],o[3],o[4]);return Tr(l,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if(this.peekToken().text!=="]")do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),k(function(t,n){var r=[];for(var i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:r,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),k(function(t,n){var r={};for(var i=0;i<e.length;i++){var s=e[i];r[s.key]=s.value(t,n)}return r},{literal:!0,constant:t})}};var Or={},Rr=r("$sce"),Ur={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qr=t.createElement("a"),Gr=Yr(e.location.href,!0);ti.$inject=["$provide"],ri.$inject=["$locale"],ii.$inject=["$locale"];var si=".",hi={yyyy:ai("FullYear",4),yy:ai("FullYear",2,0,!0),y:ai("FullYear",1),MMMM:fi("Month"),MMM:fi("Month",!0),MM:ai("Month",2,1),M:ai("Month",1,1),dd:ai("Date",2),d:ai("Date",1),HH:ai("Hours",2),H:ai("Hours",1),hh:ai("Hours",2,-12),h:ai("Hours",1,-12),mm:ai("Minutes",2),m:ai("Minutes",1),ss:ai("Seconds",2),s:ai("Seconds",1),sss:ai("Milliseconds",3),EEEE:fi("Day"),EEE:fi("Day",!0),a:ci,Z:li},pi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,di=/^\-?\d+$/;vi.$inject=["$locale"];var gi=_(i),yi=_(o);wi.$inject=["$parse"];var Si=_({restrict:"E",compile:function(e,n){f<=8&&(!n.href&&!n.name&&n.$set("href",""),e.append(t.createComment("IE fix")));if(!n.href&&!n.xlinkHref&&!n.name)return function(e,t){var n=d.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),xi={};E(dn,function(e,t){if(e=="multiple")return;var n=Fn("ng-"+t);xi[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(n){i.$set(t,!!n)})}}}}),E(["src","srcset","href"],function(e){var t=Fn("ng-"+e);xi[t]=function(){return{priority:99,link:function(n,r,i){var s=e,o=e;e==="href"&&d.call(r.prop("href"))==="[object SVGAnimatedString]"&&(o="xlinkHref",i.$attr[o]="xlink:href",s=null),i.$observe(t,function(e){if(!e)return;i.$set(o,e),f&&s&&r.prop(s,i[o])})}}}});var Ti={$addControl:O,$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O};Ni.$inject=["$element","$attrs","$scope","$animate"];var Ci=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:Ni,compile:function(){return{pre:function(e,r,i,s){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Ht(r[0],"submit",o),r.on("$destroy",function(){t(function(){Bt(r[0],"submit",o)},0,!1)})}var u=r.parent().controller("form"),a=i.name||i.ngForm;a&&Ar(e,a,s,a),u&&r.on("$destroy",function(){u.$removeControl(s),a&&Ar(e,a,n,a),k(s,Ti)})}}}};return r}]},ki=Ci(),Li=Ci(!0),Ai=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Oi=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,Mi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,_i={text:Hi,number:Bi,url:ji,email:Fi,radio:Ii,checkbox:qi,hidden:O,button:O,submit:O,reset:O,file:O},Ri=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,s,o){o&&(_i[i(s.type)]||_i.text)(n,r,s,o,t,e)}}}],Ui="ng-valid",zi="ng-invalid",Wi="ng-pristine",Xi="ng-dirty",Vi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,s,o){function h(e,t){t=t?"-"+St(t,"-"):"",o.removeClass(i,(e?zi:Ui)+t),o.addClass(i,(e?Ui:zi)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var u=s(n.ngModel),a=u.assign;if(!a)throw r("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,pt(i));this.$render=O,this.$isEmpty=function(e){return D(e)||e===""||e===null||e!==e};var f=i.inheritedData("$formController")||Ti,l=0,c=this.$error={};i.addClass(Wi),h(!0),this.$setValidity=function(e,t){if(c[e]===!t)return;t?(c[e]&&l--,l||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,l++),c[e]=!t,h(t,e),f.$setValidity(e,t,this)},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,o.removeClass(i,Xi),o.addClass(i,Wi)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,o.removeClass(i,Wi),o.addClass(i,Xi),f.$setDirty()),E(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,a(e,n),E(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var p=this;e.$watch(function(){var n=u(e);if(p.$modelValue!==n){var r=p.$formatters,i=r.length;p.$modelValue=n;while(i--)n=r[i](n);p.$viewValue!==n&&(p.$viewValue=n,p.$render())}return n})}],$i=function(){return{require:["ngModel","^?form"],controller:Vi,link:function(e,t,n,r){var i=r[0],s=r[1]||Ti;s.$addControl(i),e.$on("$destroy",function(){s.$removeControl(i)})}}},Ji=_({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Ki=function(){return{require:"?ngModel",link:function(e,t,n,r){if(!r)return;n.required=!0;var i=function(e){if(n.required&&r.$isEmpty(e)){r.$setValidity("required",!1);return}return r.$setValidity("required",!0),e};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}},Qi=function(){return{require:"ngModel",link:function(e,t,r,i){var s=/\/(.*)\//.exec(r.ngList),o=s&&new RegExp(s[1])||r.ngList||",",u=function(e){if(D(e))return;var t=[];return e&&E(e.split(o),function(e){e&&t.push($(e))}),t};i.$parsers.push(u),i.$formatters.push(function(e){return I(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Gi=/^(true|false|\d+)$/,Yi=function(){return{priority:100,compile:function(e,t){return Gi.test(t.ngValue)?function(t,n,r){r.$set("value",t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,function(t){r.$set("value",t)})}}}},Zi=Ei({compile:function(e){return e.addClass("ng-binding"),function(e,t,r){t.data("$binding",r.ngBind),e.$watch(r.ngBind,function(r){t.text(r==n?"":r)})}}}),es=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],ts=["$sce","$parse",function(e,t){return function(n,r,i){function o(){return(s(n)||"").toString()}r.addClass("ng-binding").data("$binding",i.ngBindHtml);var s=t(i.ngBindHtml);n.$watch(o,function(i){r.html(e.getTrustedHtml(s(n))||"")})}}],rs=ns("",!0),is=ns("Odd",0),ss=ns("Even",1),os=Ei({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),us=[function(){return{scope:!0,controller:"@",priority:500}}],as={};E("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Fn("ng-"+e);as[t]=["$parse",function(n){return{compile:function(r,s){var o=n(s[t]);return function(n,r){r.on(i(e),function(e){n.$apply(function(){o(n,{$event:e})})})}}}}]});var fs=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a,f;n.$watch(i.ngIf,function(l){ht(l)?a||(a=n.$new(),o(a,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),u={clone:n},e.enter(n,r.parent(),r)})):(f&&(f.remove(),f=null),a&&(a.$destroy(),a=null),u&&(f=Lt(u.clone),e.leave(f,function(){f=null}),u=null))})}}}],ls=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:m.noop,compile:function(s,o){var u=o.ngInclude||o.src,a=o.onload||"",f=o.autoscroll;return function(s,o,l,c,h){var p=0,d,v,m,g=function(){v&&(v.remove(),v=null),d&&(d.$destroy(),d=null),m&&(r.leave(m,function(){v=null}),v=m,m=null)};s.$watch(i.parseAsResourceUrl(u),function(u){var l=function(){P(f)&&(!f||s.$eval(f))&&n()},v=++p;u?(e.get(u,{cache:t}).success(function(e){if(v!==p)return;var t=s.$new();c.template=e;var n=h(t,function(e){g(),r.enter(e,null,o,l)});d=t,m=n,d.$emit("$includeContentLoaded"),s.$eval(a)}).error(function(){v===p&&g()}),s.$emit("$includeContentRequested")):(g(),c.template=null)})}}}}],cs=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],hs=Ei({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ps=Ei({terminal:!0,priority:1e3}),ds=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,s,o){var u=o.count,a=o.$attr.when&&s.attr(o.$attr.when),f=o.offset||0,l=r.$eval(a)||{},c={},h=t.startSymbol(),p=t.endSymbol(),d=/^when(Minus)?(.+)$/;E(o,function(e,t){d.test(t)&&(l[i(t.replace("when","").replace("Minus","-"))]=s.attr(o.$attr[t]))}),E(l,function(e,r){c[r]=t(e.replace(n,h+u+"-"+f+p))}),r.$watch(function(){var n=parseFloat(r.$eval(u));return isNaN(n)?"":(n in l||(n=e.pluralCat(n-f)),c[n](r,s,!0))},function(t){s.text(t)})}}}],vs=["$parse","$animate",function(e,n){function o(e){return e.clone[0]}function u(e){return e.clone[e.clone.length-1]}var i="$$NG_REMOVED",s=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,a,f,c,h){var p=f.ngRepeat,d=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),v,m,g,y,b,S,x,T,N,C={$id:yn};if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);S=d[1],x=d[2],v=d[3],v?(m=e(v),g=function(e,t,n){return N&&(C[N]=e),C[T]=t,C.$index=n,m(r,C)}):(y=function(e,t){return yn(t)},b=function(e){return e}),d=S.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",S);T=d[3]||d[1],N=d[2];var k={};r.$watchCollection(x,function(f){var c,d,v=a[0],m,S={},x,C,L,A,O,M,_,D,P=[],H;if(w(f))_=f,M=g||y;else{M=g||b,_=[];for(L in f)f.hasOwnProperty(L)&&L.charAt(0)!="$"&&_.push(L);_.sort()}x=_.length,d=P.length=_.length;for(c=0;c<d;c++){L=f===_?c:_[c],A=f[L],O=M(L,A,c),Ct(O,"`track by` id");if(k.hasOwnProperty(O))D=k[O],delete k[O],S[O]=D,P[c]=D;else{if(S.hasOwnProperty(O))throw E(P,function(e){e&&e.scope&&(k[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",p,O);P[c]={id:O},S[O]=!1}}for(L in k)k.hasOwnProperty(L)&&(D=k[L],H=Lt(D.clone),n.leave(H),E(H,function(e){e[i]=!0}),D.scope.$destroy());for(c=0,d=_.length;c<d;c++){L=f===_?c:_[c],A=f[L],D=P[c],P[c-1]&&(v=u(P[c-1]));if(D.scope){C=D.scope,m=v;do m=m.nextSibling;while(m&&m[i]);o(D)!=m&&n.move(Lt(D.clone),null,l(v)),v=u(D)}else C=r.$new();C[T]=A,N&&(C[N]=L),C.$index=c,C.$first=c===0,C.$last=c===x-1,C.$middle=!C.$first&&!C.$last,C.$odd=!(C.$even=(c&1)===0),D.scope||h(C,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+p+" "),n.enter(e,null,l(v)),v=e,D.scope=C,D.clone=e,S[D.id]=D})}k=S})}}}],ms=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(r){e[ht(r)?"removeClass":"addClass"](n,"ng-hide")})}}],gs=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(r){e[ht(r)?"addClass":"removeClass"](n,"ng-hide")})}}],ys=Ei(function(e,t,n){e.$watch(n.ngStyle,function(n,r){r&&n!==r&&E(r,function(e,n){t.css(n,"")}),n&&t.css(n)},!0)}),bs=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var s=r.ngSwitch||r.on,o=[],u=[],a=[],f=[];t.$watch(s,function(s){var l,c;for(l=0,c=a.length;l<c;++l)a[l].remove();a.length=0;for(l=0,c=f.length;l<c;++l){var h=u[l];f[l].$destroy(),a[l]=h,e.leave(h,function(){a.splice(l,1)})}u.length=0,f.length=0;if(o=i.cases["!"+s]||i.cases["?"])t.$eval(r.change),E(o,function(n){var r=t.$new();f.push(r),n.transclude(r,function(t){var r=n.element;u.push(t),e.enter(t,r.parent(),r)})})})}}}],ws=Ei({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Es=Ei({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ss=Ei({link:function(e,t,n,i,s){if(!s)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",pt(t));s(function(e){t.empty(),t.append(e)})}}),xs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if(n.type=="text/ng-template"){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ts=r("ngOptions"),Ns=_({terminal:!0}),Cs=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:O};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r=this,i={},o=s,u,a;r.databound=n.ngModel,r.init=function(e,t,n){o=e,u=t,a=n},r.addOption=function(t){Ct(t,'"option value"'),i[t]=!0,o.$viewValue==t&&(e.val(t),a.parent()&&a.remove())},r.removeOption=function(e){this.hasOption(e)&&(delete i[e],o.$viewValue==e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){var n="? "+yn(t)+" ?";a.val(n),e.prepend(a),e.val(n),a.prop("selected",!0)},r.hasOption=function(e){return i.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=O})}],link:function(s,o,u,a){function T(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(y.parent()&&y.remove(),t.val(e),e===""&&v.prop("selected",!0)):D(e)&&v?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){y.parent()&&y.remove(),n.$setViewValue(t.val())})})}function N(e,t,n){var r;n.$render=function(){var e=new bn(n.$viewValue);E(t.find("option"),function(t){t.selected=P(e.get(t.value))})},e.$watch(function(){it(r,n.$viewValue)||(r=rt(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];E(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function C(t,s,o){function x(){var e={"":[]},n=[""],r,i,u,p,b,x,T=o.$modelValue,N=y(t)||[],C=l?S(N):N,k,L,A,O,M,_={},D,H=!1,B,j,F;if(h)if(w&&I(T)){H=new bn([]);for(var q=0;q<T.length;q++)_[f]=T[q],H.put(w(t,_),T[q])}else H=new bn(T);for(M=0;A=C.length,M<A;M++){k=M;if(l){k=C[M];if(k.charAt(0)==="$")continue;_[l]=k}_[f]=N[k],r=c(t,_)||"",(i=e[r])||(i=e[r]=[],n.push(r));if(h)D=P(H.remove(w?w(t,_):v(t,_)));else{if(w){var R={};R[f]=T,D=w(t,R)===w(t,_)}else D=T===v(t,_);H=H||D}F=a(t,_),F=P(F)?F:"",i.push({id:w?w(t,_):l?C[M]:M,label:F,selected:D})}h||(d||T===null?e[""].unshift({id:"",label:"",selected:!H}):H||e[""].unshift({id:"?",label:"",selected:!0}));for(O=0,L=n.length;O<L;O++){r=n[O],i=e[r],E.length<=O?(p={element:g.clone().attr("label",r),label:i.label},b=[p],E.push(b),s.append(p.element)):(b=E[O],p=b[0],p.label!=r&&p.element.attr("label",p.label=r)),B=null;for(M=0,A=i.length;M<A;M++)u=i[M],(x=b[M+1])?(B=x.element,x.label!==u.label&&B.text(x.label=u.label),x.id!==u.id&&B.val(x.id=u.id),x.selected!==u.selected&&B.prop("selected",x.selected=u.selected)):(u.id===""&&d?j=d:(j=m.clone()).val(u.id).prop("selected",u.selected).text(u.label),b.push(x={element:j,label:u.label,id:u.id,selected:u.selected}),B?B.after(j):p.element.append(j),B=j);M++;while(b.length>M)b.pop().element.remove()}while(E.length>O)E.pop()[0].element.remove()}var u;if(!(u=p.match(i)))throw Ts("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",p,pt(s));var a=r(u[2]||u[1]),f=u[4]||u[6],l=u[5],c=r(u[3]||""),v=r(u[2]?u[1]:f),y=r(u[7]),b=u[8],w=b?r(u[8]):null,E=[[{element:s,label:""}]];d&&(e(d)(t),d.removeClass("ng-scope"),d.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,r=y(t)||[],i={},u,a,c,p,d,m,g,b;if(h){a=[];for(d=0,g=E.length;d<g;d++){e=E[d];for(p=1,m=e.length;p<m;p++)if((c=e[p].element)[0].selected){u=c.val(),l&&(i[l]=u);if(w)for(b=0;b<r.length;b++){i[f]=r[b];if(w(t,i)==u)break}else i[f]=r[u];a.push(v(t,i))}}}else{u=s.val();if(u=="?")a=n;else if(u==="")a=null;else if(w)for(b=0;b<r.length;b++){i[f]=r[b];if(w(t,i)==u){a=v(t,i);break}}else i[f]=r[u],l&&(i[l]=u),a=v(t,i);E[0].length>1&&E[0][1].id!==u&&(E[0][1].selected=!1)}o.$setViewValue(a)})}),o.$render=x,t.$watch(x)}if(!a[1])return;var f=a[0],c=a[1],h=u.multiple,p=u.ngOptions,d=!1,v,m=l(t.createElement("option")),g=l(t.createElement("optgroup")),y=m.clone();for(var b=0,w=o.children(),x=w.length;b<x;b++)if(w[b].value===""){v=d=w.eq(b);break}f.init(c,d,y),h&&(c.$isEmpty=function(e){return!e||e.length===0}),p?C(s,o,c):h?N(s,o,c):T(s,o,c,f)}}}],ks=["$interpolate",function(e){var t={addOption:O,removeOption:O};return{restrict:"E",priority:100,compile:function(n,r){if(D(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var s="$selectController",o=n.parent(),u=o.data(s)||o.parent().data(s);u&&u.databound?n.prop("selected",!1):u=t,i?e.$watch(i,function(t,n){r.$set("value",t),t!==n&&u.removeOption(n),u.addOption(t)}):u.addOption(r.value),n.on("$destroy",function(){u.removeOption(r.value)})}}}}],Ls=_({restrict:"E",terminal:!0});if(e.angular.bootstrap){console.log("WARNING: Tried to load angular more than once.");return}xt(),Mt(m),l(t).ready(function(){bt(t,wt)})})(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),define("angular",function(e){return function(){var t,n;return t||e.angular}}(this)),define("services",["angular"],function(e){function n(){this.DUMMY_PUSH_ELEMENT=!0,this.processStack=[],this.register=function(){this.processStack.push(this.DUMMY_PUSH_ELEMENT)},this.unregister=function(){this.processStack.pop()},this.isLoading=function(){return this.processStack.length>0}}var t=e.module("postySoft.services",[]);t.value("version","0.2"),t.factory("Page",function(){var e="default";return{title:function(){return e},setTitle:function(t){e=t}}}),t.factory("AlertService",["$timeout",function(e){var t=[],n=1e4,r=function(){t.splice(0,1)};return{addAlert:function(i,s){var o=t.push({type:i,msg:s});e(r,n)},closeAlert:function(e){t.splice(e,1)},clearAlerts:function(){t=[]},alerts:function(){return t}}}]),t.service("ModalService",["$modal",function(t){var n={backdrop:!0,keyboard:!1,modalFade:!0,templateUrl:"partials/partial_modal.html",resolve:{data:function(){return null}}},r={closeButtonText:"Cancel",actionButtonText:"Save",headerText:"",bodyText:""};this.show=function(i,s){var o={},u={};return e.extend(o,n,i),e.extend(u,r,s),o.controller||(o.controller=function(e,t,n){e.modalOptions=u,e.data=n,e.modalOptions.ok=function(e){t.close(e)},e.modalOptions.close=function(e){t.dismiss("cancel")}},o.controller.$inject=["$scope","$modalInstance","data"]),t.open(o)}}]),t.service("SelectDomainService",["$modal",function(e){var t=!1,n={backdrop:!0,keyboard:!1,modalFade:!0,openJustOnce:!0,templateUrl:"partials/partial_select_domain.html",resolve:{data:function(){return null}},controller:function(e,t,n,r,i){e.data=r,e.getList=function(){return i.getList()},e.ok=function(e){n.close(e)},e.close=function(e){t.path(""),n.dismiss("cancel")}}};n.controller.$inject=["$scope","$location","$modalInstance","data","Domains"],this.show=function(){if(!n.openJustOnce||n.openJustOnce&&!t)return e.open(n)}}]),t.factory("Servers",["Restangular",function(e){var t=[],n={url:"",key:""},r=n;return{add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},currentServer:function(){return r},setCurrentServer:function(t){t!=r&&(r=t,e.setBaseUrl(t.url),e.setDefaultHeaders({auth_token:t.key}))},getList:function(){return t},moreThanOneServer:function(){return t.length>1},isValid:function(){return r!=null}}}]),t.service("SelectServerService",["$modal",function(e){var t=!1,n={backdrop:!0,keyboard:!1,modalFade:!0,openJustOnce:!0,templateUrl:"partials/partial_select_server.html",resolve:{data:function(){return null}},controller:function(e,t,n,r){e.data=n,e.getList=function(){return r.getList()},e.ok=function(e){t.close(e)}}};n.controller.$inject=["$scope","$modalInstance","data","Servers"],this.show=function(){if(!n.openJustOnce||n.openJustOnce&&!t)return e.open(n)}}]),t.factory("ProcessService",[function(){return new n}]),t.provider("ProcessService",function(){var t=new n;this.register=function(){t.register()},this.unregister=function(){t.unregister()},this.$get=[function(){return t}]}),t.service("ErrorService",[function(){this.statusCode=0,this.msg="",this.occurred=!1,this.throw=function(e,t){this.statusCode=e,this.msg=t,this.occurred=!0},this.reset=function(){this.occurred=!1},this.getStatusCode=function(){return this.statusCode},this.getMessage=function(){return this.msg},this.occurred=function(){return this.occurred}}]),t.factory("ResponseHandler",["ErrorService","$location",function(e,t){return{add:function(n){switch(n.status){case 401:e.throw("401","Invalid API-Key"),t.path("/error");break;case 404:e.throw("404","Ther Server is unreachable"),t.path("/error")}}}}])}),!function(){function p(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function d(e){return e!=null&&!isNaN(e)}function v(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}function g(e){return e.length}function b(e){var t=1;while(e*t%1)t*=10;return t}function w(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function E(){}function T(e){return S+e in this}function N(e){return e=S+e,e in this&&delete this[e]}function C(){var e=[];return this.forEach(function(t){e.push(t)}),e}function k(){var e=0;for(var t in this)t.charCodeAt(0)===x&&++e;return e}function L(){for(var e in this)if(e.charCodeAt(0)===x)return!1;return!0}function A(){}function O(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function M(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,r=_.length;n<r;++n){var i=_[n]+t;if(i in e)return i}}function D(){}function P(){}function H(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)(s=n[r].on)&&s.apply(this,arguments);return e}var t=[],n=new E;return r.on=function(r,i){var s=n.get(r),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function B(){e.event.preventDefault()}function j(){var t=e.event,n;while(n=t.sourceEvent)t=n;return t}function F(t){var n=new P,r=0,i=arguments.length;while(++r<i)n[arguments[r]]=H(n);return n.of=function(r,i){return function(s){try{var o=s.sourceEvent=e.event;s.target=t,e.event=s,n[s.type].apply(r,i)}finally{e.event=o}}},n}function R(e){return q(e,V),e}function $(e){return typeof e=="function"?e:function(){return U(e,this)}}function J(e){return typeof e=="function"?e:function(){return z(e,this)}}function Q(t,n){function r(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function s(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=e.ns.qualify(t),n==null?t.local?i:r:typeof n=="function"?t.local?a:u:t.local?o:s}function G(e){return e.trim().replace(/\s+/g," ")}function Y(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function Z(e){return e.trim().split(/^|\s+/)}function et(e,t){function r(){var r=-1;while(++r<n)e[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<n)e[r](this,i)}e=Z(e).map(tt);var n=e.length;return typeof t=="function"?i:r}function tt(e){var t=Y(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",G(i+" "+e))):n.setAttribute("class",G(i.replace(t," ")))}}function nt(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t=="function"?s:i}function rt(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t=="function"?i:r}function it(t){return typeof t=="function"?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function st(e){return{__data__:e}}function ot(e){return function(){return X(this,e)}}function ut(e){return arguments.length||(e=p),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function at(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],s=0,o=i.length,u;s<o;s++)(u=i[s])&&t(u,s,n);return e}function ft(e){return q(e,lt),e}function ct(e){var t,n;return function(r,i,s){var o=e[s].update,u=o.length,a;s!=n&&(n=s,t=0),i>=t&&(t=i+1);while(!(a=o[t])&&++t<u);return a}}function ht(){var e=this.__transition__;e&&++e.active}function dt(t,r,i){function f(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function l(){var e=u(r,n(arguments));f.call(this),this.addEventListener(t,this[s]=e,e.$=i),e._=r}function c(){var n=new RegExp("^__on([^.]+)"+e.requote(t)+"$"),r;for(var i in this)if(r=i.match(n)){var s=this[i];this.removeEventListener(r[1],s,s.$),delete this[i]}}var s="__on"+t,o=t.indexOf("."),u=mt;o>0&&(t=t.substring(0,o));var a=vt.get(t);return a&&(t=a,u=gt),o?r?l:f:r?D:c}function mt(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function gt(e,t){var n=mt(e,t);return function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!(r.compareDocumentPosition(t)&8))&&n.call(t,e)}}function wt(){var t=".dragsuppress-"+ ++bt,n="click"+t,r=e.select(s).on("touchmove"+t,B).on("dragstart"+t,B).on("selectstart"+t,B);if(yt){var o=i.style,u=o[yt];o[yt]="none"}return function(e){r.on(t,null),yt&&(o[yt]=u);if(e){function i(){r.on(n,null)}r.on(n,function(){B(),i()},!0),setTimeout(i,0)}}}function Et(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function St(){return e.event.changedTouches[0].identifier}function xt(){return e.event.target}function Tt(){return s}function _t(e){return e>0?1:e<0?-1:0}function Dt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Pt(e){return e>1?0:e<-1?Nt:Math.acos(e)}function Ht(e){return e>1?kt:e<-1?-kt:Math.asin(e)}function Bt(e){return((e=Math.exp(e))-1/e)/2}function jt(e){return((e=Math.exp(e))+1/e)/2}function Ft(e){return((e=Math.exp(2*e))-1)/(e+1)}function It(e){return(e=Math.sin(e/2))*e}function Vt(){}function $t(e,t,n){return new Jt(e,t,n)}function Jt(e,t,n){this.h=e,this.s=t,this.l=n}function Qt(e,t,n){function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,mn(o(e+120),o(e),o(e-120))}function Gt(e,t,n){return new Yt(e,t,n)}function Yt(e,t,n){this.h=e,this.c=t,this.l=n}function en(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),tn(n,Math.cos(e*=Ot)*t,Math.sin(e)*t)}function tn(e,t,n){return new nn(e,t,n)}function nn(e,t,n){this.l=e,this.a=t,this.b=n}function fn(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=cn(i)*sn,r=cn(r)*on,s=cn(s)*un,mn(pn(3.2404542*i-1.5371385*r-.4985314*s),pn(-0.969266*i+1.8760108*r+.041556*s),pn(.0556434*i-.2040259*r+1.0572252*s))}function ln(e,t,n){return e>0?Gt(Math.atan2(n,t)*Mt,Math.sqrt(t*t+n*n),e):Gt(NaN,NaN,e)}function cn(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function hn(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function pn(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function dn(e){return mn(e>>16,e>>8&255,e&255)}function vn(e){return dn(e)+""}function mn(e,t,n){return new gn(e,t,n)}function gn(e,t,n){this.r=e,this.g=t,this.b=n}function bn(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function wn(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(Tn(u[0]),Tn(u[1]),Tn(u[2]))}}return(a=Nn.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&!isNaN(a=parseInt(e.substring(1),16))&&(e.length===4?(r=(a&3840)>>4,r=r>>4|r,i=a&240,i=i>>4|i,s=a&15,s=s<<4|s):e.length===7&&(r=(a&16711680)>>16,i=(a&65280)>>8,s=a&255)),t(r,i,s))}function En(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):(o=NaN,u=a>0&&a<1?0:o),$t(o,u,a)}function Sn(e,t,n){e=xn(e),t=xn(t),n=xn(n);var r=hn((.4124564*e+.3575761*t+.1804375*n)/sn),i=hn((.2126729*e+.7151522*t+.072175*n)/on),s=hn((.0193339*e+.119192*t+.9503041*n)/un);return tn(116*i-16,500*(r-i),200*(i-s))}function xn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Tn(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function Cn(e){return typeof e=="function"?e:function(){return e}}function kn(e){return e}function Ln(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=null),An(t,n,e,r)}}function An(t,r,i,o){function h(){var e=l.status,t;if(!e&&l.responseText||e>=200&&e<300||e===304){try{t=i.call(u,l)}catch(n){a.error.call(u,n);return}a.load.call(u,t)}else a.error.call(u,l)}var u={},a=e.dispatch("beforesend","progress","load","error"),f={},l=new XMLHttpRequest,c=null;return s.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var n=e.event;e.event=t;try{a.progress.call(u,l)}finally{e.event=n}},u.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?f[e]:(t==null?delete f[e]:f[e]=t+"",u)},u.mimeType=function(e){return arguments.length?(r=e==null?null:e+"",u):r},u.responseType=function(e){return arguments.length?(c=e,u):c},u.response=function(e){return i=e,u},["get","post"].forEach(function(e){u[e]=function(){return u.send.apply(u,[e].concat(n(arguments)))}}),u.send=function(e,n,i){arguments.length===2&&typeof n=="function"&&(i=n,n=null),l.open(e,t,!0),r!=null&&!("accept"in f)&&(f.accept=r+",*/*");if(l.setRequestHeader)for(var s in f)l.setRequestHeader(s,f[s]);return r!=null&&l.overrideMimeType&&l.overrideMimeType(r),c!=null&&(l.responseType=c),i!=null&&u.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(u,l),l.send(n==null?null:n),u},u.abort=function(){return l.abort(),u},e.rebind(u,a,"on"),o==null?u:u.get(On(o))}function On(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function jn(){var e=Fn(),t=In()-e;t>24?(isFinite(t)&&(clearTimeout(Pn),Pn=setTimeout(jn,t)),Dn=0):(Dn=1,Bn(jn))}function Fn(){var e=Date.now();Hn=Mn;while(Hn)e>=Hn.t&&(Hn.f=Hn.c(e-Hn.t)),Hn=Hn.n;return e}function In(){var e,t=Mn,n=Infinity;while(t)t.f?t=e?e.n=t.n:Mn=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return _n=e,n}function qn(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Un(e,t){var n=Math.pow(10,y(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function zn(t){var n=t.decimal,r=t.thousands,i=t.grouping,s=t.currency,o=i?function(e){var t=e.length,n=[],s=0,o=i[0];while(t>0&&o>0)n.push(e.substring(t-=o,t+o)),o=i[s=(s+1)%i.length];return n.reverse().join(r)}:kn;return function(t){var r=Wn.exec(t),i=r[1]||" ",u=r[2]||">",a=r[3]||"",f=r[4]||"",l=r[5],c=+r[6],h=r[7],p=r[8],d=r[9],v=1,m="",g="",y=!1;p&&(p=+p.substring(1));if(l||i==="0"&&u==="=")l=i="0",u="=",h&&(c-=Math.floor((c-1)/4));switch(d){case"n":h=!0,d="g";break;case"%":v=100,g="%",d="f";break;case"p":v=100,g="%",d="r";break;case"b":case"o":case"x":case"X":f==="#"&&(m="0"+d.toLowerCase());case"c":case"d":y=!0,p=0;break;case"s":v=-1,d="r"}f==="$"&&(m=s[0],g=s[1]),d=="r"&&!p&&(d="g");if(p!=null)if(d=="g")p=Math.max(1,Math.min(21,p));else if(d=="e"||d=="f")p=Math.max(0,Math.min(20,p));d=Xn.get(d)||Vn;var b=l&&h;return function(t){var r=g;if(y&&t%1)return"";var s=t<0||t===0&&1/t<0?(t=-t,"-"):a;if(v<0){var f=e.formatPrefix(t,p);t=f.scale(t),r=f.symbol+g}else t*=v;t=d(t,p);var w=t.lastIndexOf("."),E=w<0?t:t.substring(0,w),S=w<0?"":n+t.substring(w+1);!l&&h&&(E=o(E));var x=m.length+E.length+S.length+(b?0:s.length),T=x<c?(new Array(x=c-x+1)).join(i):"";return b&&(E=o(T+E)),s+=m,t=E+S,(u==="<"?s+t+T:u===">"?T+s+t:u==="^"?T.substring(0,x>>=1)+s+t+T.substring(x):s+(b?t:T+t))+r}}}function Vn(e){return e+""}function Kn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Gn(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Jn(n-1)),1),n}function s(e,n){return t(e=new Jn(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r)n(o)%s||u.push(new Date(+o)),t(o,1);else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{Jn=Kn;var r=new Kn;return r._=e,o(r,t,n)}finally{Jn=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Yn(e);return a.floor=a,a.round=Yn(r),a.ceil=Yn(i),a.offset=Yn(s),a.range=u,e}function Yn(e){return function(t,n){try{Jn=Kn;var r=new Kn;return r._=t,e(r,n)._}finally{Jn=Date}}}function Zn(t){function l(e){function n(n){var r=[],i=-1,s=0,o,u,a;while(++i<t)if(e.charCodeAt(i)===37){r.push(e.substring(s,i)),(u=er[o=e.charAt(++i)])!=null&&(o=e.charAt(++i));if(a=E[o])o=a(n,u==null?o==="e"?" ":"0":u);r.push(o),s=i+1}return r.push(e.substring(s,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=c(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=n.Z!=null&&Jn!==Kn,s=new(i?Kn:Jn);return"j"in n?s.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(s.setFullYear(n.y,0,1),s.setFullYear(n.y,0,"W"in n?(n.w+6)%7+n.W*7-(s.getDay()+5)%7:n.w+n.U*7-(s.getDay()+6)%7)):s.setFullYear(n.y,n.m,n.d),s.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),i?s._:s},n.toString=function(){return e},n}function c(e,t,n,r){var i,s,o,u=0,a=t.length,f=n.length;while(u<a){if(r>=f)return-1;i=t.charCodeAt(u++);if(i===37){o=t.charAt(u++),s=S[o in er?t.charAt(u++):o];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function x(e,t,n){v.lastIndex=0;var r=v.exec(t.substring(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1}function T(e,t,n){p.lastIndex=0;var r=p.exec(t.substring(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1}function N(e,t,n){b.lastIndex=0;var r=b.exec(t.substring(n));return r?(e.m=w.get(r[0].toLowerCase()),n+r[0].length):-1}function C(e,t,n){g.lastIndex=0;var r=g.exec(t.substring(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function k(e,t,n){return c(e,E.c.toString(),t,n)}function L(e,t,n){return c(e,E.x.toString(),t,n)}function A(e,t,n){return c(e,E.X.toString(),t,n)}function O(e,t,n){var r=h.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}var n=t.dateTime,r=t.date,i=t.time,s=t.periods,o=t.days,u=t.shortDays,a=t.months,f=t.shortMonths;l.utc=function(e){function n(e){try{Jn=Kn;var n=new Jn;return n._=e,t(n)}finally{Jn=Date}}var t=l(e);return n.parse=function(e){try{Jn=Kn;var n=t.parse(e);return n&&n._}finally{Jn=Date}},n.toString=t.toString,n},l.multi=l.utc.multi=Sr;var h=e.map(),p=ir(o),d=sr(o),v=ir(u),m=sr(u),g=ir(a),y=sr(a),b=ir(f),w=sr(f);s.forEach(function(e,t){h.set(e.toLowerCase(),t)});var E={a:function(e){return u[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:l(n),d:function(e,t){return rr(e.getDate(),t,2)},e:function(e,t){return rr(e.getDate(),t,2)},H:function(e,t){return rr(e.getHours(),t,2)},I:function(e,t){return rr(e.getHours()%12||12,t,2)},j:function(e,t){return rr(1+$n.dayOfYear(e),t,3)},L:function(e,t){return rr(e.getMilliseconds(),t,3)},m:function(e,t){return rr(e.getMonth()+1,t,2)},M:function(e,t){return rr(e.getMinutes(),t,2)},p:function(e){return s[+(e.getHours()>=12)]},S:function(e,t){return rr(e.getSeconds(),t,2)},U:function(e,t){return rr($n.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return rr($n.mondayOfYear(e),t,2)},x:l(r),X:l(i),y:function(e,t){return rr(e.getFullYear()%100,t,2)},Y:function(e,t){return rr(e.getFullYear()%1e4,t,4)},Z:wr,"%":function(){return"%"}},S={a:x,A:T,b:N,B:C,c:k,d:dr,e:dr,H:mr,I:mr,j:vr,L:br,m:pr,M:gr,p:O,S:yr,U:ur,w:or,W:ar,x:L,X:A,y:lr,Y:fr,Z:cr,"%":Er};return l}function rr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?(new Array(n-s+1)).join(t)+i:i)}function ir(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function sr(e){var t=new E,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function or(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ur(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n));return r?(e.U=+r[0],n+r[0].length):-1}function ar(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n));return r?(e.W=+r[0],n+r[0].length):-1}function fr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+2));return r?(e.y=hr(+r[0]),n+r[0].length):-1}function cr(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=-t,n+5):-1}function hr(e){return e+(e>68?1900:2e3)}function pr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function mr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yr(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function br(e,t,n){tr.lastIndex=0;var r=tr.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wr(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(y(t)/60),i=y(t)%60;return n+rr(r,"0",2)+rr(i,"0",2)}function Er(e,t,n){nr.lastIndex=0;var r=nr.exec(t.substring(n,n+1));return r?n+r[0].length:-1}function Sr(e){var t=e.length,n=-1;while(++n<t)e[n][0]=this(e[n][0]);return function(t){var n=0,r=e[n];while(!r[1](t))r=e[++n];return r[0](t)}}function Tr(){}function Cr(e,t,n){var r=n.s=e+t,i=r-e,s=r-i;n.t=e-s+(t-i)}function kr(e,t){e&&Ar.hasOwnProperty(e.type)&&Ar[e.type](e,t)}function Or(e,t,n){var r=-1,i=e.length-n,s;t.lineStart();while(++r<i)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function Mr(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)Or(e[n],t,1);t.polygonEnd()}function Hr(){function s(e,t){e*=Ot,t=t*Ot/2+Nt/4;var s=e-n,o=s>=0?1:-1,u=o*s,a=Math.cos(t),f=Math.sin(t),l=i*f,c=r*a+l*Math.cos(u),h=l*o*Math.sin(u);Dr.add(Math.atan2(h,c)),n=e,r=a,i=f}var e,t,n,r,i;Pr.point=function(o,u){Pr.point=s,n=(e=o)*Ot,r=Math.cos(u=(t=u)*Ot/2+Nt/4),i=Math.sin(u)},Pr.lineEnd=function(){s(e,t)}}function Br(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function jr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Fr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ir(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function qr(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Rr(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ur(e){return[Math.atan2(e[1],e[0]),Ht(e[2])]}function zr(e,t){return y(e[0]-t[0])<Lt&&y(e[1]-t[1])<Lt}function ni(e,t){e*=Ot;var n=Math.cos(t*=Ot);ri(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function ri(e,t,n){++Wr,Vr+=(e-Vr)/Wr,$r+=(t-$r)/Wr,Jr+=(n-Jr)/Wr}function ii(){function r(r,i){r*=Ot;var s=Math.cos(i*=Ot),o=s*Math.cos(r),u=s*Math.sin(r),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=t*a-n*u)*f+(f=n*o-e*a)*f+(f=e*u-t*o)*f),e*o+t*u+n*a);Xr+=f,Kr+=f*(e+(e=o)),Qr+=f*(t+(t=u)),Gr+=f*(n+(n=a)),ri(e,t,n)}var e,t,n;ti.point=function(i,s){i*=Ot;var o=Math.cos(s*=Ot);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(s),ti.point=r,ri(e,t,n)}}function si(){ti.point=ni}function oi(){function s(e,t){e*=Ot;var s=Math.cos(t*=Ot),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(t),f=r*a-i*u,l=i*o-n*a,c=n*u-r*o,h=Math.sqrt(f*f+l*l+c*c),p=n*o+r*u+i*a,d=h&&-Pt(p)/h,v=Math.atan2(h,p);Yr+=d*f,Zr+=d*l,ei+=d*c,Xr+=v,Kr+=v*(n+(n=o)),Qr+=v*(r+(r=u)),Gr+=v*(i+(i=a)),ri(n,r,i)}var e,t,n,r,i;ti.point=function(o,u){e=o,t=u,ti.point=s,o*=Ot;var a=Math.cos(u*=Ot);n=a*Math.cos(o),r=a*Math.sin(o),i=Math.sin(u),ri(n,r,i)},ti.lineEnd=function(){s(e,t),ti.lineEnd=si,ti.point=ni}}function ui(){return!0}function ai(e,t,n,r,i){var s=[],o=[];e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],r=e[t];if(zr(n,r)){i.lineStart();for(var u=0;u<t;++u)i.point((n=e[u])[0],n[1]);i.lineEnd();return}var a=new li(n,e,null,!0),f=new li(n,null,a,!1);a.o=f,s.push(a),o.push(f),a=new li(r,e,null,!1),f=new li(r,null,a,!0),a.o=f,s.push(a),o.push(f)}),o.sort(t),fi(s),fi(o);if(!s.length)return;for(var u=0,a=n,f=o.length;u<f;++u)o[u].e=a=!a;var l=s[0],c,h;for(;;){var p=l,d=!0;while(p.v)if((p=p.n)===l)return;c=p.z,i.lineStart();do{p.v=p.o.v=!0;if(p.e){if(d)for(var u=0,f=c.length;u<f;++u)i.point((h=c[u])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){c=p.p.z;for(var u=c.length-1;u>=0;--u)i.point((h=c[u])[0],h[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,d=!d}while(!p.v);i.lineEnd()}}function fi(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}function li(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ci(t,n,r,i){return function(s,o){function l(e,n){var r=s(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function c(e,t){var n=s(e,t);u.point(n[0],n[1])}function h(){f.point=c,u.lineStart()}function p(){f.point=l,u.lineEnd()}function w(e,t){b.push([e,t]);var n=s(e,t);m.point(n[0],n[1])}function E(){m.lineStart(),b=[]}function S(){w(b[0][0],b[0][1]),m.lineEnd();var e=m.clean(),t=v.buffer(),n,r=t.length;b.pop(),y.push(b),b=null;if(!r)return;if(e&1){n=t[0];var r=n.length-1,i=-1,s;if(r>0){g||(o.polygonStart(),g=!0),o.lineStart();while(++i<r)o.point((s=n[i])[0],s[1]);o.lineEnd()}return}r>1&&e&2&&t.push(t.pop().concat(t.shift())),d.push(t.filter(hi))}var u=n(o),a=s.invert(i[0],i[1]),f={point:l,lineStart:h,lineEnd:p,polygonStart:function(){f.point=w,f.lineStart=E,f.lineEnd=S,d=[],y=[]},polygonEnd:function(){f.point=l,f.lineStart=h,f.lineEnd=p,d=e.merge(d);var t=vi(a,y);d.length?(g||(o.polygonStart(),g=!0),ai(d,di,t,r,o)):t&&(g||(o.polygonStart(),g=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),d=y=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}},d,v=pi(),m=n(v),g=!1,y,b;return f}}function hi(e){return e.length>1}function pi(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:D,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function di(e,t){return((e=e.x)[0]<0?e[1]-kt-Lt:kt-e[1])-((t=t.x)[0]<0?t[1]-kt-Lt:kt-t[1])}function vi(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;Dr.reset();for(var u=0,a=t.length;u<a;++u){var f=t[u],l=f.length;if(!l)continue;var c=f[0],h=c[0],p=c[1]/2+Nt/4,d=Math.sin(p),v=Math.cos(p),m=1;for(;;){m===l&&(m=0),e=f[m];var g=e[0],y=e[1]/2+Nt/4,b=Math.sin(y),w=Math.cos(y),E=g-h,S=E>=0?1:-1,x=S*E,T=x>Nt,N=d*b;Dr.add(Math.atan2(N*S*Math.sin(x),v*w+N*Math.cos(x))),s+=T?E+S*Ct:E;if(T^h>=n^g>=n){var C=Fr(Br(c),Br(e));Rr(C);var k=Fr(i,C);Rr(k);var L=(T^E>=0?-1:1)*Ht(k[2]);if(r>L||r===L&&(C[0]||C[1]))o+=T^E>=0?1:-1}if(!(m++))break;h=g,d=b,v=w,c=e}}return(s<-Lt||s<Lt&&Dr<0)^o&1}function gi(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var u=s>0?Nt:-Nt,a=y(s-t);y(a-Nt)<Lt?(e.point(t,n=(n+o)/2>0?kt:-kt),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(s,n),i=0):r!==u&&a>=Nt&&(y(t-r)<Lt&&(t-=r*Lt),y(s-u)<Lt&&(s-=u*Lt),n=yi(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=s,n=o),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function yi(e,t,n,r){var i,s,o=Math.sin(e-n);return y(o)>Lt?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function bi(e,t,n,r){var i;if(e==null)i=n*kt,r.point(-Nt,i),r.point(0,i),r.point(Nt,i),r.point(Nt,0),r.point(Nt,-i),r.point(0,-i),r.point(-Nt,-i),r.point(-Nt,0),r.point(-Nt,i);else if(y(e[0]-t[0])>Lt){var s=e[0]<t[0]?Nt:-Nt;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function wi(e){function s(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e){var t,i,o,f,l;return{lineStart:function(){f=o=!1,l=1},point:function(c,h){var p=[c,h],d,v=s(c,h),m=n?v?0:a(c,h):v?a(c+(c<0?Nt:-Nt),h):0;!t&&(f=o=v)&&e.lineStart();if(v!==o){d=u(t,p);if(zr(t,d)||zr(p,d))p[0]+=Lt,p[1]+=Lt,v=s(p[0],p[1])}if(v!==o)l=0,v?(e.lineStart(),d=u(p,t),e.point(d[0],d[1])):(d=u(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^v){var g;!(m&i)&&(g=u(p,t,!0))&&(l=0,n?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}v&&(!t||!zr(t,p))&&e.point(p[0],p[1]),t=p,o=v,i=m},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return l|(f&&o)<<1}}}function u(e,n,r){var i=Br(e),s=Br(n),o=[1,0,0],u=Fr(i,s),a=jr(u,u),f=u[0],l=a-f*f;if(!l)return!r&&e;var c=t*a/l,h=-t*f/l,p=Fr(o,u),d=qr(o,c),v=qr(u,h);Ir(d,v);var m=p,g=jr(d,m),b=jr(m,m),w=g*g-b*(jr(d,d)-1);if(w<0)return;var E=Math.sqrt(w),S=qr(m,(-g-E)/b);Ir(S,d),S=Ur(S);if(!r)return S;var x=e[0],T=n[0],N=e[1],C=n[1],k;T<x&&(k=x,x=T,T=k);var L=T-x,A=y(L-Nt)<Lt,O=A||L<Lt;!A&&C<N&&(k=N,N=C,C=k);if(O?A?N+C>0^S[1]<(y(S[0]-x)<Lt?N:C):N<=S[1]&&S[1]<=C:L>Nt^(x<=S[0]&&S[0]<=T)){var M=qr(m,(-g+E)/b);return Ir(M,d),[S,Ur(M)]}}function a(t,r){var i=n?e:Nt-e,s=0;return t<-i?s|=1:t>i&&(s|=2),r<-i?s|=4:r>i&&(s|=8),s}var t=Math.cos(e),n=t>0,r=y(t)>Lt,i=is(e,6*Ot);return ci(s,o,i,n?[0,-e]:[-Nt,e-Nt])}function Ei(e,t,n,r){return function(i){var s=i.a,o=i.b,u=s.x,a=s.y,f=o.x,l=o.y,c=0,h=1,p=f-u,d=l-a,v;v=e-u;if(!p&&v>0)return;v/=p;if(p<0){if(v<c)return;v<h&&(h=v)}else if(p>0){if(v>h)return;v>c&&(c=v)}v=n-u;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;v>c&&(c=v)}else if(p>0){if(v<c)return;v<h&&(h=v)}v=t-a;if(!d&&v>0)return;v/=d;if(d<0){if(v<c)return;v<h&&(h=v)}else if(d>0){if(v>h)return;v>c&&(c=v)}v=r-a;if(!d&&v<0)return;v/=d;if(d<0){if(v>h)return;v>c&&(c=v)}else if(d>0){if(v<c)return;v<h&&(h=v)}return c>0&&(i.a={x:u+c*p,y:a+c*d}),h<1&&(i.b={x:u+h*p,y:a+h*d}),i}}function xi(t,n,r,i){function s(e,i){return y(e[0]-t)<Lt?i>0?0:3:y(e[0]-r)<Lt?i>0?2:1:y(e[1]-n)<Lt?i>0?1:0:i>0?3:2}function o(e,t){return u(e.x,t.x)}function u(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]}return function(a){function m(e){var t=0,n=p.length,r=e[1];for(var i=0;i<n;++i)for(var s=1,o=p[i],u=o.length,a=o[0],f;s<u;++s)f=o[s],a[1]<=r?f[1]>r&&Dt(a,f,e)>0&&++t:f[1]<=r&&Dt(a,f,e)<0&&--t,a=f;return t!==0}function g(e,o,a,f){var l=0,c=0;if(e==null||(l=s(e,a))!==(c=s(o,a))||u(e,o)<0^a>0){do f.point(l===0||l===3?t:r,l>1?i:n);while((l=(l+a+4)%4)!==c)}else f.point(o[0],o[1])}function y(e,s){return t<=e&&e<=r&&n<=s&&s<=i}function b(e,t){y(e,t)&&a.point(e,t)}function L(){v.point=O,p&&p.push(d=[]),C=!0,N=!1,x=T=NaN}function A(){h&&(O(w,E),S&&N&&l.rejoin(),h.push(l.buffer())),v.point=b,N&&a.lineEnd()}function O(e,t){e=Math.max(-Si,Math.min(Si,e)),t=Math.max(-Si,Math.min(Si,t));var n=y(e,t);p&&d.push([e,t]);if(C)w=e,E=t,S=n,C=!1,n&&(a.lineStart(),a.point(e,t));else if(n&&N)a.point(e,t);else{var r={a:{x:x,y:T},b:{x:e,y:t}};c(r)?(N||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),n||a.lineEnd(),k=!1):n&&(a.lineStart(),a.point(e,t),k=!1)}x=e,T=t,N=n}var f=a,l=pi(),c=Ei(t,n,r,i),h,p,d,v={point:b,lineStart:L,lineEnd:A,polygonStart:function(){a=l,h=[],p=[],k=!0},polygonEnd:function(){a=f,h=e.merge(h);var n=m([t,i]),r=k&&n,s=h.length;if(r||s)a.polygonStart(),r&&(a.lineStart(),g(null,null,1,a),a.lineEnd()),s&&ai(h,o,n,g,a),a.polygonEnd();h=p=d=null}},w,E,S,x,T,N,C,k;return v}}function Ti(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Ni(e){var t=0,n=Nt/3,r=Qi(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Nt/180,n=e[1]*Nt/180):[t/Nt*180,n/Nt*180]},i}function Ci(e,t){function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),s=Math.sqrt(i)/r;return o.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,Ht((i-(e*e+n*n)*r*r)/(2*r))]},o}function Oi(){function i(e,t){Li+=r*e-n*t,n=e,r=t}var e,t,n,r;Ai.point=function(s,o){Ai.point=i,e=n=s,t=r=o},Ai.lineEnd=function(){i(e,t)}}function Bi(e,t){e<Mi&&(Mi=e),e>Di&&(Di=e),t<_i&&(_i=t),t>Pi&&(Pi=t)}function ji(){function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=s}function s(e,n){t.push("L",e,",",n)}function o(){n.point=r}function u(){t.push("Z")}var e=Fi(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=Fi(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function Fi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function qi(e,t){Vr+=e,$r+=t,++Jr}function Ri(){function n(n,r){var i=n-e,s=r-t,o=Math.sqrt(i*i+s*s);Kr+=o*(e+n)/2,Qr+=o*(t+r)/2,Gr+=o,qi(e=n,t=r)}var e,t;Ii.point=function(r,i){Ii.point=n,qi(e=r,t=i)}}function Ui(){Ii.point=qi}function zi(){function i(e,t){var i=e-n,s=t-r,o=Math.sqrt(i*i+s*s);Kr+=o*(n+e)/2,Qr+=o*(r+t)/2,Gr+=o,o=r*e-n*t,Yr+=o*(n+e),Zr+=o*(r+t),ei+=o*3,qi(n=e,r=t)}var e,t,n,r;Ii.point=function(s,o){Ii.point=i,qi(e=n=s,t=r=o)},Ii.lineEnd=function(){i(e,t)}}function Wi(e){function r(n,r){e.moveTo(n,r),e.arc(n,r,t,0,Ct)}function i(t,r){e.moveTo(t,r),n.point=s}function s(t,n){e.lineTo(t,n)}function o(){n.point=r}function u(){e.closePath()}var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:D};return n}function Xi(e){function i(e){return(r?o:s)(e)}function s(t){return Ji(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function o(t){function y(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){h=NaN,g.point=w,t.lineStart()}function w(n,i){var s=Br([n,i]),o=e(n,i);u(h,p,c,d,v,m,h=o[0],p=o[1],c=n,d=s[0],v=s[1],m=s[2],r,t),t.point(h,p)}function E(){g.point=y,t.lineEnd()}function S(){b(),g.point=x,g.lineEnd=T}function x(e,t){w(n=e,i=t),s=h,o=p,a=d,f=v,l=m,g.point=w}function T(){u(h,p,c,d,v,m,s,o,n,a,f,l,r,t),g.lineEnd=E,E()}var n,i,s,o,a,f,l,c,h,p,d,v,m,g={point:y,lineStart:b,lineEnd:E,polygonStart:function(){t.polygonStart(),g.lineStart=S},polygonEnd:function(){t.polygonEnd(),g.lineStart=b}};return g}function u(r,i,s,o,a,f,l,c,h,p,d,v,m,g){var b=l-r,w=c-i,E=b*b+w*w;if(E>4*t&&m--){var S=o+p,x=a+d,T=f+v,N=Math.sqrt(S*S+x*x+T*T),C=Math.asin(T/=N),k=y(y(T)-1)<Lt||y(s-h)<Lt?(s+h)/2:Math.atan2(x,S),L=e(k,C),A=L[0],O=L[1],M=A-r,_=O-i,D=w*M-b*_;if(D*D/E>t||y((b*M+w*_)/E-.5)>.3||o*p+a*d+f*v<n)u(r,i,s,o,a,f,A,O,k,S/=N,x/=N,T,m,g),g.point(A,O),u(A,O,k,S,x,T,l,c,h,p,d,v,m,g)}}var t=.5,n=Math.cos(30*Ot),r=16;return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Vi(e){var t=Xi(function(t,n){return e([t*Mt,n*Mt])});return function(e){return Gi(t(e))}}function $i(e){this.stream=e}function Ji(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Ki(e){return Qi(function(){return e})()}function Qi(t){function E(e){return e=i(e[0]*Ot,e[1]*Ot),[e[0]*o+d,v-e[1]*o]}function S(e){return e=i.invert((e[0]-d)/o,(v-e[1])/o),e&&[e[0]*Mt,e[1]*Mt]}function x(){i=Ti(r=es(c,h,p),n);var e=n(f,l);return d=u-e[0]*o,v=a+e[1]*o,T()}function T(){return w&&(w.valid=!1,w=null),E}var n,r,i,s=Xi(function(e,t){return e=n(e,t),[e[0]*o+d,v-e[1]*o]}),o=150,u=480,a=250,f=0,l=0,c=0,h=0,p=0,d,v,m=mi,g=kn,y=null,b=null,w;return E.stream=function(e){return w&&(w.valid=!1),w=Gi(m(r,s(g(e)))),w.valid=!0,w},E.clipAngle=function(e){return arguments.length?(m=e==null?(y=e,mi):wi((y=+e)*Ot),T()):y},E.clipExtent=function(e){return arguments.length?(b=e,g=e?xi(e[0][0],e[0][1],e[1][0],e[1][1]):kn,T()):b},E.scale=function(e){return arguments.length?(o=+e,x()):o},E.translate=function(e){return arguments.length?(u=+e[0],a=+e[1],x()):[u,a]},E.center=function(e){return arguments.length?(f=e[0]%360*Ot,l=e[1]%360*Ot,x()):[f*Mt,l*Mt]},E.rotate=function(e){return arguments.length?(c=e[0]%360*Ot,h=e[1]%360*Ot,p=e.length>2?e[2]%360*Ot:0,x()):[c*Mt,h*Mt,p*Mt]},e.rebind(E,s,"precision"),function(){return n=t.apply(this,arguments),E.invert=n.invert&&S,x()}}function Gi(e){return Ji(e,function(t,n){e.point(t*Ot,n*Ot)})}function Yi(e,t){return[e,t]}function Zi(e,t){return[e>Nt?e-Ct:e<-Nt?e+Ct:e,t]}function es(e,t,n){return e?t||n?Ti(ns(e),rs(t,n)):ns(e):t||n?rs(t,n):Zi}function ts(e){return function(t,n){return t+=e,[t>Nt?t-Ct:t<-Nt?t+Ct:t,n]}}function ns(e){var t=ts(e);return t.invert=ts(-e),t}function rs(e,t){function o(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*n+u*r;return[Math.atan2(a*i-l*s,u*n-f*r),Ht(l*i+a*s)]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),s=Math.sin(t);return o.invert=function(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*i-a*s;return[Math.atan2(a*i+f*s,u*n+l*r),Ht(l*n-u*r)]},o}function is(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){var a=o*t;if(i!=null){i=ss(n,i),s=ss(n,s);if(o>0?i<s:i>s)i+=o*Ct}else i=e+o*Ct,s=e-.5*a;for(var f,l=i;o>0?l>s:l<s;l-=a)u.point((f=Ur([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}function ss(e,t){var n=Br(t);n[0]-=e,Rr(n);var r=Pt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Lt)%(2*Math.PI)}function os(t,n,r){var i=e.range(t,n-Lt,r).concat(n);return function(e){return i.map(function(t){return[e,t]})}}function us(t,n,r){var i=e.range(t,n-Lt,r).concat(n);return function(e){return i.map(function(t){return[t,e]})}}function as(e){return e.source}function fs(e){return e.target}function ls(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(It(r-t)+i*o*It(n-e))),p=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*Mt,Math.atan2(o,Math.sqrt(r*r+i*i))*Mt]}:function(){return[e*Mt,t*Mt]};return d.distance=h,d}function ps(){function r(r,i){var s=Math.sin(i*=Ot),o=Math.cos(i),u=y((r*=Ot)-e),a=Math.cos(u);cs+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=n*s-t*o*a)*u),t*s+n*o*a),e=r,t=s,n=o}var e,t,n;hs.point=function(i,s){e=i*Ot,t=Math.sin(s*=Ot),n=Math.cos(s),hs.point=r},hs.lineEnd=function(){hs.point=hs.lineEnd=D}}function ds(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]},n}function gs(e,t){function o(e,t){s>0?t<-kt+Lt&&(t=-kt+Lt):t>kt-Lt&&(t=kt-Lt);var n=s/Math.pow(r(t),i);return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var n=Math.cos(e),r=function(e){return Math.tan(Nt/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),s=n*Math.pow(r(e),i)/i;return i?(o.invert=function(e,t){var n=s-t,r=_t(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(s/r,1/i))-kt]},o):ws}function ys(e,t){function s(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;return y(r)<Lt?Yi:(s.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-_t(r)*Math.sqrt(e*e+n*n)]},s)}function ws(e,t){return[e,Math.log(Math.tan(Nt/4+t/2))]}function Es(e){var t=Ki(e),n=t.scale,r=t.translate,i=t.clipExtent,s;return t.scale=function(){var e=n.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e},t.translate=function(){var e=r.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e},t.clipExtent=function(e){var o=i.apply(t,arguments);if(o===t){if(s=e==null){var u=Nt*n(),a=r();i([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else s&&(o=null);return o},t.clipExtent(null)}function Ts(e,t){return[Math.log(Math.tan(Nt/4+t/2)),-e]}function Ns(e){return e[0]}function Cs(e){return e[1]}function ks(e){var t=e.length,n=[0,1],r=2;for(var i=2;i<t;i++){while(r>1&&Dt(e[n[r-2]],e[n[r-1]],e[i])<=0)--r;n[r++]=i}return n.slice(0,r)}function Ls(e,t){return e[0]-t[0]||e[1]-t[1]}function Os(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ms(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function _s(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function qs(){uo(this),this.edge=this.site=this.circle=null}function Rs(e){var t=Bs.pop()||new qs;return t.site=e,t}function Us(e){Ys(e),Hs.remove(e),Bs.push(e),uo(e)}function zs(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},s=e.P,o=e.N,u=[e];Us(e);var a=s;while(a.circle&&y(n-a.circle.x)<Lt&&y(r-a.circle.cy)<Lt)s=a.P,u.unshift(a),Us(a),a=s;u.unshift(a),Ys(a);var f=o;while(f.circle&&y(n-f.circle.x)<Lt&&y(r-f.circle.cy)<Lt)o=f.N,u.push(f),Us(f),f=o;u.push(f),Ys(f);var l=u.length,c;for(c=1;c<l;++c)f=u[c],a=u[c-1],io(f.edge,a.site,f.site,i);a=u[0],f=u[l-1],f.edge=no(a.site,f.site,null,i),Gs(a),Gs(f)}function Ws(e){var t=e.x,n=e.y,r,i,s,o,u=Hs._;while(u){s=Xs(u,n)-t;if(s>Lt)u=u.L;else{o=t-Vs(u,n);if(!(o>Lt)){s>-Lt?(r=u.P,i=u):o>-Lt?(r=u,i=u.N):r=i=u;break}if(!u.R){r=u;break}u=u.R}}var a=Rs(e);Hs.insert(r,a);if(!r&&!i)return;if(r===i){Ys(r),i=Rs(r.site),Hs.insert(a,i),a.edge=i.edge=no(r.site,a.site),Gs(r),Gs(i);return}if(!i){a.edge=no(r.site,a.site);return}Ys(r),Ys(i);var f=r.site,l=f.x,c=f.y,h=e.x-l,p=e.y-c,d=i.site,v=d.x-l,m=d.y-c,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,w={x:(m*y-p*b)/g+l,y:(h*b-v*y)/g+c};io(i.edge,f,d,w),a.edge=no(f,e,null,w),i.edge=no(e,d,null,w),Gs(r),Gs(i)}function Xs(e,t){var n=e.site,r=n.x,i=n.y,s=i-t;if(!s)return r;var o=e.P;if(!o)return-Infinity;n=o.site;var u=n.x,a=n.y,f=a-t;if(!f)return u;var l=u-r,c=1/s-1/f,h=l/f;return c?(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-a+f/2+i-s/2)))/c+r:(r+u)/2}function Vs(e,t){var n=e.N;if(n)return Xs(n,t);var r=e.site;return r.y===t?r.x:Infinity}function $s(e){this.site=e,this.edges=[]}function Js(e){var t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],s,o,u,a,f=Ps,l=f.length,c,h,p,d,v,m;while(l--){c=f[l];if(!c||!c.prepare())continue;p=c.edges,d=p.length,h=0;while(h<d){m=p[h].end(),u=m.x,a=m.y,v=p[++h%d].start(),s=v.x,o=v.y;if(y(u-s)>Lt||y(a-o)>Lt)p.splice(h,0,new so(ro(c.site,m,y(u-t)<Lt&&i-a>Lt?{x:t,y:y(s-t)<Lt?o:i}:y(a-i)<Lt&&n-u>Lt?{x:y(o-i)<Lt?s:n,y:i}:y(u-n)<Lt&&a-r>Lt?{x:n,y:y(s-n)<Lt?o:r}:y(a-r)<Lt&&u-t>Lt?{x:y(o-r)<Lt?s:t,y:r}:null),c.site,null)),++d}}}function Ks(e,t){return t.angle-e.angle}function Qs(){uo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gs(e){var t=e.P,n=e.N;if(!t||!n)return;var r=t.site,i=e.site,s=n.site;if(r===s)return;var o=i.x,u=i.y,a=r.x-o,f=r.y-u,l=s.x-o,c=s.y-u,h=2*(a*c-f*l);if(h>=-At)return;var p=a*a+f*f,d=l*l+c*c,v=(c*p-f*d)/h,m=(a*d-l*p)/h,c=m+u,g=Is.pop()||new Qs;g.arc=e,g.site=i,g.x=v+o,g.y=c+Math.sqrt(v*v+m*m),g.cy=c,e.circle=g;var y=null,b=Fs._;while(b)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Fs.insert(y,g),y||(js=g)}function Ys(e){var t=e.circle;t&&(t.P||(js=t.N),Fs.remove(t),Is.push(t),uo(t),e.circle=null)}function Zs(e){var t=Ds,n=Ei(e[0][0],e[0][1],e[1][0],e[1][1]),r=t.length,i;while(r--){i=t[r];if(!eo(i,e)||!n(i)||y(i.a.x-i.b.x)<Lt&&y(i.a.y-i.b.y)<Lt)i.a=i.b=null,t.splice(r,1)}}function eo(e,t){var n=e.b;if(n)return!0;var r=e.a,i=t[0][0],s=t[1][0],o=t[0][1],u=t[1][1],a=e.l,f=e.r,l=a.x,c=a.y,h=f.x,p=f.y,d=(l+h)/2,v=(c+p)/2,m,g;if(p===c){if(d<i||d>=s)return;if(l>h){if(!r)r={x:d,y:o};else if(r.y>=u)return;n={x:d,y:u}}else{if(!r)r={x:d,y:u};else if(r.y<o)return;n={x:d,y:o}}}else{m=(l-h)/(p-c),g=v-m*d;if(m<-1||m>1)if(l>h){if(!r)r={x:(o-g)/m,y:o};else if(r.y>=u)return;n={x:(u-g)/m,y:u}}else{if(!r)r={x:(u-g)/m,y:u};else if(r.y<o)return;n={x:(o-g)/m,y:o}}else if(c<p){if(!r)r={x:i,y:m*i+g};else if(r.x>=s)return;n={x:s,y:m*s+g}}else{if(!r)r={x:s,y:m*s+g};else if(r.x<i)return;n={x:i,y:m*i+g}}}return e.a=r,e.b=n,!0}function to(e,t){this.l=e,this.r=t,this.a=this.b=null}function no(e,t,n,r){var i=new to(e,t);return Ds.push(i),n&&io(i,e,t,n),r&&io(i,t,e,r),Ps[e.i].edges.push(new so(i,e,t)),Ps[t.i].edges.push(new so(i,t,e)),i}function ro(e,t,n){var r=new to(e,null);return r.a=t,r.b=n,Ds.push(r),r}function io(e,t,n,r){!e.a&&!e.b?(e.a=r,e.l=t,e.r=n):e.l===n?e.b=r:e.a=r}function so(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function oo(){this._=null}function uo(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ao(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function fo(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function lo(e){while(e.L)e=e.L;return e}function co(e,t){var n=e.sort(ho).pop(),r,i,s;Ds=[],Ps=new Array(e.length),Hs=new oo,Fs=new oo;for(;;){s=js;if(n&&(!s||n.y<s.y||n.y===s.y&&n.x<s.x)){if(n.x!==r||n.y!==i)Ps[n.i]=new $s(n),Ws(n),r=n.x,i=n.y;n=e.pop()}else{if(!s)break;zs(s.arc)}}t&&(Zs(t),Js(t));var o={cells:Ps,edges:Ds};return Hs=Fs=Ds=Ps=null,o}function ho(e,t){return t.y-e.y||t.x-e.x}function vo(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function mo(e){return e.x}function go(e){return e.y}function yo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function bo(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&bo(e,a[0],n,r,o,u),a[1]&&bo(e,a[1],o,r,i,u),a[2]&&bo(e,a[2],n,u,o,s),a[3]&&bo(e,a[3],o,u,i,s)}}function wo(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,s=t.b,o=n.r-r,u=n.g-i,a=n.b-s;return function(e){return"#"+bn(Math.round(r+o*e))+bn(Math.round(i+u*e))+bn(Math.round(s+a*e))}}function Eo(e,t){var n={},r={},i;for(i in e)i in t?n[i]=Co(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}}function So(e,t){return t-=e=+e,function(n){return e+t*n}}function xo(e,t){var n=To.lastIndex=No.lastIndex=0,r,i,s,o=-1,u=[],a=[];e+="",t+="";while((r=To.exec(e))&&(i=No.exec(t)))(s=i.index)>n&&(s=t.substring(n,s),u[o]?u[o]+=s:u[++o]=s),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,a.push({i:o,x:So(r,i)})),n=No.lastIndex;return n<t.length&&(s=t.substring(n),u[o]?u[o]+=s:u[++o]=s),u.length<2?a[0]?(t=a[0].x,function(e){return t(e)+""}):function(){return t}:(t=a.length,function(e){for(var n=0,r;n<t;++n)u[(r=a[n]).i]=r.x(e);return u.join("")})}function Co(t,n){var r=e.interpolators.length,i;while(--r>=0&&!(i=e.interpolators[r](t,n)));return i}function ko(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(Co(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}}function Mo(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function _o(e){return function(t){return 1-e(1-t)}}function Do(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Po(e){return e*e}function Ho(e){return e*e*e}function Bo(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function jo(e){return function(t){return Math.pow(t,e)}}function Fo(e){return 1-Math.cos(e*kt)}function Io(e){return Math.pow(2,10*(e-1))}function qo(e){return 1-Math.sqrt(1-e*e)}function Ro(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ct*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ct/t)}}function Uo(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function zo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Wo(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,s=t.l,o=n.h-r,u=n.c-i,a=n.l-s;return isNaN(u)&&(u=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return en(r+o*e,i+u*e,s+a*e)+""}}function Xo(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,s=t.l,o=n.h-r,u=n.s-i,a=n.l-s;return isNaN(u)&&(u=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return Qt(r+o*e,i+u*e,s+a*e)+""}}function Vo(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,s=t.b,o=n.l-r,u=n.a-i,a=n.b-s;return function(e){return fn(r+o*e,i+u*e,s+a*e)+""}}function $o(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Jo(e){var t=[e.a,e.b],n=[e.c,e.d],r=Qo(t),i=Ko(t,n),s=Qo(Go(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Mt,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*Mt:0}function Ko(e,t){return e[0]*t[0]+e[1]*t[1]}function Qo(e){var t=Math.sqrt(Ko(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Go(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Zo(t,n){var r=[],i=[],s,o=e.transform(t),u=e.transform(n),a=o.translate,f=u.translate,l=o.rotate,c=u.rotate,h=o.skew,p=u.skew,d=o.scale,v=u.scale;return a[0]!=f[0]||a[1]!=f[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:So(a[0],f[0])},{i:3,x:So(a[1],f[1])})):f[0]||f[1]?r.push("translate("+f+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:So(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:So(h,p)}):p&&r.push(r.pop()+"skewX("+p+")"),d[0]!=v[0]||d[1]!=v[1]?(s=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:s-4,x:So(d[0],v[0])},{i:s-2,x:So(d[1],v[1])})):(v[0]!=1||v[1]!=1)&&r.push(r.pop()+"scale("+v+")"),s=i.length,function(e){var t=-1,n;while(++t<s)r[(n=i[t]).i]=n.x(e);return r.join("")}}function eu(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function tu(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function nu(e){var t=e.source,n=e.target,r=iu(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function ru(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function iu(e,t){if(e===t)return e;var n=ru(e),r=ru(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function su(e){e.fixed|=2}function ou(e){e.fixed&=-7}function uu(e){e.fixed|=4,e.px=e.x,e.py=e.y}function au(e){e.fixed&=-5}function fu(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;fu(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function pu(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=bu,t}function du(e,t){var n=[e];while((e=n.pop())!=null){t(e);if((i=e.children)&&(r=i.length)){var r,i;while(--r>=0)n.push(i[r])}}}function vu(e,t){var n=[e],r=[];while((e=n.pop())!=null){r.push(e);if((o=e.children)&&(s=o.length)){var i=-1,s,o;while(++i<s)n.push(o[i])}}while((e=r.pop())!=null)t(e)}function mu(e){return e.children}function gu(e){return e.value}function yu(e,t){return t.value-e.value}function bu(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Eu(e){return e.x}function Su(e){return e.y}function xu(e,t,n){e.y0=t,e.y=n}function Cu(t){return e.range(t.length)}function ku(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Lu(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function Au(e){return e.reduce(Ou,0)}function Ou(e,t){return e+t[1]}function Mu(e,t){return _u(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function _u(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function Du(t){return[e.min(t),e.max(t)]}function Pu(e,t){return e.value-t.value}function Hu(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Bu(e,t){e._pack_next=t,t._pack_prev=e}function ju(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Fu(e){function p(e){n=Math.min(e.x-e.r,n),r=Math.max(e.x+e.r,r),i=Math.min(e.y-e.r,i),s=Math.max(e.y+e.r,s)}if(!(t=e.children)||!(h=t.length))return;var t,n=Infinity,r=-Infinity,i=Infinity,s=-Infinity,o,u,a,f,l,c,h;t.forEach(Iu),o=t[0],o.x=-o.r,o.y=0,p(o);if(h>1){u=t[1],u.x=u.r,u.y=0,p(u);if(h>2){a=t[2],Uu(o,u,a),p(a),Hu(o,a),o._pack_prev=a,Hu(a,u),u=o._pack_next;for(f=3;f<h;f++){Uu(o,u,a=t[f]);var d=0,v=1,m=1;for(l=u._pack_next;l!==u;l=l._pack_next,v++)if(ju(l,a)){d=1;break}if(d==1)for(c=o._pack_prev;c!==l._pack_prev;c=c._pack_prev,m++)if(ju(c,a))break;d?(v<m||v==m&&u.r<o.r?Bu(o,u=l):Bu(o=c,u),f--):(Hu(o,a),u=a,p(a))}}}var g=(n+r)/2,y=(i+s)/2,b=0;for(f=0;f<h;f++)a=t[f],a.x-=g,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,t.forEach(qu)}function Iu(e){e._pack_next=e._pack_prev=e}function qu(e){delete e._pack_next,delete e._pack_prev}function Ru(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)Ru(i[s],t,n,r)}}function Uu(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function zu(e,t){return e.parent==t.parent?1:2}function Wu(e){var t=e.children;return t.length?t[0]:e.t}function Xu(e){var t=e.children,n;return(n=t.length)?t[n-1]:e.t}function Vu(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function $u(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function Ju(e,t,n){return e.a.parent===t.parent?e.a:n}function Ku(t){return 1+e.max(t,function(e){return e.y})}function Qu(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Gu(e){var t=e.children;return t&&t.length?Gu(t[0]):e}function Yu(e){var t=e.children,n;return t&&(n=t.length)?Yu(t[n-1]):e}function Zu(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ea(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function ta(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function na(e){return e.rangeExtent?e.rangeExtent():ta(e.range())}function ra(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function ia(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function sa(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:oa}function ua(t,n,r,i){var s=[],o=[],u=0,a=Math.min(t.length,n.length)-1;t[a]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++u<=a)s.push(r(t[u-1],t[u])),o.push(i(n[u-1],n[u]));return function(n){var r=e.bisect(t,n,1,a)-1;return o[r](s[r](n))}}function aa(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?ua:ra,a=r?tu:eu;return i=o(e,t,a,n),s=o(t,e,a,Co),u}function u(e){return i(e)}var i,s;return u.invert=function(e){return s(e)},u.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},u.range=function(e){return arguments.length?(t=e,o()):t},u.rangeRound=function(e){return u.range(e).interpolate($o)},u.clamp=function(e){return arguments.length?(r=e,o()):r},u.interpolate=function(e){return arguments.length?(n=e,o()):n},u.ticks=function(t){return ha(e,t)},u.tickFormat=function(t,n){return pa(e,t,n)},u.nice=function(t){return la(e,t),o()},u.copy=function(){return aa(e,t,n,r)},o()}function fa(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function la(e,t){return ia(e,sa(ca(e,t)[2]))}function ca(e,t){t==null&&(t=10);var n=ta(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function ha(t,n){return e.range.apply(e,ca(t,n))}function pa(t,n,r){var i=ca(t,n);if(r){var s=Wn.exec(r);s.shift();if(s[8]==="s"){var o=e.formatPrefix(Math.max(y(i[0]),y(i[1])));return s[7]||(s[7]="."+va(o.scale(i[2]))),s[8]="f",r=e.format(s.join("")),function(e){return r(o.scale(e))+o.symbol}}s[7]||(s[7]="."+ma(s[8],i)),r=s.join("")}else r=",."+va(i[2])+"f";return e.format(r)}function va(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ma(e,t){var n=va(t[2]);return e in da?Math.abs(n-va(Math.max(y(t[0]),y(t[1]))))+ +(e!=="e"):n-(e==="%")*2}function ga(t,n,r,i){function s(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function u(e){return t(s(e))}return u.invert=function(e){return o(t.invert(e))},u.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((i=e.map(Number)).map(s)),u):i},u.base=function(e){return arguments.length?(n=+e,t.domain(i.map(s)),u):n},u.nice=function(){var e=ia(i.map(s),r?Math:ba);return t.domain(e),i=e.map(o),u},u.ticks=function(){var e=ta(i),t=[],u=e[0],a=e[1],f=Math.floor(s(u)),l=Math.ceil(s(a)),c=n%1?2:n;if(isFinite(l-f)){if(r){for(;f<l;f++)for(var h=1;h<c;h++)t.push(o(f)*h);t.push(o(f))}else{t.push(o(f));for(;f++<l;)for(var h=c-1;h>0;h--)t.push(o(f)*h)}for(f=0;t[f]<u;f++);for(l=t.length;t[l-1]>a;l--);t=t.slice(f,l)}return t},u.tickFormat=function(t,n){if(!arguments.length)return ya;arguments.length<2?n=ya:typeof n!="function"&&(n=e.format(n));var i=Math.max(.1,t/u.ticks().length),a=r?(f=1e-12,Math.ceil):(f=-1e-12,Math.floor),f;return function(e){return e/o(a(s(e)+f))<=i?n(e):""}},u.copy=function(){return ga(t.copy(),n,r,i)},fa(u,t)}function wa(e,t,n){function s(t){return e(r(t))}var r=Ea(t),i=Ea(1/t);return s.invert=function(t){return i(e.invert(t))},s.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),s):n},s.ticks=function(e){return ha(n,e)},s.tickFormat=function(e,t){return pa(n,e,t)},s.nice=function(e){return s.domain(la(n,e))},s.exponent=function(o){return arguments.length?(r=Ea(t=o),i=Ea(1/t),e.domain(n.map(r)),s):t},s.copy=function(){return wa(e.copy(),t,n)},fa(s,e)}function Ea(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sa(t,n){function o(e){return i[((r.get(e)||(n.t==="range"?r.set(e,t.push(e)):NaN))-1)%i.length]}function u(n,r){return e.range(t.length).map(function(e){return n+r*e})}var r,i,s;return o.domain=function(e){if(!arguments.length)return t;t=[],r=new E;var i=-1,s=e.length,u;while(++i<s)r.has(u=e[i])||r.set(u,t.push(u));return o[n.t].apply(o,n.a)},o.range=function(e){return arguments.length?(i=e,s=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(e,r){arguments.length<2&&(r=0);var a=e[0],f=e[1],l=(f-a)/(Math.max(1,t.length-1)+r);return i=u(t.length<2?(a+f)/2:a+l*r/2,l),s=0,n={t:"rangePoints",a:arguments},o},o.rangeBands=function(e,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var f=e[1]<e[0],l=e[f-0],c=e[1-f],h=(c-l)/(t.length-r+2*a);return i=u(l+h*a,h),f&&i.reverse(),s=h*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(e,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var f=e[1]<e[0],l=e[f-0],c=e[1-f],h=Math.floor((c-l)/(t.length-r+2*a)),p=c-l-(t.length-r)*h;return i=u(l+Math.round(p/2),h),f&&i.reverse(),s=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return s},o.rangeExtent=function(){return ta(n.a[0])},o.copy=function(){return Sa(t,n)},o.domain(t)}function ka(t,n){function i(){var i=0,o=n.length;r=[];while(++i<o)r[i-1]=e.quantile(t,i/o);return s}function s(t){if(!isNaN(t=+t))return n[e.bisect(r,t)]}var r;return s.domain=function(e){return arguments.length?(t=e.filter(d).sort(p),i()):t},s.range=function(e){return arguments.length?(n=e,i()):n},s.quantiles=function(){return r},s.invertExtent=function(e){return e=n.indexOf(e),e<0?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},s.copy=function(){return ka(t,n)},i()}function La(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,s}var r,i;return s.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},s.range=function(e){return arguments.length?(n=e,o()):n},s.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/r+e,[t,t+1/r]},s.copy=function(){return La(e,t,n)},o()}function Aa(t,n){function r(r){if(r<=r)return n[e.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return Aa(t,n)},r}function Oa(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ha(e,t)},t.tickFormat=function(t,n){return pa(e,t,n)},t.copy=function(){return Oa(e)},t}function Da(e){return e.innerRadius}function Pa(e){return e.outerRadius}function Ha(e){return e.startAngle}function Ba(e){return e.endAngle}function ja(e){function u(s){function d(){u.push("M",i(e(a),o))}var u=[],a=[],f=-1,l=s.length,c,h=Cn(t),p=Cn(n);while(++f<l)r.call(this,c=s[f],f)?a.push([+h.call(this,c,f),+p.call(this,c,f)]):a.length&&(d(),a=[]);return a.length&&d(),u.length?u.join(""):null}var t=Ns,n=Cs,r=ui,i=Ia,s=i.key,o=.7;return u.x=function(e){return arguments.length?(t=e,u):t},u.y=function(e){return arguments.length?(n=e,u):n},u.defined=function(e){return arguments.length?(r=e,u):r},u.interpolate=function(e){return arguments.length?(typeof e=="function"?s=i=e:s=(i=Fa.get(e)||Ia).key,u):s},u.tension=function(e){return arguments.length?(o=e,u):o},u}function Ia(e){return e.join("L")}function qa(e){return Ia(e)+"Z"}function Ra(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Ua(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function za(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Wa(e,t){return e.length<4?Ia(e):e[1]+$a(e.slice(1,e.length-1),Ja(e,t))}function Xa(e,t){return e.length<3?Ia(e):e[0]+$a((e.push(e[0]),e),Ja([e[e.length-2]].concat(e,[e[1]]),t))}function Va(e,t){return e.length<3?Ia(e):e[0]+$a(e,Ja(e,t))}function $a(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ia(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function Ja(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function Ka(e){if(e.length<3)return Ia(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s,"L",Za(nf,o),",",Za(nf,u)];e.push(e[n-1]);while(++t<=n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),rf(a,o,u);return e.pop(),a.push("L",r),a.join("")}function Qa(e){if(e.length<4)return Ia(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(Za(nf,s)+","+Za(nf,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),rf(t,s,o);return t.join("")}function Ga(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[Za(nf,o),",",Za(nf,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),rf(t,o,u);return t.join("")}function Ya(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o)}return Ka(e)}function Za(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function rf(e,t,n){e.push("C",Za(ef,t),",",Za(ef,n),",",Za(tf,t),",",Za(tf,n),",",Za(nf,t),",",Za(nf,n))}function sf(e,t){return(t[1]-e[1])/(t[0]-e[0])}function of(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=sf(i,s);while(++t<n)r[t]=(o+(o=sf(i=s,s=e[t+1])))/2;return r[t]=o,r}function uf(e){var t=[],n,r,i,s,o=of(e),u=-1,a=e.length-1;while(++u<a)n=sf(e[u],e[u+1]),y(n)<Lt?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function af(e){return e.length<3?Ia(e):e[0]+$a(e,uf(e))}function ff(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]+Ma,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function lf(e){function c(u){function x(){c.push("M",o(e(p),l),f,a(e(h.reverse()),l),"Z")}var c=[],h=[],p=[],d=-1,v=u.length,m,g=Cn(t),y=Cn(r),b=t===n?function(){return E}:Cn(n),w=r===i?function(){return S}:Cn(i),E,S;while(++d<v)s.call(this,m=u[d],d)?(h.push([E=+g.call(this,m,d),S=+y.call(this,m,d)]),p.push([+b.call(this,m,d),+w.call(this,m,d)])):h.length&&(x(),h=[],p=[]);return h.length&&x(),c.length?c.join(""):null}var t=Ns,n=Ns,r=0,i=Cs,s=ui,o=Ia,u=o.key,a=o,f="L",l=.7;return c.x=function(e){return arguments.length?(t=n=e,c):n},c.x0=function(e){return arguments.length?(t=e,c):t},c.x1=function(e){return arguments.length?(n=e,c):n},c.y=function(e){return arguments.length?(r=i=e,c):i},c.y0=function(e){return arguments.length?(r=e,c):r},c.y1=function(e){return arguments.length?(i=e,c):i},c.defined=function(e){return arguments.length?(s=e,c):s},c.interpolate=function(e){return arguments.length?(typeof e=="function"?u=o=e:u=(o=Fa.get(e)||Ia).key,a=o.reverse||o,f=o.closed?"M":"L",c):u},c.tension=function(e){return arguments.length?(l=e,c):l},c}function cf(e){return e.radius}function hf(e){return[e.x,e.y]}function pf(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Ma;return[n*Math.cos(r),n*Math.sin(r)]}}function df(){return 64}function vf(){return"circle"}function mf(e){var t=Math.sqrt(e/Nt);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function wf(e,t){return q(e,Ef),e.id=t,e}function Nf(e,t,n,r){var i=e.id;return at(e,typeof n=="function"?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Cf(e){return e==null&&(e=""),function(){this.textContent=e}}function kf(t,n,r,i){var s=t.__transition__||(t.__transition__={active:0,count:0}),o=s[r];if(!o){var u=i.time;o=s[r]={tween:new E,time:u,ease:i.ease,delay:i.delay,duration:i.duration},++s.count,e.timer(function(i){function d(i){if(s.active>r)return m();s.active=r,o.event&&o.event.start.call(t,a,n),o.tween.forEach(function(e,r){(r=r.call(t,a,n))&&p.push(r)}),e.timer(function(){return h.c=v(i||1)?ui:v,1},0,u)}function v(e){if(s.active!==r)return m();var i=e/c,u=f(i),l=p.length;while(l>0)p[--l].call(t,u);if(i>=1)return o.event&&o.event.end.call(t,a,n),m()}function m(){return--s.count?delete s[r]:delete t.__transition__,1}var a=t.__data__,f=o.ease,l=o.delay,c=o.duration,h=Hn,p=[];h.t=l+u;if(l<=i)return d(i-l);h.c=d},0,u)}}function Of(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Mf(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function jf(e){return e.toISOString()}function Ff(t,n,r){function i(e){return t(e)}function s(t,r){var i=t[1]-t[0],s=i/r,o=e.bisect(qf,s);return o==qf.length?[n.year,ca(t.map(function(e){return e/31536e6}),r)[2]]:o?n[s/qf[o-1]<qf[o]/s?o-1:o]:[zf,ca(t,r)[2]]}return i.invert=function(e){return If(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(If)},i.nice=function(e,t){function u(n){return!isNaN(n)&&!e.range(n,If(+n+1),t).length}var n=i.domain(),r=ta(n),o=e==null?s(r,10):typeof e=="number"&&s(r,e);return o&&(e=o[0],t=o[1]),i.domain(ia(n,t>1?{floor:function(t){while(u(t=e.floor(t)))t=If(t-1);return t},ceil:function(t){while(u(t=e.ceil(t)))t=If(+t+1);return t}}:e))},i.ticks=function(e,t){var n=ta(i.domain()),r=e==null?s(n,10):typeof e=="number"?s(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],If(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Ff(t.copy(),n,r)},fa(i,t)}function If(e){return new Date(e)}function Vf(e){return JSON.parse(e.responseText)}function $f(e){var t=r.createRange();return t.selectNode(r.body),t.createContextualFragment(e.responseText)}var e={version:"3.4.8"};Date.now||(Date.now=function(){return+(new Date)});var t=[].slice,n=function(e){return t.call(e)},r=document,i=r.documentElement,s=window;try{n(i.childNodes)[0].nodeType}catch(o){n=function(e){var t=e.length,n=new Array(t);while(t--)n[t]=e[t];return n}}try{r.createElement("div").style.setProperty("opacity",0,"")}catch(u){var a=s.Element.prototype,f=a.setAttribute,l=a.setAttributeNS,c=s.CSSStyleDeclaration.prototype,h=c.setProperty;a.setAttribute=function(e,t){f.call(this,e,t+"")},a.setAttributeNS=function(e,t,n){l.call(this,e,t,n+"")},c.setProperty=function(e,t,n){h.call(this,e,t+"",n)}}e.ascending=p,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&!((i=e[n])!=null&&i<=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&!((i=t.call(e,e[n],n))!=null&&i<=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},e.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&!((i=e[n])!=null&&i<=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&!((i=t.call(e,e[n],n))!=null&&i<=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},e.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&!((i=o=e[n])!=null&&i<=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&!((i=o=t.call(e,e[n],n))!=null&&i<=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},e.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},e.mean=function(e,t){var n=0,r=e.length,i,s=-1,o=r;if(arguments.length===1)while(++s<r)d(i=e[s])?n+=i:--o;else while(++s<r)d(i=t.call(e,e[s],s))?n+=i:--o;return o?n/o:undefined},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},e.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(d),t.length?e.quantile(t.sort(p),.5):undefined};var m=v(p);e.bisectLeft=m.left,e.bisect=e.bisectRight=m.right,e.bisector=function(e){return v(e.length===1?function(t,n){return p(e(t),n)}:e)},e.shuffle=function(e){var t=e.length,n,r;while(t)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e},e.permute=function(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r},e.pairs=function(e){var t=0,n=e.length-1,r,i=e[0],s=new Array(n<0?0:n);while(t<n)s[t]=[r=i,i=e[++t]];return s},e.zip=function(){if(!(s=arguments.length))return[];for(var t=-1,n=e.min(arguments,g),r=new Array(n);++t<n;)for(var i=-1,s,o=r[t]=new Array(s);++i<s;)o[i]=arguments[i][t];return r},e.transpose=function(t){return e.zip.apply(e,t)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){var t=e.length,n,r=-1,i=0,s,o;while(++r<t)i+=e[r].length;s=new Array(i);while(--t>=0){o=e[t],n=o.length;while(--n>=0)s[--i]=o[n]}return s};var y=Math.abs;e.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=b(y(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},e.map=function(e){var t=new E;if(e instanceof E)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},w(E,{has:T,get:function(e){return this[S+e]},set:function(e,t){return this[S+e]=t},remove:N,keys:C,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:k,empty:L,forEach:function(e){for(var t in this)t.charCodeAt(0)===x&&e.call(this,t.substring(1),this[t])}});var S="\0",x=S.charCodeAt(0);e.nest=function(){function o(e,r,u){if(u>=n.length)return s?s.call(t,r):i?r.sort(i):r;var a=-1,f=r.length,l=n[u++],c,h,p,d=new E,v;while(++a<f)(v=d.get(c=l(h=r[a])))?v.push(h):d.set(c,[h]);return e?(h=e(),p=function(t,n){h.set(t,o(e,n,u))}):(h={},p=function(t,n){h[t]=o(e,n,u)}),d.forEach(p),h}function u(e,t){if(t>=n.length)return e;var i=[],s=r[t++];return e.forEach(function(e,n){i.push({key:e,values:u(n,t)})}),s?i.sort(function(e,t){return s(e.key,t.key)}):i}var t={},n=[],r=[],i,s;return t.map=function(e,t){return o(t,e,0)},t.entries=function(t){return u(o(e.map,t,0),0)},t.key=function(e){return n.push(e),t},t.sortKeys=function(e){return r[n.length-1]=e,t},t.sortValues=function(e){return i=e,t},t.rollup=function(e){return s=e,t},t},e.set=function(e){var t=new A;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},w(A,{has:T,add:function(e){return this[S+e]=!0,e},remove:function(e){return e=S+e,e in this&&delete this[e]},values:C,size:k,empty:L,forEach:function(e){for(var t in this)t.charCodeAt(0)===x&&e.call(this,t.substring(1))}}),e.behavior={},e.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=O(e,t,t[i]);return e};var _=["webkit","ms","moz","Moz","o","O"];e.dispatch=function(){var e=new P,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=H(e);return e},P.prototype.on=function(e,t){var n=e.indexOf("."),r="";n>=0&&(r=e.substring(n+1),e=e.substring(0,n));if(e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(arguments.length===2){if(t==null)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(I,"\\$&")};var I=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},U=function(e,t){return t.querySelector(e)},z=function(e,t){return t.querySelectorAll(e)},W=i[M(i,"matchesSelector")],X=function(e,t){return W.call(e,t)};typeof Sizzle=="function"&&(U=function(e,t){return Sizzle(e,t)[0]||null},z=Sizzle,X=Sizzle.matchesSelector),e.selection=function(){return pt};var V=e.selection.prototype=[];V.select=function(e){var t=[],n,r,i,s;e=$(e);for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a,o)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return R(t)},V.selectAll=function(e){var t=[],r,i;e=J(e);for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a])t.push(r=n(e.call(i,i.__data__,a,s))),r.parentNode=i;return R(t)};var K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:K,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),K.hasOwnProperty(n)?{space:K[n],local:e}:e}},V.attr=function(t,n){if(arguments.length<2){if(typeof t=="string"){var r=this.node();return t=e.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(Q(n,t[n]));return this}return this.each(Q(t,n))},V.classed=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node(),r=(e=Z(e)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return!1}else{t=n.getAttribute("class");while(++i<r)if(!Y(e[i]).test(t))return!1}return!0}for(t in e)this.each(et(t,e[t]));return this}return this.each(et(e,t))},V.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.each(nt(n,e[n],t));return this}if(r<2)return s.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(nt(e,t,n))},V.property=function(e,t){if(arguments.length<2){if(typeof e=="string")return this.node()[e];for(t in e)this.each(rt(t,e[t]));return this}return this.each(rt(e,t))},V.text=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},V.html=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},V.append=function(e){return e=it(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},V.insert=function(e,t){return e=it(e),t=$(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},V.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},V.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(s),c=new Array(s),h=new Array(i),p,d;if(t){var v=new E,m=new E,g=[],y;for(r=-1;++r<i;)y=t.call(p=e[r],p.__data__,r),v.has(y)?h[r]=p:v.set(y,p),g.push(y);for(r=-1;++r<s;)y=t.call(n,d=n[r],r),(p=v.get(y))?(l[r]=p,p.__data__=d):m.has(y)||(c[r]=st(d)),m.set(y,d),v.remove(y);for(r=-1;++r<i;)v.has(g[r])&&(h[r]=e[r])}else{for(r=-1;++r<o;)p=e[r],d=n[r],p?(p.__data__=d,l[r]=p):c[r]=st(d);for(;r<s;++r)c[r]=st(n[r]);for(;r<i;++r)h[r]=e[r]}c.update=l,c.parentNode=l.parentNode=h.parentNode=e.parentNode,u.push(c),a.push(l),f.push(h)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r)if(s=i[n])e[n]=s.__data__;return e}var u=ft([]),a=R([]),f=R([]);if(typeof e=="function")while(++n<r)o(i=this[n],e.call(i,i.parentNode.__data__,n));else while(++n<r)o(i=this[n],e);return a.enter=function(){return u},a.exit=function(){return f},a},V.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},V.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=ot(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u,s)&&n.push(i)}return R(t)},V.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},V.sort=function(e){e=ut.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},V.each=function(e){return at(this,function(t,n,r){e.call(t,t.__data__,n,r)})},V.call=function(e){var t=n(arguments);return e.apply(t[0]=this,t),this},V.empty=function(){return!this.node()},V.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}return null},V.size=function(){var e=0;return this.each(function(){++e}),e};var lt=[];e.selection.enter=ft,e.selection.enter.prototype=lt,lt.append=V.append,lt.empty=V.empty,lt.node=V.node,lt.call=V.call,lt.size=V.size,lt.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f,u)),r.__data__=o.__data__):n.push(null)}return R(t)},lt.insert=function(e,t){return arguments.length<2&&(t=ct(this)),V.insert.call(this,e,t)},V.transition=function(){var e=xf||++Sf,t=[],n,r,i=Tf||{time:Date.now(),ease:Bo,delay:0,duration:250};for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(r=u[a])&&kf(r,a,e,i),n.push(r)}return wf(t,e)},V.interrupt=function(){return this.each(ht)},e.select=function(e){var t=[typeof e=="string"?U(e,r):e];return t.parentNode=i,R([t])},e.selectAll=function(e){var t=n(typeof e=="string"?z(e,r):e);return t.parentNode=i,R([t])};var pt=e.select(i);V.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t=!1);for(n in e)this.each(dt(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(dt(e,t,n))};var vt=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});vt.forEach(function(e){"on"+e in r&&vt.remove(e)});var yt="onselectstart"in r?null:M(i.style,"userSelect"),bt=0;e.mouse=function(e){return Et(e,j())},e.touches=function(e,t){return arguments.length<2&&(t=j().touches),t?n(t).map(function(t){var n=Et(e,t);return n.identifier=t.identifier,n}):[]},e.behavior.drag=function(){function s(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,s,o,u){return function(){function b(){var e=i(l,p),t,n;if(!e)return;t=e[0]-y[0],n=e[1]-y[1],h|=t|n,y=e,c({type:"drag",x:e[0]+v[0],y:e[1]+v[1],dx:t,dy:n})}function w(){if(!i(l,p))return;m.on(o+d,null).on(u+d,null),g(h&&e.event.target===f),c({type:"dragend"})}var a=this,f=e.event.target,l=a.parentNode,c=t.of(a,arguments),h=0,p=r(),d=".drag"+(p==null?"":"-"+p),v,m=e.select(s()).on(o+d,b).on(u+d,w),g=wt(),y=i(l,p);n?(v=n.apply(a,arguments),v=[v.x-y[0],v.y-y[1]]):v=[0,0],c({type:"dragstart"})}}var t=F(s,"drag","dragstart","dragend"),n=null,r=o(D,e.mouse,Tt,"mousemove","mouseup"),i=o(St,e.touch,xt,"touchmove","touchend");return s.origin=function(e){return arguments.length?(n=e,s):n},e.rebind(s,t,"on")};var Nt=Math.PI,Ct=2*Nt,kt=Nt/2,Lt=1e-6,At=Lt*Lt,Ot=Nt/180,Mt=180/Nt,qt=Math.SQRT2,Rt=2,Ut=4;e.interpolateZoom=function(e,t){function y(e){var t=e*g;if(m){var s=jt(d),o=i/(Rt*c)*(s*Ft(qt*t+d)-Bt(d));return[n+o*a,r+o*f,i*s/jt(qt*t+d)]}return[n+e*a,r+e*f,i*Math.exp(qt*t)]}var n=e[0],r=e[1],i=e[2],s=t[0],o=t[1],u=t[2],a=s-n,f=o-r,l=a*a+f*f,c=Math.sqrt(l),h=(u*u-i*i+Ut*l)/(2*i*Rt*c),p=(u*u-i*i-Ut*l)/(2*u*Rt*c),d=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(p*p+1)-p),m=v-d,g=(m||Math.log(u/i))/qt;return y.duration=g*1e3,y},e.behavior.zoom=function(){function y(e){e.on(u,k).on(Xt+".zoom",A).on(a,O).on("dblclick.zoom",M).on(c,L)}function b(e){return[(e[0]-t.x)/t.k,(e[1]-t.y)/t.k]}function w(e){return[e[0]*t.k+t.x,e[1]*t.k+t.y]}function E(e){t.k=Math.max(o[0],Math.min(o[1],e))}function S(e,n){n=w(n),t.x+=e[0]-n[0],t.y+=e[1]-n[1]}function x(){v&&v.domain(d.range().map(function(e){return(e-t.x)/t.k}).map(d.invert)),g&&g.domain(m.range().map(function(e){return(e-t.y)/t.k}).map(m.invert))}function T(e){e({type:"zoomstart"})}function N(e){x(),e({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function C(e){e({type:"zoomend"})}function k(){function c(){i=1,S(e.mouse(t),u),N(r)}function h(){o.on(a,s===t?O:null).on(f,null),l(i&&e.event.target===n),C(r)}var t=this,n=e.event.target,r=p.of(t,arguments),i=0,o=e.select(s).on(a,c).on(f,h),u=b(e.mouse(t)),l=wt();ht.call(t),T(r)}function L(){function g(){var r=e.touches(n);return o=t.k,r.forEach(function(e){e.identifier in i&&(i[e.identifier]=b(e))}),r}function y(){var n=e.event.target;e.select(n).on(f,w).on(l,x),d.push(n);var o=e.event.changedTouches;for(var u=0,a=o.length;u<a;++u)i[o[u].identifier]=null;var c=g(),p=Date.now();if(c.length===1){if(p-h<500){var v=c[0],m=i[v.identifier];E(t.k*2),S(v,m),B(),N(r)}h=p}else if(c.length>1){var v=c[0],y=c[1],b=v[0]-y[0],T=v[1]-y[1];s=b*b+T*T}}function w(){var t=e.touches(n),u,a,f,l;for(var c=0,p=t.length;c<p;++c,l=null){f=t[c];if(l=i[f.identifier]){if(a)break;u=f,a=l}}if(l){var d=(d=f[0]-u[0])*d+(d=f[1]-u[1])*d,v=s&&Math.sqrt(d/s);u=[(u[0]+f[0])/2,(u[1]+f[1])/2],a=[(a[0]+l[0])/2,(a[1]+l[1])/2],E(v*o)}h=null,S(u,a),N(r)}function x(){if(e.event.touches.length){var t=e.event.changedTouches;for(var n=0,s=t.length;n<s;++n)delete i[t[n].identifier];for(var o in i)return void g()}e.selectAll(d).on(a,null),v.on(u,k).on(c,L),m(),C(r)}var n=this,r=p.of(n,arguments),i={},s=0,o,a=".zoom-"+e.event.changedTouches[0].identifier,f="touchmove"+a,l="touchend"+a,d=[],v=e.select(n).on(u,null).on(c,y),m=wt();ht.call(n),y(),T(r)}function A(){var i=p.of(this,arguments);l?clearTimeout(l):(ht.call(this),T(i)),l=setTimeout(function(){l=null,C(i)},50),B();var s=r||e.mouse(this);n||(n=b(s)),E(Math.pow(2,Wt()*.002)*t.k),S(s,n),N(i)}function O(){n=null}function M(){var n=p.of(this,arguments),r=e.mouse(this),i=b(r),s=Math.log(t.k)/Math.LN2;T(n),E(Math.pow(2,e.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1)),S(r,i),N(n),C(n)}var t={x:0,y:0,k:1},n,r,i=[960,500],o=zt,u="mousedown.zoom",a="mousemove.zoom",f="mouseup.zoom",l,c="touchstart.zoom",h,p=F(y,"zoomstart","zoom","zoomend"),d,v,m,g;return y.event=function(n){n.each(function(){var n=p.of(this,arguments),r=t;xf?e.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},T(n)}).tween("zoom:zoom",function(){var s=i[0],o=i[1],u=s/2,a=o/2,f=e.interpolateZoom([(u-t.x)/t.k,(a-t.y)/t.k,s/t.k],[(u-r.x)/r.k,(a-r.y)/r.k,s/r.k]);return function(e){var r=f(e),i=s/r[2];this.__chart__=t={x:u-r[0]*i,y:a-r[1]*i,k:i},N(n)}}).each("end.zoom",function(){C(n)}):(this.__chart__=t,T(n),N(n),C(n))})},y.translate=function(e){return arguments.length?(t={x:+e[0],y:+e[1],k:t.k},x(),y):[t.x,t.y]},y.scale=function(e){return arguments.length?(t={x:t.x,y:t.y,k:+e},x(),y):t.k},y.scaleExtent=function(e){return arguments.length?(o=e==null?zt:[+e[0],+e[1]],y):o},y.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],y):r},y.size=function(e){return arguments.length?(i=e&&[+e[0],+e[1]],y):i},y.x=function(e){return arguments.length?(v=e,d=e.copy(),t={x:0,y:0,k:1},y):v},y.y=function(e){return arguments.length?(g=e,m=e.copy(),t={x:0,y:0,k:1},y):g},e.rebind(y,p,"on")};var zt=[0,Infinity],Wt,Xt="onwheel"in r?(Wt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Wt=function(){return e.event.wheelDelta},"mousewheel"):(Wt=function(){return-e.event.detail},"MozMousePixelScroll");Vt.prototype.toString=function(){return this.rgb()+""},e.hsl=function(e,t,n){return arguments.length===1?e instanceof Jt?$t(e.h,e.s,e.l):wn(""+e,En,$t):$t(+e,+t,+n)};var Kt=Jt.prototype=new Vt;Kt.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),$t(this.h,this.s,this.l/e)},Kt.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),$t(this.h,this.s,e*this.l)},Kt.rgb=function(){return Qt(this.h,this.s,this.l)},e.hcl=function(t,n,r){return arguments.length===1?t instanceof Yt?Gt(t.h,t.c,t.l):t instanceof nn?ln(t.l,t.a,t.b):ln((t=Sn((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Gt(+t,+n,+r)};var Zt=Yt.prototype=new Vt;Zt.brighter=function(e){return Gt(this.h,this.c,Math.min(100,this.l+rn*(arguments.length?e:1)))},Zt.darker=function(e){return Gt(this.h,this.c,Math.max(0,this.l-rn*(arguments.length?e:1)))},Zt.rgb=function(){return en(this.h,this.c,this.l).rgb()},e.lab=function(t,n,r){return arguments.length===1?t instanceof nn?tn(t.l,t.a,t.b):t instanceof Yt?en(t.l,t.c,t.h):Sn((t=e.rgb(t)).r,t.g,t.b):tn(+t,+n,+r)};var rn=18,sn=.95047,on=1,un=1.08883,an=nn.prototype=new Vt;an.brighter=function(e){return tn(Math.min(100,this.l+rn*(arguments.length?e:1)),this.a,this.b)},an.darker=function(e){return tn(Math.max(0,this.l-rn*(arguments.length?e:1)),this.a,this.b)},an.rgb=function(){return fn(this.l,this.a,this.b)},e.rgb=function(e,t,n){return arguments.length===1?e instanceof gn?mn(e.r,e.g,e.b):wn(""+e,mn,Qt):mn(~~e,~~t,~~n)};var yn=gn.prototype=new Vt;yn.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?mn(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),mn(Math.min(255,~~(t/e)),Math.min(255,~~(n/e)),Math.min(255,~~(r/e))))},yn.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),mn(~~(e*this.r),~~(e*this.g),~~(e*this.b))},yn.hsl=function(){return En(this.r,this.g,this.b)},yn.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var Nn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Nn.forEach(function(e,t){Nn.set(e,dn(t))}),e.functor=Cn,e.xhr=Ln(kn),e.dsv=function(e,t){function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=An(e,t,n==null?s:o(n),r);return i.row=function(e){return arguments.length?i.response((n=e)==null?s:o(e)):n},i}function s(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function u(t){return t.map(a).join(e)}function a(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);return i.parse=function(e,t){var n;return i.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})},i.parseRows=function(e,t){function c(){if(u>=o)return i;if(l)return l=!1,n;var t=u;if(e.charCodeAt(t)===34){var s=t;while(s++<o)if(e.charCodeAt(s)===34){if(e.charCodeAt(s+1)!==34)break;++s}u=s+2;var a=e.charCodeAt(s+1);return a===13?(l=!0,e.charCodeAt(s+2)===10&&++u):a===10&&(l=!0),e.substring(t+1,s).replace(/""/g,'"')}while(u<o){var a=e.charCodeAt(u++),f=1;if(a===10)l=!0;else if(a===13)l=!0,e.charCodeAt(u)===10&&(++u,++f);else if(a!==r)continue;return e.substring(t,u-f)}return e.substring(t)}var n={},i={},s=[],o=e.length,u=0,a=0,f,l;while((f=c())!==i){var h=[];while(f!==n&&f!==i)h.push(f),f=c();if(t&&!(h=t(h,a++)))continue;s.push(h)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new A,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(a).join(e)].concat(t.map(function(t){return r.map(function(e){return a(t[e])}).join(e)})).join("\n")},i.formatRows=function(e){return e.map(u).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values"),e.touch=function(e,t,n){arguments.length<3&&(n=t,t=j().changedTouches);if(t)for(var r=0,i=t.length,s;r<i;++r)if((s=t[r]).identifier===n)return Et(e,s)};var Mn,_n,Dn,Pn,Hn,Bn=s[M(s,"requestAnimationFrame")]||function(e){setTimeout(e,17)};e.timer=function(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,s={c:e,t:i,f:!1,n:null};_n?_n.n=s:Mn=s,_n=s,Dn||(Pn=clearTimeout(Pn),Dn=1,Bn(jn))},e.timer.flush=function(){Fn(),In()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Rn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Un);e.formatPrefix=function(t,n){var r=0;return t&&(t<0&&(t*=-1),n&&(t=e.round(t,qn(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,Math.floor((r-1)/3)*3))),Rn[8+r/3]};var Wn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Xn=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,qn(t,n))).toFixed(Math.max(0,Math.min(20,qn(t*(1+1e-15),n))))}}),$n=e.time={},Jn=Date;Kn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Qn.setUTCDate.apply(this._,arguments)},setDay:function(){Qn.setUTCDay.apply(this._,arguments)},setFullYear:function(){Qn.setUTCFullYear.apply(this._,arguments)},setHours:function(){Qn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Qn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Qn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Qn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Qn.setUTCSeconds.apply(this._,arguments)},setTime:function(){Qn.setTime.apply(this._,arguments)}};var Qn=Date.prototype;$n.year=Gn(function(e){return e=$n.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),$n.years=$n.year.range,$n.years.utc=$n.year.utc.range,$n.day=Gn(function(e){var t=new Jn(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),$n.days=$n.day.range,$n.days.utc=$n.day.utc.range,$n.dayOfYear=function(e){var t=$n.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=$n[e]=Gn(function(e){return(e=$n.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=$n.year(e).getDay();return Math.floor(($n.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});$n[e+"s"]=n.range,$n[e+"s"].utc=n.utc.range,$n[e+"OfYear"]=function(e){var n=$n.year(e).getDay();return Math.floor(($n.dayOfYear(e)+(n+t)%7)/7)}}),$n.week=$n.sunday,$n.weeks=$n.sunday.range,$n.weeks.utc=$n.sunday.utc.range,$n.weekOfYear=$n.sundayOfYear;var er={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,nr=/^%/;e.locale=function(e){return{numberFormat:zn(e),timeFormat:Zn(e)}};var xr=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});e.format=xr.numberFormat,e.geo={},Tr.prototype={s:0,t:0,add:function(e){Cr(e,this.t,Nr),Cr(Nr.s,this.s,this),this.s?this.t+=Nr.t:this.s=Nr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Nr=new Tr;e.geo.stream=function(e,t){e&&Lr.hasOwnProperty(e.type)?Lr[e.type](e,t):kr(e,t)};var Lr={Feature:function(e,t){kr(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)kr(n[r].geometry,t)}},Ar={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Or(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Or(n[r],t,0)},Polygon:function(e,t){Mr(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Mr(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)kr(n[r],t)}};e.geo.area=function(t){return _r=0,e.geo.stream(t,Pr),_r};var _r,Dr=new Tr,Pr={sphere:function(){_r+=4*Nt},point:D,lineStart:D,lineEnd:D,polygonStart:function(){Dr.reset(),Pr.lineStart=Hr},polygonEnd:function(){var e=2*Dr;_r+=e<0?4*Nt+e:e,Pr.lineStart=Pr.lineEnd=Pr.point=D}};e.geo.bounds=function(){function p(e,s){l.push(c=[t=e,r=e]),s<n&&(n=s),s>i&&(i=s)}function d(e,o){var u=Br([e*Ot,o*Ot]);if(a){var f=Fr(a,u),l=[f[1],-f[0],0],c=Fr(l,f);Rr(c),c=Ur(c);var h=e-s,d=h>0?1:-1,v=c[0]*Mt*d,m=y(h)>180;if(m^(d*s<v&&v<d*e)){var g=c[1]*Mt;g>i&&(i=g)}else if(v=(v+360)%360-180,m^(d*s<v&&v<d*e)){var g=-c[1]*Mt;g<n&&(n=g)}else o<n&&(n=o),o>i&&(i=o);m?e<s?E(t,e)>E(t,r)&&(r=e):E(e,r)>E(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>s?E(t,e)>E(t,r)&&(r=e):E(e,r)>E(t,r)&&(t=e)}else p(e,o);a=u,s=e}function v(){h.point=d}function m(){c[0]=t,c[1]=r,h.point=p,a=null}function g(e,t){if(a){var n=e-s;f+=y(n)>180?n+(n>0?360:-360):n}else o=e,u=t;Pr.point(e,t),d(e,t)}function b(){Pr.lineStart()}function w(){g(o,u),Pr.lineEnd(),y(f)>Lt&&(t=-(r=180)),c[0]=t,c[1]=r,a=null}function E(e,t){return(t-=e)<0?t+360:t}function S(e,t){return e[0]-t[0]}function x(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var t,n,r,i,s,o,u,a,f,l,c,h={point:p,lineStart:v,lineEnd:m,polygonStart:function(){h.point=g,h.lineStart=b,h.lineEnd=w,f=0,Pr.polygonStart()},polygonEnd:function(){Pr.polygonEnd(),h.point=p,h.lineStart=v,h.lineEnd=m,Dr<0?(t=-(r=180),n=-(i=90)):f>Lt?i=90:f<-Lt&&(n=-90),c[0]=t,c[1]=r}};return function(s){i=r=-(t=n=Infinity),l=[],e.geo.stream(s,h);var o=l.length;if(o){l.sort(S);for(var u=1,a=l[0],f,p=[a];u<o;++u)f=l[u],x(f[0],a)||x(f[1],a)?(E(a[0],f[1])>E(a[0],a[1])&&(a[1]=f[1]),E(f[0],a[1])>E(a[0],a[1])&&(a[0]=f[0])):p.push(a=f);var d=-Infinity,v;for(var o=p.length-1,u=0,a=p[o],f;u<=o;a=f,++u)f=p[u],(v=E(a[1],f[0]))>d&&(d=v,t=f[0],r=a[1])}return l=c=null,t===Infinity||n===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){Wr=Xr=Vr=$r=Jr=Kr=Qr=Gr=Yr=Zr=ei=0,e.geo.stream(t,ti);var n=Yr,r=Zr,i=ei,s=n*n+r*r+i*i;if(s<At){n=Kr,r=Qr,i=Gr,Xr<Lt&&(n=Vr,r=$r,i=Jr),s=n*n+r*r+i*i;if(s<At)return[NaN,NaN]}return[Math.atan2(r,n)*Mt,Ht(i/Math.sqrt(s))*Mt]};var Wr,Xr,Vr,$r,Jr,Kr,Qr,Gr,Yr,Zr,ei,ti={sphere:D,point:ni,lineStart:ii,lineEnd:si,polygonStart:function(){ti.lineStart=oi},polygonEnd:function(){ti.lineStart=ii}},mi=ci(ui,gi,bi,[-Nt,-Nt/2]),Si=1e9;e.geo.clipExtent=function(){var e,t,n,r,i,s,o={stream:function(e){return i&&(i.valid=!1),i=s(e),i.valid=!0,i},extent:function(u){return arguments.length?(s=xi(e=+u[0][0],t=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return Ni(Ci)}).raw=Ci,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){function f(e){var t=e[0],n=e[1];return i=null,(o(t,n),i)||(u(t,n),i)||a(t,n),i}var t=e.geo.albers(),n=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i,s={point:function(e,t){i=[e,t]}},o,u,a;return f.invert=function(e){var i=t.scale(),s=t.translate(),o=(e[0]-s[0])/i,u=(e[1]-s[1])/i;return(u>=.12&&u<.234&&o>=-0.425&&o<-0.214?n:u>=.166&&u<.234&&o>=-0.214&&o<-0.115?r:t).invert(e)},f.stream=function(e){var i=t.stream(e),s=n.stream(e),o=r.stream(e);return{point:function(e,t){i.point(e,t),s.point(e,t),o.point(e,t)},sphere:function(){i.sphere(),s.sphere(),o.sphere()},lineStart:function(){i.lineStart(),s.lineStart(),o.lineStart()},lineEnd:function(){i.lineEnd(),s.lineEnd(),o.lineEnd()},polygonStart:function(){i.polygonStart(),s.polygonStart(),o.polygonStart()},polygonEnd:function(){i.polygonEnd(),s.polygonEnd(),o.polygonEnd()}}},f.precision=function(e){return arguments.length?(t.precision(e),n.precision(e),r.precision(e),f):t.precision()},f.scale=function(e){return arguments.length?(t.scale(e),n.scale(e*.35),r.scale(e),f.translate(t.translate())):t.scale()},f.translate=function(e){if(!arguments.length)return t.translate();var i=t.scale(),l=+e[0],c=+e[1];return o=t.translate(e).clipExtent([[l-.455*i,c-.238*i],[l+.455*i,c+.238*i]]).stream(s).point,u=n.translate([l-.307*i,c+.201*i]).clipExtent([[l-.425*i+Lt,c+.12*i+Lt],[l-.214*i-Lt,c+.234*i-Lt]]).stream(s).point,a=r.translate([l-.205*i,c+.212*i]).clipExtent([[l-.214*i+Lt,c+.166*i+Lt],[l-.115*i-Lt,c+.234*i-Lt]]).stream(s).point,f},f.scale(1070)};var ki,Li,Ai={point:D,lineStart:D,lineEnd:D,polygonStart:function(){Li=0,Ai.lineStart=Oi},polygonEnd:function(){Ai.lineStart=Ai.lineEnd=Ai.point=D,ki+=y(Li/2)}},Mi,_i,Di,Pi,Hi={point:Bi,lineStart:D,lineEnd:D,polygonStart:D,polygonEnd:D},Ii={point:qi,lineStart:Ri,lineEnd:Ui,polygonStart:function(){Ii.lineStart=zi},polygonEnd:function(){Ii.point=qi,Ii.lineStart=Ri,Ii.lineEnd=Ui}};e.geo.path=function(){function u(n){if(n){typeof t=="function"&&s.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=i(s);e.geo.stream(n,o)}return s.result()}function a(){return o=null,u}var t=4.5,n,r,i,s,o;return u.area=function(t){return ki=0,e.geo.stream(t,i(Ai)),ki},u.centroid=function(t){return Vr=$r=Jr=Kr=Qr=Gr=Yr=Zr=ei=0,e.geo.stream(t,i(Ii)),ei?[Yr/ei,Zr/ei]:Gr?[Kr/Gr,Qr/Gr]:Jr?[Vr/Jr,$r/Jr]:[NaN,NaN]},u.bounds=function(t){return Di=Pi=-(Mi=_i=Infinity),e.geo.stream(t,i(Hi)),[[Mi,_i],[Di,Pi]]},u.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Vi(e):kn,a()):n},u.context=function(e){return arguments.length?(s=(r=e)==null?new ji:new Wi(e),typeof t!="function"&&s.pointRadius(t),a()):r},u.pointRadius=function(e){return arguments.length?(t=typeof e=="function"?e:(s.pointRadius(+e),+e),u):t},u.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new $i(t);for(var r in e)n[r]=e[r];return n}}},$i.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Ki,e.geo.projectionMutator=Qi,(e.geo.equirectangular=function(){return Ki(Yi)}).raw=Yi.invert=Yi,e.geo.rotation=function(e){function t(t){return t=e(t[0]*Ot,t[1]*Ot),t[0]*=Mt,t[1]*=Mt,t}return e=es(e[0]%360*Ot,e[1]*Ot,e.length>2?e[2]*Ot:0),t.invert=function(t){return t=e.invert(t[0]*Ot,t[1]*Ot),t[0]*=Mt,t[1]*=Mt,t},t},Zi.invert=Yi,e.geo.circle=function(){function i(){var t=typeof e=="function"?e.apply(this,arguments):e,n=es(-t[0]*Ot,-t[1]*Ot,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=Mt,e[1]*=Mt}}),{type:"Polygon",coordinates:[i]}}var e=[0,0],t,n=6,r;return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(r=is((t=+e)*Ot,n*Ot),i):t},i.precision=function(e){return arguments.length?(r=is(t*Ot,(n=+e)*Ot),i):n},i.angle(90)},e.geo.distance=function(e,t){var n=(t[0]-e[0])*Ot,r=e[1]*Ot,i=t[1]*Ot,s=Math.sin(n),o=Math.cos(n),u=Math.sin(r),a=Math.cos(r),f=Math.sin(i),l=Math.cos(i),c;return Math.atan2(Math.sqrt((c=l*s)*c+(c=a*f-u*l*o)*c),u*f+a*l*o)},e.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:w()}}function w(){return e.range(Math.ceil(i/c)*c,r,c).map(v).concat(e.range(Math.ceil(a/h)*h,u,h).map(m)).concat(e.range(Math.ceil(n/f)*f,t,f).filter(function(e){return y(e%c)>Lt}).map(p)).concat(e.range(Math.ceil(o/l)*l,s,l).filter(function(e){return y(e%h)>Lt}).map(d))}var t,n,r,i,s,o,u,a,f=10,l=f,c=90,h=360,p,d,v,m,g=2.5;return b.lines=function(){return w().map(function(e){return{type:"LineString",coordinates:e}})},b.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(m(u).slice(1),v(r).reverse().slice(1),m(a).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],a=+e[0][1],u=+e[1][1],i>r&&(e=i,i=r,r=e),a>u&&(e=a,a=u,u=e),b.precision(g)):[[i,a],[r,u]]},b.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],s=+e[1][1],n>t&&(e=n,n=t,t=e),o>s&&(e=o,o=s,s=e),b.precision(g)):[[n,o],[t,s]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(c=+e[0],h=+e[1],b):[c,h]},b.minorStep=function(e){return arguments.length?(f=+e[0],l=+e[1],b):[f,l]},b.precision=function(e){return arguments.length?(g=+e,p=os(o,s,90),d=us(n,t,g),v=os(a,u,90),m=us(i,r,g),b):g},b.majorExtent([[-180,-90+Lt],[180,90-Lt]]).minorExtent([[-180,-80-Lt],[180,80+Lt]])},e.geo.greatArc=function(){function s(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),i||r.apply(this,arguments)]}}var t=as,n,r=fs,i;return s.distance=function(){return e.geo.distance(n||t.apply(this,arguments),i||r.apply(this,arguments))},s.source=function(e){return arguments.length?(t=e,n=typeof e=="function"?null:e,s):t},s.target=function(e){return arguments.length?(r=e,i=typeof e=="function"?null:e,s):r},s.precision=function(){return arguments.length?s:0},s},e.geo.interpolate=function(e,t){return ls(e[0]*Ot,e[1]*Ot,t[0]*Ot,t[1]*Ot)},e.geo.length=function(t){return cs=0,e.geo.stream(t,hs),cs};var cs,hs={sphere:D,point:D,lineStart:ps,lineEnd:D,polygonStart:D,polygonEnd:D},vs=ds(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return Ki(vs)}).raw=vs;var ms=ds(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},kn);(e.geo.azimuthalEquidistant=function(){return Ki(ms)}).raw=ms,(e.geo.conicConformal=function(){return Ni(gs)}).raw=gs,(e.geo.conicEquidistant=function(){return Ni(ys)}).raw=ys;var bs=ds(function(e){return 1/e},Math.atan);(e.geo.gnomonic=function(){return Ki(bs)}).raw=bs,ws.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-kt]},(e.geo.mercator=function(){return Es(ws)}).raw=ws;var Ss=ds(function(){return 1},Math.asin);(e.geo.orthographic=function(){return Ki(Ss)}).raw=Ss;var xs=ds(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(e.geo.stereographic=function(){return Ki(xs)}).raw=xs,Ts.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-kt]},(e.geo.transverseMercator=function(){var e=Es(Ts),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[-e[1],e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},e.rotate([0,0])}).raw=Ts,e.geom={},e.geom.hull=function(e){function r(e){if(e.length<3)return[];var r=Cn(t),i=Cn(n),s,o=e.length,u=[],a=[];for(s=0;s<o;s++)u.push([+r.call(this,e[s],s),+i.call(this,e[s],s),s]);u.sort(Ls);for(s=0;s<o;s++)a.push([u[s][0],-u[s][1]]);var f=ks(u),l=ks(a),c=l[0]===f[0],h=l[l.length-1]===f[f.length-1],p=[];for(s=f.length-1;s>=0;--s)p.push(e[u[f[s]][2]]);for(s=+c;s<l.length-h;++s)p.push(e[u[l[s]][2]]);return p}var t=Ns,n=Cs;return arguments.length?r(e):(r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r)},e.geom.polygon=function(e){return q(e,As),e};var As=e.geom.polygon.prototype=[];As.area=function(){var e=-1,t=this.length,n,r=this[t-1],i=0;while(++e<t)n=r,r=this[e],i+=n[1]*r[0]-n[0]*r[1];return i*.5},As.centroid=function(e){var t=-1,n=this.length,r=0,i=0,s,o=this[n-1],u;arguments.length||(e=-1/(6*this.area()));while(++t<n)s=o,o=this[t],u=s[0]*o[1]-o[0]*s[1],r+=(s[0]+o[0])*u,i+=(s[1]+o[1])*u;return[r*e,i*e]},As.clip=function(e){var t,n=_s(e),r=-1,i=this.length-_s(this),s,o,u=this[i-1],a,f,l;while(++r<i){t=e.slice(),e.length=0,a=this[r],f=t[(o=t.length-n)-1],s=-1;while(++s<o)l=t[s],Os(l,u,a)?(Os(f,u,a)||e.push(Ms(f,l,u,a)),e.push(l)):Os(f,u,a)&&e.push(Ms(f,l,u,a)),f=l;n&&e.push(e[0]),u=a}return e};var Ds,Ps,Hs,Bs=[],js,Fs,Is=[];$s.prototype.prepare=function(){var e=this.edges,t=e.length,n;while(t--)n=e[t].edge,(!n.b||!n.a)&&e.splice(t,1);return e.sort(Ks),e.length},so.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},oo.prototype={insert:function(e,t){var n,r,i;if(e){t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=lo(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);t.L=t.R=null,t.U=n,t.C=!0,e=t;while(n&&n.C)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ao(this,n),e=n,n=e.U),n.C=!1,r.C=!0,fo(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(fo(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ao(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,i=e.R,s,o;r?i?s=lo(i):s=r:s=i,t?t.L===e?t.L=s:t.R=s:this._=s,r&&i?(o=s.C,s.C=e.C,s.L=r,r.U=s,s!==i?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=i,i.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t);if(o)return;if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){n=t.R,n.C&&(n.C=!1,t.C=!0,ao(this,t),n=t.R);if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C)n.L.C=!1,n.C=!0,fo(this,n),n=t.R;n.C=t.C,t.C=n.R.C=!1,ao(this,t),e=this._;break}}else{n=t.L,n.C&&(n.C=!1,t.C=!0,fo(this,t),n=t.L);if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C)n.R.C=!1,n.C=!0,ao(this,n),n=t.L;n.C=t.C,t.C=n.L.C=!1,fo(this,t),e=this._;break}}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}},e.geom.voronoi=function(e){function o(e){var t=new Array(e.length),n=s[0][0],r=s[0][1],i=s[1][0],o=s[1][1];return co(u(e),s).cells.forEach(function(s,u){var a=s.edges,f=s.site,l=t[u]=a.length?a.map(function(e){var t=e.start();return[t.x,t.y]}):f.x>=n&&f.x<=i&&f.y>=r&&f.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];l.point=e[u]}),t}function u(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/Lt)*Lt,y:Math.round(i(e,t)/Lt)*Lt,i:t}})}var t=Ns,n=Cs,r=t,i=n,s=po;return e?o(e):(o.links=function(e){return co(u(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(e){var t=[];return co(u(e)).cells.forEach(function(n,r){var i=n.site,s=n.edges.sort(Ks),o=-1,u=s.length,a,f,l=s[u-1].edge,c=l.l===i?l.r:l.l;while(++o<u)a=l,f=c,l=s[o].edge,c=l.l===i?l.r:l.l,r<f.i&&r<c.i&&vo(i,f,c)<0&&t.push([e[r],e[f.i],e[c.i]])}),t},o.x=function(e){return arguments.length?(r=Cn(t=e),o):t},o.y=function(e){return arguments.length?(i=Cn(n=e),o):n},o.clipExtent=function(e){return arguments.length?(s=e==null?po:e,o):s===po?null:s},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):s===po?null:s&&s[1]},o)};var po=[[-1e6,-1e6],[1e6,1e6]];e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,i){function a(e){function T(e,t,n,r,i,s,o,u){if(isNaN(n)||isNaN(r))return;if(e.leaf){var a=e.x,f=e.y;if(a!=null)if(y(a-n)+y(f-r)<.01)N(e,t,n,r,i,s,o,u);else{var l=e.point;e.x=e.y=e.point=null,N(e,l,a,f,i,s,o,u),N(e,t,n,r,i,s,o,u)}else e.x=n,e.y=r,e.point=t}else N(e,t,n,r,i,s,o,u)}function N(e,t,n,r,i,s,o,u){var a=(i+o)*.5,f=(s+u)*.5,l=n>=a,c=r>=f,h=(c<<1)+l;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=yo()),l?i=a:o=a,c?s=f:u=f,T(e,t,n,r,i,s,o,u)}var a,f=Cn(s),l=Cn(o),c,h,p,d,v,m,g,b;if(t!=null)v=t,m=n,g=r,b=i;else{g=b=-(v=m=Infinity),c=[],h=[],d=e.length;if(u)for(p=0;p<d;++p)a=e[p],a.x<v&&(v=a.x),a.y<m&&(m=a.y),a.x>g&&(g=a.x),a.y>b&&(b=a.y),c.push(a.x),h.push(a.y);else for(p=0;p<d;++p){var w=+f(a=e[p],p),E=+l(a,p);w<v&&(v=w),E<m&&(m=E),w>g&&(g=w),E>b&&(b=E),c.push(w),h.push(E)}}var S=g-v,x=b-m;S>x?b=m+S:g=v+x;var C=yo();C.add=function(e){T(C,e,+f(e,++p),+l(e,p),v,m,g,b)},C.visit=function(e){bo(e,C,v,m,g,b)},p=-1;if(t==null){while(++p<d)T(C,e[p],c[p],h[p],v,m,g,b);--p}else e.forEach(C.add);return c=h=e=a=null,C}var s=Ns,o=Cs,u;return(u=arguments.length)?(s=mo,o=go,u===3&&(i=n,r=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(o=e,a):o},a.extent=function(e){return arguments.length?(e==null?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),a):t==null?null:[[t,n],[r,i]]},a.size=function(e){return arguments.length?(e==null?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),a):t==null?null:[r-t,i-n]},a)},e.interpolateRgb=wo,e.interpolateObject=Eo,e.interpolateNumber=So,e.interpolateString=xo;var To=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,No=new RegExp(To.source,"g");e.interpolate=Co,e.interpolators=[function(e,t){var n=typeof t;return(n==="string"?Nn.has(t)||/^(#|rgb\(|hsl\()/.test(t)?wo:xo:t instanceof Vt?wo:Array.isArray(t)?ko:n==="object"&&isNaN(t)?Eo:So)(e,t)}],e.interpolateArray=ko;var Lo=function(){return kn},Ao=e.map({linear:Lo,poly:jo,quad:function(){return Po},cubic:function(){return Ho},sin:function(){return Fo},exp:function(){return Io},circle:function(){return qo},elastic:Ro,back:Uo,bounce:function(){return zo}}),Oo=e.map({"in":kn,out:_o,"in-out":Do,"out-in":function(e){return Do(_o(e))}});e.ease=function(e){var n=e.indexOf("-"),r=n>=0?e.substring(0,n):e,i=n>=0?e.substring(n+1):"in";return r=Ao.get(r)||Lo,i=Oo.get(i)||kn,Mo(i(r.apply(null,t.call(arguments,1))))},e.interpolateHcl=Wo,e.interpolateHsl=Xo,e.interpolateLab=Vo,e.interpolateRound=$o,e.transform=function(t){var n=r.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(e!=null){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Jo(t?t.matrix:Yo)})(t)},Jo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Yo={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=Zo,e.layout={},e.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(nu(e[n]));return t}},e.layout.chord=function(){function l(){var t={},l=[],h=e.range(s),p=[],d,v,m,g,y;n=[],r=[],d=0,g=-1;while(++g<s){v=0,y=-1;while(++y<s)v+=i[g][y];l.push(v),p.push(e.range(s)),d+=v}u&&h.sort(function(e,t){return u(l[e],l[t])}),a&&p.forEach(function(e,t){e.sort(function(e,n){return a(i[t][e],i[t][n])})}),d=(Ct-o*s)/d,v=0,g=-1;while(++g<s){m=v,y=-1;while(++y<s){var b=h[g],w=p[b][y],E=i[b][w],S=v,x=v+=E*d;t[b+"-"+w]={index:b,subindex:w,startAngle:S,endAngle:x,value:E}}r[b]={index:b,startAngle:m,endAngle:v,value:(v-m)/d},v+=o}g=-1;while(++g<s){y=g-1;while(++y<s){var T=t[g+"-"+y],N=t[y+"-"+g];(T.value||N.value)&&n.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}}f&&c()}function c(){n.sort(function(e,t){return f((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var t={},n,r,i,s,o=0,u,a,f;return t.matrix=function(e){return arguments.length?(s=(i=e)&&i.length,n=r=null,t):i},t.padding=function(e){return arguments.length?(o=e,n=r=null,t):o},t.sortGroups=function(e){return arguments.length?(u=e,n=r=null,t):u},t.sortSubgroups=function(e){return arguments.length?(a=e,n=null,t):a},t.sortChords=function(e){return arguments.length?(f=e,n&&c(),t):f},t.chords=function(){return n||l(),n},t.groups=function(){return r||l(),r},t},e.layout.force=function(){function y(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=i-n,a=s*s+o*o;if(u*u/h<a){if(a<l){var f=t.charge/a;e.px-=s*f,e.py-=o*f}return!0}if(t.point&&a&&a<l){var f=t.pointCharge/a;e.px-=s*f,e.py-=o*f}}return!t.charge}}function b(n){n.px=e.event.x,n.py=e.event.y,t.resume()}var t={},n=e.dispatch("start","tick","end"),r=[1,1],i,s,o=.9,u=lu,a=cu,f=-30,l=hu,c=.1,h=.64,p=[],d=[],v,m,g;return t.tick=function(){if((s*=.99)<.005)return n.end({type:"end",alpha:s=0}),!0;var t=p.length,i=d.length,u,a,l,h,b,w,E,S,x;for(a=0;a<i;++a){l=d[a],h=l.source,b=l.target,S=b.x-h.x,x=b.y-h.y;if(w=S*S+x*x)w=s*m[a]*((w=Math.sqrt(w))-v[a])/w,S*=w,x*=w,b.x-=S*(E=h.weight/(b.weight+h.weight)),b.y-=x*E,h.x+=S*(E=1-E),h.y+=x*E}if(E=s*c){S=r[0]/2,x=r[1]/2,a=-1;if(E)while(++a<t)l=p[a],l.x+=(S-l.x)*E,l.y+=(x-l.y)*E}if(f){fu(u=e.geom.quadtree(p),s,g),a=-1;while(++a<t)(l=p[a]).fixed||u.visit(y(l))}a=-1;while(++a<t)l=p[a],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*o,l.y-=(l.py-(l.py=l.y))*o);n.tick({type:"tick",alpha:s})},t.nodes=function(e){return arguments.length?(p=e,t):p},t.links=function(e){return arguments.length?(d=e,t):d},t.size=function(e){return arguments.length?(r=e,t):r},t.linkDistance=function(e){return arguments.length?(u=typeof e=="function"?e:+e,t):u},t.distance=t.linkDistance,t.linkStrength=function(e){return arguments.length?(a=typeof e=="function"?e:+e,t):a},t.friction=function(e){return arguments.length?(o=+e,t):o},t.charge=function(e){return arguments.length?(f=typeof e=="function"?e:+e,t):f},t.chargeDistance=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.gravity=function(e){return arguments.length?(c=+e,t):c},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t.alpha=function(r){return arguments.length?(r=+r,s?r>0?s=r:s=0:r>0&&(n.start({type:"start",alpha:s=r}),e.timer(t.tick)),t):s},t.start=function(){function h(t,r){if(!l){l=new Array(n);for(o=0;o<n;++o)l[o]=[];for(o=0;o<u;++o){var i=d[o];l[i.source.index].push(i.target),l[i.target.index].push(i.source)}}var s=l[e],o=-1,u=s.length,a;while(++o<u)if(!isNaN(a=s[o][t]))return a;return Math.random()*r}var e,n=p.length,i=d.length,s=r[0],o=r[1],l,c;for(e=0;e<n;++e)(c=p[e]).index=e,c.weight=0;for(e=0;e<i;++e)c=d[e],typeof c.source=="number"&&(c.source=p[c.source]),typeof c.target=="number"&&(c.target=p[c.target]),++c.source.weight,++c.target.weight;for(e=0;e<n;++e)c=p[e],isNaN(c.x)&&(c.x=h("x",s)),isNaN(c.y)&&(c.y=h("y",o)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);v=[];if(typeof u=="function")for(e=0;e<i;++e)v[e]=+u.call(this,d[e],e);else for(e=0;e<i;++e)v[e]=u;m=[];if(typeof a=="function")for(e=0;e<i;++e)m[e]=+a.call(this,d[e],e);else for(e=0;e<i;++e)m[e]=a;g=[];if(typeof f=="function")for(e=0;e<n;++e)g[e]=+f.call(this,p[e],e);else for(e=0;e<n;++e)g[e]=f;return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){i||(i=e.behavior.drag().origin(kn).on("dragstart.force",su).on("drag.force",b).on("dragend.force",ou));if(!arguments.length)return i;this.on("mouseover.force",uu).on("mouseout.force",au).call(i)},e.rebind(t,n,"on")};var lu=20,cu=1,hu=Infinity;e.layout.hierarchy=function(){function r(i){var s=[i],o=[],u;i.depth=0;while((u=s.pop())!=null){o.push(u);if((f=t.call(r,u,u.depth))&&(a=f.length)){var a,f,l;while(--a>=0)s.push(l=f[a]),l.parent=u,l.depth=u.depth+1;n&&(u.value=0),u.children=f}else n&&(u.value=+n.call(r,u,u.depth)||0),delete u.children}return vu(i,function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)}),o}var e=yu,t=mu,n=gu;return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(du(e,function(e){e.children&&(e.value=0)}),vu(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0);if(t=e.parent)t.value+=e.value})),e},r},e.layout.partition=function(){function r(e,t,n,i){var s=e.children;e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;n=e.value?n/e.value:0;while(++o<u)r(a=s[o],t,f=a.value*n,i),t+=f}}function i(e){var t=e.children,n=0;if(t&&(s=t.length)){var r=-1,s;while(++r<s)n=Math.max(n,i(t[r]))}return 1+n}function s(e,s){var o=t.call(this,e,s);return r(o[0],0,n[0],n[1]/i(o[0])),o}var t=e.layout.hierarchy(),n=[1,1];return s.size=function(e){return arguments.length?(n=e,s):n},pu(s,t)},e.layout.pie=function(){function s(o){var u=o.map(function(e,n){return+t.call(s,e,n)}),a=+(typeof r=="function"?r.apply(this,arguments):r),f=((typeof i=="function"?i.apply(this,arguments):i)-a)/e.sum(u),l=e.range(o.length);n!=null&&l.sort(n===wu?function(e,t){return u[t]-u[e]}:function(e,t){return n(o[e],o[t])});var c=[];return l.forEach(function(e){var t;c[e]={data:o[e],value:t=u[e],startAngle:a,endAngle:a+=t*f}}),c}var t=Number,n=wu,r=0,i=Ct;return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(e){return arguments.length?(n=e,s):n},s.startAngle=function(e){return arguments.length?(r=e,s):r},s.endAngle=function(e){return arguments.length?(i=e,s):i},s};var wu={};e.layout.stack=function(){function u(a,f){var l=a.map(function(e,n){return t.call(u,e,n)}),c=l.map(function(e){return e.map(function(e,t){return[s.call(u,e,t),o.call(u,e,t)]})}),h=n.call(u,c,f);l=e.permute(l,h),c=e.permute(c,h);var p=r.call(u,c,f),d=l.length,v=l[0].length,m,g,y;for(g=0;g<v;++g){i.call(u,l[0][g],y=p[g],c[0][g][1]);for(m=1;m<d;++m)i.call(u,l[m][g],y+=c[m-1][g][1],c[m][g][1])}return a}var t=kn,n=Cu,r=ku,i=xu,s=Eu,o=Su;return u.values=function(e){return arguments.length?(t=e,u):t},u.order=function(e){return arguments.length?(n=typeof e=="function"?e:Tu.get(e)||Cu,u):n},u.offset=function(e){return arguments.length?(r=typeof e=="function"?e:Nu.get(e)||ku,u):r},u.x=function(e){return arguments.length?(s=e,u):s},u.y=function(e){return arguments.length?(o=e,u):o},u.out=function(e){return arguments.length?(i=e,u):i},u};var Tu=e.map({"inside-out":function(t){var n=t.length,r,i,s=t.map(Lu),o=t.map(Au),u=e.range(n).sort(function(e,t){return s[e]-s[t]}),a=0,f=0,l=[],c=[];for(r=0;r<n;++r)i=u[r],a<f?(a+=o[i],l.push(i)):(f+=o[i],c.push(i));return c.reverse().concat(l)},reverse:function(t){return e.range(t.length).reverse()},"default":Cu}),Nu=e.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o)f+=(e[o][s][1]-e[o][s-1][1])/l;a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0,c<h&&(h=c)}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:ku});e.layout.histogram=function(){function s(s,o){var u=[],a=s.map(n,this),f=r.call(this,a,o),l=i.call(this,f,a,o),c,o=-1,h=a.length,p=l.length-1,d=t?1:1/h,v;while(++o<p)c=u[o]=[],c.dx=l[o+1]-(c.x=l[o]),c.y=0;if(p>0){o=-1;while(++o<h)v=a[o],v>=f[0]&&v<=f[1]&&(c=u[e.bisect(l,v,1,p)-1],c.y+=d,c.push(s[o]))}return u}var t=!0,n=Number,r=Du,i=Mu;return s.value=function(e){return arguments.length?(n=e,s):n},s.range=function(e){return arguments.length?(r=Cn(e),s):r},s.bins=function(e){return arguments.length?(i=typeof e=="number"?function(t){return _u(t,e)}:Cn(e),s):i},s.frequency=function(e){return arguments.length?(t=!!e,s):t},s},e.layout.pack=function(){function s(e,s){var o=t.call(this,e,s),u=o[0],a=r[0],f=r[1],l=i==null?Math.sqrt:typeof i=="function"?i:function(){return i};u.x=u.y=0,vu(u,function(e){e.r=+l(e.value)}),vu(u,Fu);if(n){var c=n*(i?1:Math.max(2*u.r/a,2*u.r/f))/2;vu(u,function(e){e.r+=c}),vu(u,Fu),vu(u,function(e){e.r-=c})}return Ru(u,a/2,f/2,i?1:1/Math.max(2*u.r/a,2*u.r/f)),o}var t=e.layout.hierarchy().sort(Pu),n=0,r=[1,1],i;return s.size=function(e){return arguments.length?(r=e,s):r},s.radius=function(e){return arguments.length?(i=e==null||typeof e=="function"?e:+e,s):i},s.padding=function(e){return arguments.length?(n=+e,s):n},pu(s,t)},e.layout.tree=function(){function s(e,s){var f=t.call(this,e,s),c=f[0],h=o(c);vu(h,u),h.parent.m=-h.z,du(h,a);if(i)du(c,l);else{var p=c,d=c,v=c;du(c,function(e){e.x<p.x&&(p=e),e.x>d.x&&(d=e),e.depth>v.depth&&(v=e)});var m=n(p,d)/2-p.x,g=r[0]/(d.x+n(d,p)/2+m),y=r[1]/(v.depth||1);du(c,function(e){e.x=(e.x+m)*g,e.y=e.depth*y})}return f}function o(e){var t={A:null,children:[e]},n=[t],r;while((r=n.pop())!=null)for(var i=r.children,s,o=0,u=i.length;o<u;++o)n.push((i[o]=s={_:i[o],parent:r,children:(s=i[o].children)&&s.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=s);return t.children[0]}function u(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){$u(e);var s=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-s):e.z=s}else i&&(e.z=i.z+n(e._,i._));e.parent.A=f(e,i,e.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function f(e,t,r){if(t){var i=e,s=e,o=t,u=i.parent.children[0],a=i.m,f=s.m,l=o.m,c=u.m,h;while(o=Xu(o),i=Wu(i),o&&i)u=Wu(u),s=Xu(s),s.a=e,h=o.z+l-i.z-a+n(o._,i._),h>0&&(Vu(Ju(o,e,r),e,h),a+=h,f+=h),l+=o.m,a+=i.m,c+=u.m,f+=s.m;o&&!Xu(s)&&(s.t=o,s.m+=l-f),i&&!Wu(u)&&(u.t=i,u.m+=a-c,r=e)}return r}function l(e){e.x*=r[0],e.y=e.depth*r[1]}var t=e.layout.hierarchy().sort(null).value(null),n=zu,r=[1,1],i=null;return s.separation=function(e){return arguments.length?(n=e,s):n},s.size=function(e){return arguments.length?(i=(r=e)==null?l:null,s):i?null:r},s.nodeSize=function(e){return arguments.length?(i=(r=e)==null?null:l,s):i?r:null},pu(s,t)},e.layout.cluster=function(){function s(e,s){var o=t.call(this,e,s),u=o[0],a,f=0;vu(u,function(e){var t=e.children;t&&t.length?(e.x=Qu(t),e.y=Ku(t)):(e.x=a?f+=n(e,a):0,e.y=0,a=e)});var l=Gu(u),c=Yu(u),h=l.x-n(l,c)/2,p=c.x+n(c,l)/2;return vu(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),o}var t=e.layout.hierarchy().sort(null).value(null),n=zu,r=[1,1],i=!1;return s.separation=function(e){return arguments.length?(n=e,s):n},s.size=function(e){return arguments.length?(i=(r=e)==null,s):i?null:r},s.nodeSize=function(e){return arguments.length?(i=(r=e)!=null,s):i?r:null},pu(s,t)},e.layout.treemap=function(){function l(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function c(e){var t=e.children;if(t&&t.length){var n=s(e),r=[],i=t.slice(),o,u=Infinity,f,h=a==="slice"?n.dx:a==="dice"?n.dy:a==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),v;l(i,n.dx*n.dy/e.value),r.area=0;while((v=i.length)>0)r.push(o=i[v-1]),r.area+=o.area,a!=="squarify"||(f=p(r,h))<=u?(i.pop(),u=f):(r.area-=r.pop().area,d(r,h,n,!1),h=Math.min(n.dx,n.dy),r.length=r.area=0,u=Infinity);r.length&&(d(r,h,n,!0),r.length=r.area=0),t.forEach(c)}}function h(e){var t=e.children;if(t&&t.length){var n=s(e),r=t.slice(),i,o=[];l(r,n.dx*n.dy/e.value),o.area=0;while(i=r.pop())o.push(i),o.area+=i.area,i.z!=null&&(d(o,i.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(h)}}function p(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*f/n,n/(t*s*f)):Infinity}function d(e,t,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=t?n(e.area/t):0,l;if(t==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o)l=e[s],l.x=u,l.y=a,l.dy=f,u+=l.dx=Math.min(r.x+r.dx-u,f?n(l.area/f):0);l.z=!0,l.dx+=r.x+r.dx-u,r.y+=f,r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o)l=e[s],l.x=u,l.y=a,l.dx=f,a+=l.dy=Math.min(r.y+r.dy-a,f?n(l.area/f):0);l.z=!1,l.dy+=r.y+r.dy-a,r.x+=f,r.dx-=f}}function v(e){var n=u||t(e),i=n[0];return i.x=0,i.y=0,i.dx=r[0],i.dy=r[1],u&&t.revalue(i),l([i],i.dx*i.dy/i.value),(u?h:c)(i),o&&(u=n),n}var t=e.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=Zu,o=!1,u,a="squarify",f=.5*(1+Math.sqrt(5));return v.size=function(e){return arguments.length?(r=e,v):r},v.padding=function(e){function t(t){var n=e.call(v,t,t.depth);return n==null?Zu(t):ea(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return ea(t,e)}if(!arguments.length)return i;var r;return s=(i=e)==null?Zu:(r=typeof e)==="function"?t:r==="number"?(e=[e,e,e,e],n):n,v},v.round=function(e){return arguments.length?(n=e?Math.round:Number,v):n!=Number},v.sticky=function(e){return arguments.length?(o=e,u=null,v):o},v.ratio=function(e){return arguments.length?(f=e,v):f},v.mode=function(e){return arguments.length?(a=e+"",v):a},pu(v,t)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var oa={floor:kn,ceil:kn};e.scale.linear=function(){return aa([0,1],[0,1],Co,!1)};var da={s:1,g:1,p:1,r:1,e:1};e.scale.log=function(){return ga(e.scale.linear().domain([0,1]),10,!0,[1,10])};var ya=e.format(".0e"),ba={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};e.scale.pow=function(){return wa(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Sa([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(xa)},e.scale.category20=function(){return e.scale.ordinal().range(Ta)},e.scale.category20b=function(){return e.scale.ordinal().range(Na)},e.scale.category20c=function(){return e.scale.ordinal().range(Ca)};var xa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vn),Ta=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vn),Na=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vn),Ca=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vn);e.scale.quantile=function(){return ka([],[])},e.scale.quantize=function(){return La(0,1,[0,1])},e.scale.threshold=function(){return Aa([.5],[0,1])},e.scale.identity=function(){return Oa([0,1])},e.svg={},e.svg.arc=function(){function i(){var i=e.apply(this,arguments),s=t.apply(this,arguments),o=n.apply(this,arguments)+Ma,u=r.apply(this,arguments)+Ma,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Nt?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=_a?i?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+ -i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":i?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+f+",0 "+i*l+","+i*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var e=Da,t=Pa,n=Ha,r=Ba;return i.innerRadius=function(t){return arguments.length?(e=Cn(t),i):e},i.outerRadius=function(e){return arguments.length?(t=Cn(e),i):t},i.startAngle=function(e){return arguments.length?(n=Cn(e),i):n},i.endAngle=function(e){return arguments.length?(r=Cn(e),i):r},i.centroid=function(){var i=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+Ma;return[Math.cos(s)*i,Math.sin(s)*i]},i};var Ma=-kt,_a=Ct-Lt;e.svg.line=function(){return ja(kn)};var Fa=e.map({linear:Ia,"linear-closed":qa,step:Ra,"step-before":Ua,"step-after":za,basis:Ka,"basis-open":Qa,"basis-closed":Ga,bundle:Ya,cardinal:Va,"cardinal-open":Wa,"cardinal-closed":Xa,monotone:af});Fa.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ef=[0,2/3,1/3,0],tf=[0,1/3,2/3,0],nf=[0,1/6,2/3,1/6];e.svg.line.radial=function(){var e=ja(ff);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ua.reverse=za,za.reverse=Ua,e.svg.area=function(){return lf(kn)},e.svg.area.radial=function(){var e=lf(ff);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){function s(n,r){var i=o(this,e,n,r),s=o(this,t,n,r);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(u(i,s)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+f(s.r,s.p1,i.r,i.p0))+"Z"}function o(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)+Ma,l=i.call(e,u,o)+Ma;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function u(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Nt)+",1 "+t}function f(e,t,n,r){return"Q 0,0 "+r}var e=as,t=fs,n=cf,r=Ha,i=Ba;return s.radius=function(e){return arguments.length?(n=Cn(e),s):n},s.source=function(t){return arguments.length?(e=Cn(t),s):e},s.target=function(e){return arguments.length?(t=Cn(e),s):t},s.startAngle=function(e){return arguments.length?(r=Cn(e),s):r},s.endAngle=function(e){return arguments.length?(i=Cn(e),s):i},s},e.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(n),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=as,t=fs,n=hf;return r.source=function(t){return arguments.length?(e=Cn(t),r):e},r.target=function(e){return arguments.length?(t=Cn(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=hf,r=t.projection;return t.projection=function(e){return arguments.length?r(pf(n=e)):n},t},e.svg.symbol=function(){function n(n,r){return(gf.get(e.call(this,n,r))||mf)(t.call(this,n,r))}var e=vf,t=df;return n.type=function(t){return arguments.length?(e=Cn(t),n):e},n.size=function(e){return arguments.length?(t=Cn(e),n):t},n};var gf=e.map({circle:mf,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*bf)),n=t*bf;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/yf),n=t*yf/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/yf),n=t*yf/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});e.svg.symbolTypes=gf.keys();var yf=Math.sqrt(3),bf=Math.tan(30*Ot),Ef=[],Sf=0,xf,Tf;Ef.call=V.call,Ef.empty=V.empty,Ef.node=V.node,Ef.size=V.size,e.transition=function(e){return arguments.length?xf?e.transition():e:pt.transition()},e.transition.prototype=Ef,Ef.select=function(e){var t=this.id,n=[],r,i,s;e=$(e);for(var o=-1,u=this.length;++o<u;){n.push(r=[]);for(var a=this[o],f=-1,l=a.length;++f<l;)(s=a[f])&&(i=e.call(s,s.__data__,f,o))?("__data__"in s&&(i.__data__=s.__data__),kf(i,f,t,s.__transition__[t]),r.push(i)):r.push(null)}return wf(n,t)},Ef.selectAll=function(e){var t=this.id,n=[],r,i,s,o,u;e=J(e);for(var a=-1,f=this.length;++a<f;)for(var l=this[a],c=-1,h=l.length;++c<h;)if(s=l[c]){u=s.__transition__[t],i=e.call(s,s.__data__,c,a),n.push(r=[]);for(var p=-1,d=i.length;++p<d;)(o=i[p])&&kf(o,p,t,u),r.push(o)}return wf(n,t)},Ef.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=ot(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u,s)&&n.push(i)}return wf(t,this.id)},Ef.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):at(this,t==null?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},Ef.attr=function(t,n){function s(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function u(e){return e==null?s:(e+="",function(){var t=this.getAttribute(i),n;return t!==e&&(n=r(t,e),function(e){this.setAttribute(i,n(e))})})}function a(e){return e==null?o:(e+="",function(){var t=this.getAttributeNS(i.space,i.local),n;return t!==e&&(n=r(t,e),function(e){this.setAttributeNS(i.space,i.local,n(e))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r=t=="transform"?Zo:Co,i=e.ns.qualify(t);return Nf(this,"attr."+t,n,i.local?a:u)},Ef.attrTween=function(t,n){function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function s(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?s:i)},Ef.style=function(e,t,n){function i(){this.style.removeProperty(e)}function o(t){return t==null?i:(t+="",function(){var r=s.getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=Co(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Nf(this,"style."+e,t,o)},Ef.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,s.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Ef.text=function(e){return Nf(this,"text",e,Cf)},Ef.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ef.ease=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:(typeof t!="function"&&(t=e.ease.apply(e,arguments)),at(this,function(e){e.__transition__[n].ease=t}))},Ef.delay=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:at(this,typeof e=="function"?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Ef.duration=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:at(this,typeof e=="function"?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Ef.each=function(t,n){var r=this.id;if(arguments.length<2){var i=Tf,s=xf;xf=r,at(this,function(e,n,i){Tf=e.__transition__[r],t.call(e,e.__data__,n,i)}),Tf=i,xf=s}else at(this,function(i){var s=i.__transition__[r];(s.event||(s.event=e.dispatch("start","end"))).on(t,n)});return this},Ef.transition=function(){var e=this.id,t=++Sf,n=[],r,i,s,o;for(var u=0,a=this.length;u<a;u++){n.push(r=[]);for(var i=this[u],f=0,l=i.length;f<l;f++){if(s=i[f])o=Object.create(s.__transition__[e]),o.delay+=o.duration,kf(s,f,t,o);r.push(s)}}return wf(n,t)},e.svg.axis=function(){function f(f){f.each(function(){var f=e.select(this),l=this.__chart__||t,c=this.__chart__=t.copy(),h=u==null?c.ticks?c.ticks.apply(c,o):c.domain():u,p=a==null?c.tickFormat?c.tickFormat.apply(c,o):kn:a,d=f.selectAll(".tick").data(h,c),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Lt),m=e.transition(d.exit()).style("opacity",Lt).remove(),g=e.transition(d.order()).style("opacity",1),y,b=na(c),w=f.selectAll(".domain").data([0]),E=(w.enter().append("path").attr("class","domain"),e.transition(w));v.append("line"),v.append("text");var S=v.select("line"),x=g.select("line"),T=d.select("text").text(p),N=v.select("text"),C=g.select("text");switch(n){case"bottom":y=Of,S.attr("y2",r),N.attr("y",Math.max(r,0)+s),x.attr("x2",0).attr("y2",r),C.attr("x",0).attr("y",Math.max(r,0)+s),T.attr("dy",".71em").style("text-anchor","middle"),E.attr("d","M"+b[0]+","+i+"V0H"+b[1]+"V"+i);break;case"top":y=Of,S.attr("y2",-r),N.attr("y",-(Math.max(r,0)+s)),x.attr("x2",0).attr("y2",-r),C.attr("x",0).attr("y",-(Math.max(r,0)+s)),T.attr("dy","0em").style("text-anchor","middle"),E.attr("d","M"+b[0]+","+ -i+"V0H"+b[1]+"V"+ -i);break;case"left":y=Mf,S.attr("x2",-r),N.attr("x",-(Math.max(r,0)+s)),x.attr("x2",-r).attr("y2",0),C.attr("x",-(Math.max(r,0)+s)).attr("y",0),T.attr("dy",".32em").style("text-anchor","end"),E.attr("d","M"+ -i+","+b[0]+"H0V"+b[1]+"H"+ -i);break;case"right":y=Mf,S.attr("x2",r),N.attr("x",Math.max(r,0)+s),x.attr("x2",r).attr("y2",0),C.attr("x",Math.max(r,0)+s).attr("y",0),T.attr("dy",".32em").style("text-anchor","start"),E.attr("d","M"+i+","+b[0]+"H0V"+b[1]+"H"+i)}if(c.rangeBand){var k=c,L=k.rangeBand()/2;l=c=function(e){return k(e)+L}}else l.rangeBand?l=c:m.call(y,c);v.call(y,l),g.call(y,c)})}var t=e.scale.linear(),n=Lf,r=6,i=6,s=3,o=[10],u=null,a;return f.scale=function(e){return arguments.length?(t=e,f):t},f.orient=function(e){return arguments.length?(n=e in Af?e+"":Lf,f):n},f.ticks=function(){return arguments.length?(o=arguments,f):o},f.tickValues=function(e){return arguments.length?(u=e,f):u},f.tickFormat=function(e){return arguments.length?(a=e,f):a},f.tickSize=function(e){var t=arguments.length;return t?(r=+e,i=+arguments[t-1],f):r},f.innerTickSize=function(e){return arguments.length?(r=+e,f):r},f.outerTickSize=function(e){return arguments.length?(i=+e,f):i},f.tickPadding=function(e){return arguments.length?(s=+e,f):s},f.tickSubdivide=function(){return arguments.length&&f},f};var Lf="bottom",Af={top:1,right:1,bottom:1,left:1};e.svg.brush=function(){function h(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=t.selectAll(".resize").data(c,kn);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return _f[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",h.empty()?"none":null);var o=e.transition(t),u=e.transition(i),a;n&&(a=na(n),u.attr("x",a[0]).attr("width",a[1]-a[0]),d(o)),r&&(a=na(r),u.attr("y",a[0]).attr("height",a[1]-a[0]),v(o)),p(o)})}function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)]+","+o[+/^s/.test(e)]+")"})}function d(e){e.select(".extent").attr("x",i[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function v(e){e.select(".extent").attr("y",o[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function m(){function O(){e.event.keyCode==32&&(S||(T=null,N[0]-=i[1],N[1]-=o[1],S=2),B())}function M(){e.event.keyCode==32&&S==2&&(N[0]+=i[1],N[1]+=o[1],S=0,B())}function _(){var t=e.mouse(c),s=!1;C&&(t[0]+=C[0],t[1]+=C[1]),S||(e.event.altKey?(T||(T=[(i[0]+i[1])/2,(o[0]+o[1])/2]),N[0]=i[+(t[0]<T[0])],N[1]=o[+(t[1]<T[1])]):T=null),w&&D(t,n,0)&&(d(y),s=!0),E&&D(t,r,1)&&(v(y),s=!0),s&&(p(y),g({type:"brush",mode:S?"move":"resize"}))}function D(e,t,n){var r=na(t),s=r[0],c=r[1],h=N[n],p=n?o:i,d=p[1]-p[0],v,m;S&&(s-=h,c-=d+h),v=(n?l:f)?Math.max(s,Math.min(c,e[n])):e[n],S?m=(v+=h)+d:(T&&(h=Math.max(s,Math.min(c,2*T[n]-v))),h<v?(m=v,v=h):m=h);if(p[0]!=v||p[1]!=m)return n?a=null:u=null,p[0]=v,p[1]=m,!0}function P(){_(),y.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),e.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),g({type:"brushend"})}var c=this,m=e.select(e.event.target),g=t.of(c,arguments),y=e.select(c),b=m.datum(),w=!/^(n|s)$/.test(b)&&n,E=!/^(e|w)$/.test(b)&&r,S=m.classed("extent"),x=wt(),T,N=e.mouse(c),C,k=e.select(s).on("keydown.brush",O).on("keyup.brush",M);e.event.changedTouches?k.on("touchmove.brush",_).on("touchend.brush",P):k.on("mousemove.brush",_).on("mouseup.brush",P),y.interrupt().selectAll("*").interrupt();if(S)N[0]=i[0]-N[0],N[1]=o[0]-N[1];else if(b){var L=+/w$/.test(b),A=+/^n/.test(b);C=[i[1-L]-N[0],o[1-A]-N[1]],N[0]=i[L],N[1]=o[A]}else e.event.altKey&&(T=N.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",m.style("cursor")),g({type:"brushstart"}),_()}var t=F(h,"brushstart","brush","brushend"),n=null,r=null,i=[0,0],o=[0,0],u,a,f=!0,l=!0,c=Df[0];return h.event=function(n){n.each(function(){var n=t.of(this,arguments),r={x:i,y:o,i:u,j:a},s=this.__chart__||r;this.__chart__=r,xf?e.select(this).transition().each("start.brush",function(){u=s.i,a=s.j,i=s.x,o=s.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=ko(i,r.x),t=ko(o,r.y);return u=a=null,function(s){i=r.x=e(s),o=r.y=t(s),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=r.i,a=r.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},h.x=function(e){return arguments.length?(n=e,c=Df[!n<<1|!r],h):n},h.y=function(e){return arguments.length?(r=e,c=Df[!n<<1|!r],h):r},h.clamp=function(e){return arguments.length?(n&&r?(f=!!e[0],l=!!e[1]):n?f=!!e:r&&(l=!!e),h):n&&r?[f,l]:n?f:r?l:null},h.extent=function(e){var t,s,f,l,c;if(!arguments.length)return n&&(u?(t=u[0],s=u[1]):(t=i[0],s=i[1],n.invert&&(t=n.invert(t),s=n.invert(s)),s<t&&(c=t,t=s,s=c))),r&&(a?(f=a[0],l=a[1]):(f=o[0],l=o[1],r.invert&&(f=r.invert(f),l=r.invert(l)),l<f&&(c=f,f=l,l=c))),n&&r?[[t,f],[s,l]]:n?[t,s]:r&&[f,l];if(n){t=e[0],s=e[1],r&&(t=t[0],s=s[0]),u=[t,s],n.invert&&(t=n(t),s=n(s)),s<t&&(c=t,t=s,s=c);if(t!=i[0]||s!=i[1])i=[t,s]}if(r){f=e[0],l=e[1],n&&(f=f[1],l=l[1]),a=[f,l],r.invert&&(f=r(f),l=r(l)),l<f&&(c=f,f=l,l=c);if(f!=o[0]||l!=o[1])o=[f,l]}return h},h.clear=function(){return h.empty()||(i=[0,0],o=[0,0],u=a=null),h},h.empty=function(){return!!n&&i[0]==i[1]||!!r&&o[0]==o[1]},e.rebind(h,t,"on")};var _f={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Df=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Pf=$n.format=xr.timeFormat,Hf=Pf.utc,Bf=Hf("%Y-%m-%dT%H:%M:%S.%LZ");Pf.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?jf:Bf,jf.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},jf.toString=Bf.toString,$n.second=Gn(function(e){return new Jn(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()}),$n.seconds=$n.second.range,$n.seconds.utc=$n.second.utc.range,$n.minute=Gn(function(e){return new Jn(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()}),$n.minutes=$n.minute.range,$n.minutes.utc=$n.minute.utc.range,$n.hour=Gn(function(e){var t=e.getTimezoneOffset()/60;return new Jn((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()}),$n.hours=$n.hour.range,$n.hours.utc=$n.hour.utc.range,$n.month=Gn(function(e){return e=$n.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),$n.months=$n.month.range,$n.months.utc=$n.month.utc.range;var qf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Rf=[[$n.second,1],[$n.second,5],[$n.second,15],[$n.second,30],[$n.minute,1],[$n.minute,5],[$n.minute,15],[$n.minute,30],[$n.hour,1],[$n.hour,3],[$n.hour,6],[$n.hour,12],[$n.day,1],[$n.day,2],[$n.week,1],[$n.month,1],[$n.month,3],[$n.year,1]],Uf=Pf.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",ui]]),zf={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(If)},floor:kn,ceil:kn};Rf.year=$n.year,$n.scale=function(){return Ff(e.scale.linear(),Rf,Uf)};var Wf=Rf.map(function(e){return[e[0].utc,e[1]]}),Xf=Hf.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",ui]]);Wf.year=$n.year.utc,$n.scale.utc=function(){return Ff(e.scale.linear(),Wf,Xf)},e.text=Ln(function(e){return e.responseText}),e.json=function(e,t){return An(e,"application/json",Vf,t)},e.html=function(e,t){return An(e,"text/html",$f,t)},e.xml=Ln(function(e){return e.responseXML}),typeof define=="function"&&define.amd?define("d3",e):typeof module=="object"&&module.exports?module.exports=e:this.d3=e}(),define("directives",["angular","services","d3"],function(e,t,n){var r=e.module("postySoft.directives",["postySoft.services"]);r.directive("appVersion",["version",function(e){return function(t,n,r){n.text(e)}}]),r.directive("passwordValidator",[function(){return{require:"ngModel",link:function(e,t,n,r){var i=t.inheritedData("$formController")[n.passwordValidator];r.$parsers.push(function(e){if(e===i.$viewValue)return r.$setValidity("MATCH",!0),e;r.$setValidity("MATCH",!1)}),i.$parsers.push(function(e){return r.$setValidity("MATCH",e===r.$viewValue),e})}}}]),r.directive("focus",function(){return function(e,t,n){n.$observe("focus",function(e){e==="true"&&t[0].focus()})}}),r.directive("barsChart",["$parse",function(e){return{restrict:"E",replace:!0,scope:{data:"=chartData"},link:function(e,t,r){var i=n.select(t[0]);e.$watchCollection("data",function(t,n){i.append("div").attr("class","chart").selectAll("div").data(e.data).enter().append("div").transition().ease("elastic").style("width",function(e){var t=10,n=e.percent+t;return n>=100&&(n=98),n+"%"}).text(function(e){return e.caption})})}}}]),r.directive("dateclick",function(){return{link:function(e,t,n){e.dateIsOpen=!1,e.openCalendar=function(t){t.preventDefault(),t.stopPropagation(),e.dateIsOpen=!e.dateIsOpen}}}}),r.directive("dropdownNoRouteChange",function(){return{link:function(e,t,n){e.dropDownIsOpen=!1,e.openDropDown=function(t){e.dropDownIsOpen=!e.dropDownIsOpen}}}}),r.directive("focusMe",function(e){return{scope:{trigger:"@focusMe"},link:function(t,n){t.$watch("trigger",function(t){t==="true"&&e(function(){n[0].focus()})})}}})}),define("controllers",["angular","services"],function(e,t){var n=e.module("postySoft.controllers",["postySoft.services","postySoft.configurations","ui.bootstrap"]);n.controller("MainCtrl",["$scope","$rootScope","Page","Domains","Servers","SelectServerService","ProcessService","AlertService","CONFIGS",function(e,t,n,r,i,s,o,u,a){var f=function(){var e=s.show();e.result.then(function(e){i.setCurrentServer(e),r.refresh()})};t.init=function(){e=t,e.Page=n,e.ProcessService=o,e.AlertService=u,e.CONFIGS=a,i.moreThanOneServer()?f():r.refresh()},t.postyIcon=function(){r.refresh()},t.changeServer=function(){f()},t.moreThanOneServer=function(){return i.moreThanOneServer()}}]),n.controller("ErrorCtrl",["$scope","Page","ErrorService",function(e,t,n){e.init=function(){t.setTitle("Error")},e.getStatusCode=function(){return n.getStatusCode()},e.getMessage=function(){return n.getMessage()}}]),n.controller("ProcessCtrl",["$scope","ProcessService",function(e,t){}]),n.controller("AlertCtrl",["$scope","AlertService",function(e,t){}]),n.controller("DashboardCtrl",["$scope","Page",function(e,t){t.setTitle("Dashboard")}]),n.controller("NavBarCtrl",["$scope","Domains",function(e,t){e.getDomainList=function(){return t.getList()},e.getCurrentDomain=function(){return t.currentDomain()},e.setCurrentDomainToAll=function(){return t.setCurrentDomain(t.ALL_DOMAINS)},e.setCurrentDomain=function(e){return t.setCurrentDomain(e)}}]),n.factory("DomainData",function(){return{domain:null}}),n.controller("DomainCtrl",["$scope","ModalService","Page","Domains","DomainData",function(e,t,n,r,i){e.init=function(){n.setTitle("Domain")},e.getList=function(){if(!r.allDomainsSelected()){var e=[];return e.push(r.currentDomain()),e}return r.getList()},e.create=function(){var e={templateUrl:"createView.html",resolve:{data:function(){return{name:""}}}},n=t.show(e,{});n.result.then(function(e){var t={name:e.name};r.create(t)})},e.edit=function(e){i.domain=e;var n={templateUrl:"editView.html",resolve:{data:function(){return{domain:e}}}},s={activeTab:"general",tabClick:function(e){this.activeTab=e}},o=t.show(n,s);o.result.then(function(e){r.edit(e.domain)})},e.remove=function(e){var n={actionButtonText:"Confirm",headerText:"Delete domain?",bodyText:'Are you sure you want to delete the domain "'+e.name+'"?'},i=t.show({},n);i.result.then(function(t){r.remove(e)})}}]),n.controller("DomainAliasCtrl",["$scope","DomainAliasses","DomainData",function(e,t,n){var r=function(){e.alias={name:""}};e.init=function(){t.setDomain(n.domain),t.refresh(),r()},e.getList=function(){return t.getList()},e.create=function(e){t.create(e),r()},e.remove=function(e){t.remove(e)}}]),n.controller("TransportCtrl",["$scope","ModalService","Page","Transports",function(e,t,n,r){e.init=function(){n.setTitle("Transport"),r.refresh()},e.getList=function(){return r.getList()},e.create=function(){var e={templateUrl:"createView.html",resolve:{data:function(){return{name:"",destination:""}}}},n=t.show(e,{});n.result.then(function(e){var t={name:e.name,destination:e.destination};r.create(t)})},e.edit=function(e){var n={templateUrl:"editView.html",resolve:{data:function(){return e}}},i={},s=t.show(n,i);s.result.then(function(e){r.edit(e)})},e.remove=function(e){var n={actionButtonText:"Confirm",headerText:"Delete transport?",bodyText:'Are you sure you want to delete the transport "'+e.name+'"?'},i=t.show({},n);i.result.then(function(t){r.remove(e)})}}]),n.factory("UserData",function(){return{domain:null,user:null}}),n.controller("UserCtrl",["$scope","SelectDomainService","ModalService","Page","Users","Domains","UserData",function(e,t,n,r,i,s,o){var u=function(){if(s.currentDomain()===s.ALL_DOMAINS){var e=t.show();e.result.then(function(e){s.setCurrentDomain(e),console.log(e)})}console.log("test"),i.setDomain(s.currentDomain()),i.refresh()},a={update:u,getName:function(){return"UserCtrl"}};e.init=function(){r.setTitle("User"),u(),s.registerCurrentDomainObserver(a)},e.$on("$destroy",function(){s.unregisterCurrentDomainObserver(a)}),e.getList=function(){return i.getList()},e.getDomain=function(){return s.currentDomain()},e.create=function(){var e={templateUrl:"createView.html",resolve:{data:function(){return{user:null,domain:s.currentDomain()}}}},t=n.show(e,{});t.result.then(function(e){var t={name:e.user.name,password:e.user.password,quota:e.user.quota*1024*1024};i.create(t)})},e.edit=function(e){o.domain=s.currentDomain(),o.user=e;var t={templateUrl:"editView.html",resolve:{data:function(){return{user:o.user,domain:o.domain}}}},r={activeTab:"general",tabClick:function(e){this.activeTab=e},passwordChanged:!1,newPasswordKeyPress:function(e){this.passwordChanged=e!=""}},u=n.show(t,r);u.result.then(function(e){i.edit(e.user)})},e.remove=function(e){var t={actionButtonText:"Confirm",headerText:"Delete user?",bodyText:'Are you sure you want to delete the user "'+e.name+'"?'},r=n.show({},t);r.result.then(function(t){i.remove(e)})}}]),n.controller("UserAliasCtrl",["$scope","UserAliasses","UserData",function(e,t,n){var r=function(){e.alias={name:""}};e.init=function(){t.setDomain(n.domain),t.setUser(n.user),t.refresh(),r()},e.getList=function(){return t.getList()},e.create=function(e){t.create(e),r()},e.remove=function(e){t.remove(e)}}]),n.controller("SummaryCtrl",["$scope","Page","Summaries",function(e,t,n){e.init=function(){t.setTitle("Summary"),n.refresh()},e.getList=function(){return n.getList()}}]),n.controller("ApiKeyCtrl",["$scope","ModalService","Page","ApiKeys",function(e,t,n,r){e.init=function(){n.setTitle("ApiKey"),r.refresh()},e.getList=function(){return r.getList()},e.create=function(){var e={templateUrl:"createView.html",resolve:{data:function(){return{name:"",destination:""}}}},n=t.show(e,{});n.result.then(function(e){var t={};r.create(t)})},e.edit=function(e){var n={templateUrl:"editView.html",resolve:{data:function(){return e}}},i={},s=t.show(n,i);s.result.then(function(e){r.edit(e)})},e.remove=function(e){var n={actionButtonText:"Confirm",headerText:"Delete api-key?",bodyText:'Are you sure you want to delete the api-key "'+e.access_token+'"?'},i=t.show({},n);i.result.then(function(t){r.remove(e)})},e.imageName=function(e){return r.isExpired(e)?"api_expired":e.active?"api_valid":"api_inactive"}}])}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function s(e,t,n,r){var i={};return _.each(_.keys(r),function(s){var o=r[s];o.params=_.extend({},o.params,e.defaultRequestParams[o.method.toLowerCase()]),_.isEmpty(o.params)&&delete o.params,e.isSafe(o.method)?i[s]=function(){return t(_.extend(o,{url:n}))}:i[s]=function(e){return t(_.extend(o,{url:n,data:e}))}}),i}e.configuration=t;var n=["get","head","options","trace","getlist"];t.isSafe=function(e){return _.contains(n,e.toLowerCase())};var r=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return _.isUndefined(t.absoluteUrl)||_.isNull(t.absoluteUrl)?e&&r.test(e):t.absoluteUrl},t.absoluteUrl=_.isUndefined(t.absoluteUrl)?!0:t.absoluteUrl,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return _.defaults(n,e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var r=[],i=n||e;return _.isUndefined(n)?r.push("common"):_.isArray(e)?r=e:r.push(e),_.each(r,function(e){t.defaultRequestParams[e]=i}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.jsonp=_.isUndefined(t.jsonp)?!1:t.jsonp,e.setJsonp=function(e){t.jsonp=e},t.isOverridenMethod=function(e,n){var r=n||t.methodOverriders;return!_.isUndefined(_.find(r,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.one]||!!e[t.restangularFields.all]},t.setFieldToElem=function(e,t,n){var r=e.split("."),i=t;return _.each(_.initial(r),function(e){i[e]={},i=i[e]}),i[_.last(r)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),r=t;return _.each(n,function(e){r&&(r=r[e])}),angular.copy(r)},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n,r){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],r=t.isValidId(n)?n:t.getIdFromElem(e);return r},t.responseInterceptors=t.responseInterceptors||[],t.defaultResponseInterceptor=function(e,t,n,r,i,s){return e},t.responseExtractor=function(e,n,r,i,s,o){var u=angular.copy(t.responseInterceptors);u.push(t.defaultResponseInterceptor);var a=e;return _.each(u,function(e){a=e(a,n,r,i,s,o)}),a},e.addResponseInterceptor=function(e){return t.responseInterceptors.push(e),this},e.setResponseInterceptor=e.addResponseInterceptor,e.setResponseExtractor=e.addResponseInterceptor,t.requestInterceptors=t.requestInterceptors||[],t.defaultInterceptor=function(e,t,n,r,i,s,o){return{element:e,headers:i,params:s,httpConfig:o}},t.fullRequestInterceptor=function(e,n,r,i,s,o,u){var a=angular.copy(t.requestInterceptors),f=t.defaultInterceptor(e,n,r,i,s,o,u);return _.reduce(a,function(e,t){return _.extend(e,t(e.element,n,r,i,e.headers,e.params,e.httpConfig))},f)},e.addRequestInterceptor=function(e){return t.requestInterceptors.push(function(t,n,r,i,s,o,u){return{headers:s,params:o,element:e(t,n,r,i),httpConfig:u}}),this},e.setRequestInterceptor=e.addRequestInterceptor,e.addFullRequestInterceptor=function(e){return t.requestInterceptors.push(e),this},e.setFullRequestInterceptor=e.addFullRequestInterceptor,t.errorInterceptor=t.errorInterceptor||function(){},e.setErrorInterceptor=function(e){return t.errorInterceptor=e,this},t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(n,r,i){var s=null,o=null;arguments.length===2?o=r:(o=i,s=r);var u=t.transformers[n];return u||(u=t.transformers[n]=[]),u.push(function(e,t){return _.isNull(s)||e==s?o(t):t}),e},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,r,i,s){if(!s&&!t.transformLocalElements&&!e[t.restangularFields.fromServer])return e;var o=t.transformers[r],u=e;return o&&_.each(o,function(e){u=e(n,u)}),t.onElemRestangularized(u,n,r,i)},t.transformLocalElements=_.isUndefined(t.transformLocalElements)?!1:t.transformLocalElements,e.setTransformOnlyServerElements=function(e){t.transformLocalElements=!e},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var i=function(){};i.prototype.setConfig=function(e){return this.config=e,this},i.prototype.parentsArray=function(e){var t=[];while(e)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},i.prototype.resource=function(e,n,r,i,o,u,a,f){var l=_.defaults(o||{},this.config.defaultRequestParams.common),c=_.defaults(i||{},this.config.defaultHeaders);a&&(t.isSafe(f)?c["If-None-Match"]=a:c["If-Match"]=a);var h=this.base(e);if(u){var p="";/\/$/.test(h)||(p+="/"),p+=u,h+=p}return this.config.suffix&&h.indexOf(this.config.suffix,h.length-this.config.suffix.length)===-1&&!this.config.getUrlFromElem(e)&&(h+=this.config.suffix),e[this.config.restangularFields.httpConfig]=undefined,s(this.config,n,h,{getList:this.config.withHttpValues(r,{method:"GET",params:l,headers:c}),get:this.config.withHttpValues(r,{method:"GET",params:l,headers:c}),jsonp:this.config.withHttpValues(r,{method:"jsonp",params:l,headers:c}),put:this.config.withHttpValues(r,{method:"PUT",params:l,headers:c}),post:this.config.withHttpValues(r,{method:"POST",params:l,headers:c}),remove:this.config.withHttpValues(r,{method:"DELETE",params:l,headers:c}),head:this.config.withHttpValues(r,{method:"HEAD",params:l,headers:c}),trace:this.config.withHttpValues(r,{method:"TRACE",params:l,headers:c}),options:this.config.withHttpValues(r,{method:"OPTIONS",params:l,headers:c}),patch:this.config.withHttpValues(r,{method:"PATCH",params:l,headers:c})})};var o=function(){};o.prototype=new i,o.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,r){var i,s=n.config.getUrlFromElem(r);if(s){if(n.config.isAbsoluteUrl(s))return s;i=s}else{i=r[n.config.restangularFields.route];if(r[n.config.restangularFields.restangularCollection]){var o=r[n.config.restangularFields.ids];o&&(i+="/"+o.join(","))}else{var u;n.config.useCannonicalId?u=n.config.getCannonicalIdFromElem(r):u=n.config.getIdFromElem(r),t.isValidId(u)&&!r.singleOne&&(i+="/"+(n.config.encodeIds?encodeURIComponent(u):u))}}return e.replace(/\/$/,"")+"/"+i},this.config.baseUrl)},o.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},o.prototype.fetchRequestedUrl=function(e,n){function s(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function o(e,t,n){var r=s(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function u(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var r=this.fetchUrl(e,n),i=e[t.restangularFields.reqParams];if(!i)return r;var a=[];return o(i,function(e,t){if(e==null||e==undefined)return;angular.isArray(e)||(e=[e]),angular.forEach(e,function(e){angular.isObject(e)&&(e=angular.toJson(e)),a.push(u(t)+"="+u(e))})}),r+(this.config.suffix||"")+(r.indexOf("?")===-1?"?":"&")+a.join("&")},t.urlCreatorFactory.path=o};var t={};e.init(this,t),this.$get=["$http","$q",function(n,r){function i(t){function u(e,n,r,i,s){n[t.restangularFields.route]=r,n[t.restangularFields.getRestangularUrl]=_.bind(o.fetchUrl,o,n),n[t.restangularFields.getRequestedUrl]=_.bind(o.fetchRequestedUrl,o,n),n[t.restangularFields.addRestangularMethod]=_.bind(q,n),n[t.restangularFields.clone]=_.bind(b,n,n),n[t.restangularFields.reqParams]=_.isEmpty(i)?null:i,n[t.restangularFields.withHttpConfig]=_.bind(k,n),n[t.restangularFields.plain]=_.bind(g,n,n),n[t.restangularFields.one]=_.bind(a,n,n),n[t.restangularFields.all]=_.bind(f,n,n),n[t.restangularFields.several]=_.bind(l,n,n),n[t.restangularFields.oneUrl]=_.bind(c,n,n),n[t.restangularFields.allUrl]=_.bind(h,n,n),n[t.restangularFields.fromServer]=!!s;if(e&&t.shouldSaveParent(r)){var u=t.getIdFromElem(e),p=t.getUrlFromElem(e),d=_.union(_.values(_.pick(t.restangularFields,["route","singleOne","parentResource"])),t.extraFields),v=_.pick(e,d);t.isValidId(u)&&t.setIdToElem(v,u),t.isValidId(p)&&t.setUrlToElem(v,p),n[t.restangularFields.parentResource]=v}else n[t.restangularFields.parentResource]=null;return n}function a(e,n,r,i){if(_.isNumber(n)||_.isNumber(e)){var s="You're creating a Restangular entity with the number ";throw s+="instead of the route or the parent. You can't call .one(12)",new Error(s)}var o={};return t.setIdToElem(o,r),t.setFieldToElem(t.restangularFields.singleOne,o,i),w(e,o,n,!1)}function f(e,t){return E(e,[],t,!1)}function l(e,n,r){var i=[];return i[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),E(e,i,n,!1)}function c(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),w(e,i,n,!1)}function h(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),E(e,i,n,!1)}function p(e,n,r){return e.call=_.bind(d,e),e.get=_.bind(v,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=_.bind(d,e,"push")),e.$object=r,e}function d(e){var n=r.defer(),i=arguments,s={};return this.then(function(t){var r=Array.prototype.slice.call(i,1),o=t[e];o.apply(t,r),s=t,n.resolve(t)}),p(n.promise,this[t.restangularFields.restangularCollection],s)}function v(e){var n=r.defer(),i={};return this.then(function(t){i=t[e],n.resolve(i)}),p(n.promise,this[t.restangularFields.restangularCollection],i)}function m(e,n,r,i){_.extend(i,r);if(t.fullResponse)return e.resolve(_.extend(n,{data:r}));e.resolve(r)}function g(e){if(_.isArray(e)){var n=[];return _.each(e,function(e){n.push(g(e))}),n}return _.omit(e,_.values(_.omit(t.restangularFields,"id")))}function y(e){e[t.restangularFields.customOperation]=_.bind(I,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var r=t==="delete"?"remove":t,i=n+t.toUpperCase(),s;r!=="put"&&r!=="post"?s=I:s=function(e,t,n,r,i){return _.bind(I,this)(e,n,r,i,t)},e[i]=_.bind(s,e,r)})}),e[t.restangularFields.customGETLIST]=_.bind(C,e),e[t.restangularFields.doGETLIST]=e[t.restangularFields.customGETLIST]}function b(e,n){var r=angular.copy(e,n);return w(r[t.restangularFields.parentResource],r,r[t.restangularFields.route],!0)}function w(e,n,r,i,o,a){var f=t.onBeforeElemRestangularized(n,!1,r),l=u(e,f,r,a,i);return t.useCannonicalId&&(l[t.restangularFields.cannonicalId]=t.getIdFromElem(l)),o&&(l[t.restangularFields.getParentList]=function(){return o}),l[t.restangularFields.restangularCollection]=!1,l[t.restangularFields.get]=_.bind(O,l),l[t.restangularFields.getList]=_.bind(C,l),l[t.restangularFields.put]=_.bind(D,l),l[t.restangularFields.post]=_.bind(P,l),l[t.restangularFields.remove]=_.bind(M,l),l[t.restangularFields.head]=_.bind(H,l),l[t.restangularFields.trace]=_.bind(B,l),l[t.restangularFields.options]=_.bind(j,l),l[t.restangularFields.patch]=_.bind(F,l),l[t.restangularFields.save]=_.bind(L,l),y(l),t.transformElem(l,!1,r,s,!0)}function E(e,n,r,i,o){var a=t.onBeforeElemRestangularized(n,!0,r),f=u(e,a,r,o,i);return f[t.restangularFields.restangularCollection]=!0,f[t.restangularFields.post]=_.bind(P,f,null),f[t.restangularFields.remove]=_.bind(M,f),f[t.restangularFields.head]=_.bind(H,f),f[t.restangularFields.trace]=_.bind(B,f),f[t.restangularFields.putElement]=_.bind(T,f),f[t.restangularFields.options]=_.bind(j,f),f[t.restangularFields.patch]=_.bind(F,f),f[t.restangularFields.get]=_.bind(x,f),f[t.restangularFields.getList]=_.bind(C,f,null),y(f),t.transformElem(f,!0,r,s,!0)}function S(e,t,n){var r=E(e,t,n,!1);return _.each(r,function(t){w(e,t,n,!1)}),r}function x(e,t,n){return this.customGET(e.toString(),t,n)}function T(e,n,i){var o=this,u=this[e],a=r.defer(),f=[];return f=t.transformElem(f,!0,u[t.restangularFields.route],s),u.put(n,i).then(function(t){var n=b(o);n[e]=t,f=n,a.resolve(n)},function(e){a.reject(e)}),p(a.promise,!0,f)}function N(e,n,r,i,s,o){var u=t.responseExtractor(e,n,r,i,s,o),a=s.headers("ETag");return u&&a&&(u[t.restangularFields.etag]=a),u}function C(e,i,u){var a=this,f=r.defer(),l="getList",c=o.fetchUrl(this,e),h=e||a[t.restangularFields.route],d=t.fullRequestInterceptor(null,l,h,c,u||{},i||{},this[t.restangularFields.httpConfig]||{}),v=[];v=t.transformElem(v,!0,h,s);var g="getList";return t.jsonp&&(g="jsonp"),o.resource(this,n,d.httpConfig,d.headers,d.params,e,this[t.restangularFields.etag],l)[g]().then(function(n){var r=n.data,i=n.config.params,s=N(r,l,h,c,n,f);if(_.isUndefined(s)||""===s)s=[];if(!_.isArray(s))throw new Error("Response for getList SHOULD be an array and not an object or something else");var o=_.map(s,function(n){return a[t.restangularFields.restangularCollection]?w(a[t.restangularFields.parentResource],n,a[t.restangularFields.route],!0,s):w(a,n,e,!0,s)});o=_.extend(s,o),a[t.restangularFields.restangularCollection]?m(f,n,E(a[t.restangularFields.parentResource],o,a[t.restangularFields.route],!0,i),v):m(f,n,E(a,o,e,!0,i),v)},function(n){n.status===304&&a[t.restangularFields.restangularCollection]?m(f,n,a,v):t.errorInterceptor(n,f)!==!1&&f.reject(n)}),p(f.promise,!0,v)}function k(e){return this[t.restangularFields.httpConfig]=e,this}function L(e,n){return this[t.restangularFields.fromServer]?this[t.restangularFields.put](e,n):_.bind(A,this)("post",undefined,e,undefined,n)}function A(e,i,u,a,f){var l=this,c=r.defer(),h=u||{},d=i||this[t.restangularFields.route],v=o.fetchUrl(this,i),y=a||this,b=y[t.restangularFields.etag]||(e!="post"?this[t.restangularFields.etag]:null);_.isObject(y)&&t.isRestangularized(y)&&(y=g(y));var E=t.fullRequestInterceptor(y,e,d,v,f||{},h||{},this[t.restangularFields.httpConfig]||{}),S={};S=t.transformElem(S,!1,d,s);var x=function(n){var r=n.data,s=n.config.params,o=N(r,e,d,v,n,c);o?e==="post"&&!l[t.restangularFields.restangularCollection]?m(c,n,w(l,o,i,!0,null,s),S):(data=w(l[t.restangularFields.parentResource],o,l[t.restangularFields.route],!0,null,s),data[t.restangularFields.singleOne]=l[t.restangularFields.singleOne],m(c,n,data,S)):m(c,n,undefined,S)},T=function(n){n.status===304&&t.isSafe(e)?m(c,n,l,S):t.errorInterceptor(n,c)!==!1&&c.reject(n)},C=e,k=_.extend({},E.headers),L=t.isOverridenMethod(e);return L?(C="post",k=_.extend(k,{"X-HTTP-Method-Override":e==="remove"?"DELETE":e})):t.jsonp&&C==="get"&&(C="jsonp"),t.isSafe(e)?L?o.resource(this,n,E.httpConfig,k,E.params,i,b,C)[C]({}).then(x,T):o.resource(this,n,E.httpConfig,k,E.params,i,b,C)[C]().then(x,T):o.resource(this,n,E.httpConfig,k,E.params,i,b,C)[C](E.element).then(x,T),p(c.promise,!1,S)}function O(e,t){return _.bind(A,this)("get",undefined,e,undefined,t)}function M(e,t){return _.bind(A,this)("remove",undefined,e,undefined,t)}function D(e,t){return _.bind(A,this)("put",undefined,e,undefined,t)}function P(e,t,n,r){return _.bind(A,this)("post",e,n,t,r)}function H(e,t){return _.bind(A,this)("head",undefined,e,undefined,t)}function B(e,t){return _.bind(A,this)("trace",undefined,e,undefined,t)}function j(e,t){return _.bind(A,this)("options",undefined,e,undefined,t)}function F(e,t,n){return _.bind(A,this)("patch",undefined,t,e,n)}function I(e,t,n,r,i){return _.bind(A,this)(e,t,n,i,r)}function q(e,n,r,i,s,o){var u;n==="getList"?u=_.bind(C,this,r):u=_.bind(I,this,n,r);var a=function(e,t,n){var r=_.defaults({params:e,headers:t,elem:n},{params:i,headers:s,elem:o});return u(r.params,r.headers,r.elem)};t.isSafe(n)?this[e]=a:this[e]=function(e,t,n){return a(t,n,e)}}function R(n){var r=angular.copy(_.omit(t,"configuration"));return e.init(r,r),n(r),i(r)}function U(e,t){var n={},r=(t||s).all(e);return n.one=_.bind(a,t||s,t,e),n.post=_.bind(r.post,r),n.getList=_.bind(r.getList,r),n}var s={},o=new t.urlCreatorFactory[t.urlCreator];return o.setConfig(t),e.init(s,t),s.copy=_.bind(b,s),s.service=_.bind(U,s),s.withConfig=_.bind(R,s),s.one=_.bind(a,s,null),s.all=_.bind(f,s,null),s.several=_.bind(l,s,null),s.oneUrl=_.bind(c,s,null),s.allUrl=_.bind(h,s,null),s.stripRestangular=_.bind(g,s),s.restangularizeElement=_.bind(w,s),s.restangularizeCollection=_.bind(S,s),s}return i(t)}]})}(),define("restangular",["underscore","angular"],function(){}),define("models",["angular","restangular"],function(e,t){var n=e.module("postySoft.models",["postySoft.services"]),r=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t=t+". "+e[n]);return t.substr(2,t.length)+"."};n.factory("Domains",["Restangular","AlertService",function(t,n){var i={name:"all Domains"},s=i,o=[],u=[],a=[],f=function(){for(var e=0;e<a.length;e++)a[e].update()},l=function(e){for(var t=0;t<a.length;t++)if(a[t].getName()===e.getName())return!0;return!1},c=function(){o=[],u=[];var n=t.all("domains");n.getList().then(function(t){for(var n=0;n<t.length;n++)u.push(e.copy(t[n])),o.push(t[n].virtual_domain)})},h=function(e){for(var t=0;t<u.length;t++)if(u[t].virtual_domain.id==e)return u[t].virtual_domain};return{ALL_DOMAINS:i,isValid:function(e){return e&&e!=i},allDomainsSelected:function(){return s==i},currentDomain:function(){return s},setCurrentDomain:function(e){e!=s&&(s=e,f())},create:function(e){var o=t.all("domains");o.post(e).then(function(t){var r="New domain created: "+e.name;n.addAlert("success",r),s=i,c()},function(t){var i="There was an error saving the domain "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i)})},edit:function(e){var i=h(e.id),s=t.one("domains",i.name);s.name=e.name,s.put().then(function(t){var r="Domain "+e.name+" updated!";n.addAlert("success",r),c()},function(t){var i="There was an error updating the domain "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i),c()})},remove:function(e){var o=t.one("domains",e.name);o.remove().then(function(t){var r="Domain "+e.name+" deleted!";n.addAlert("success",r),e==s&&(s=i),c()},function(t){var i="There was an error deleting the domain "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i)})},getList:function(){return o},refresh:function(){c()},registerCurrentDomainObserver:function(e){l(e)||a.push(e)},unregisterCurrentDomainObserver:function(e){var t=a.indexOf(e);t>-1&&a.splice(t,1)}}}]),n.factory("DomainAliasses",["Restangular","AlertService","Domains",function(e,t,n){var i=[],s=null,o=function(){i=[],n.isValid(s)&&e.one("domains",s.name).all("aliases").getList().then(function(e){for(var t=0;t<e.length;t++)i.push(e[t].virtual_domain_alias)})};return{setDomain:function(e){s!=e&&(s=e)},getDomain:function(){return s},create:function(n){var i=e.one("domains",s.name).all("aliases");i.post(n).then(function(e){var r="New domain alias created: "+n.name;t.addAlert("success",r),o()},function(e){var i="There was an error saving the domain alias "+n.name+": \n"+r(e.data.error);t.addAlert("danger",i)})},remove:function(n){var i=e.one("domains",s.name).one("aliases",n.name);i.remove().then(function(e){var r="Domain alias "+n.name+" deleted!";t.addAlert("success",r),o()},function(e){var i="There was an error deleting the domain alias "+n.name+": \n"+r(e.data.error);t.addAlert("danger",i)})},getList:function(){return i},refresh:function(){o()}}}]),n.factory("Transports",["Restangular","AlertService",function(t,n){var i=[],s=[],o=function(){i=[],s=[],t.all("transports").getList().then(function(t){for(var n=0;n<t.length;n++)s.push(e.copy(t[n])),i.push(t[n].virtual_transport)})},u=function(e){for(var t=0;t<s.length;t++)if(s[t].virtual_transport.id==e)return s[t].virtual_transport};return{create:function(e){var i=t.all("transports");i.post(e).then(function(t){var r="New transport created: "+e.name;n.addAlert("success",r),o()},function(t){var i="There was an error saving the transport "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i)})},edit:function(e){var i=u(e.id),s=t.one("transports",i.name);s.name=e.name,s.destination=e.destination,s.put().then(function(t){var r="Transport "+e.name+" updated!";n.addAlert("success",r),o()},function(t){var i="There was an error updating the transport "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i),o()})},remove:function(e){var i=t.one("transports",e.name);i.remove().then(function(t){var r="Transport "+e.name+" deleted!";n.addAlert("success",r),o()},function(t){var i="There was an error deleting the transport "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i)})},getList:function(){return i},refresh:function(){o()}}}]),n.factory("Users",["Restangular","AlertService","Domains",function(t,n,i){var s=[],o=[],u=null,a=function(){s=[],o=[],i.isValid(u)&&t.one("domains",u.name).all("users").getList().then(function(t){for(var n=0;n<t.length;n++)o.push(e.copy(t[n])),s.push(t[n].virtual_user)})},f=function(e){for(var t=0;t<o.length;t++)if(o[t].virtual_user.id==e)return o[t].virtual_user};return{isValid:function(e){return e!=null},setDomain:function(e){u!=e&&(u=e)},getDomain:function(){return u},create:function(e){var i=t.one("domains",u.name).all("users");i.post(e).then(function(t){var r="New user created: "+e.name;n.addAlert("success",r),a()},function(t){var i="There was an error saving the user "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i)})},edit:function(e){var i=f(e.id),s=t.one("domains",u.name).one("users",i.name);s.name=e.name,s.quota=e.quota,e.password!=s.password&&(s.password=e.password),s.put().then(function(t){var r="User "+e.name+" updated!";n.addAlert("success",r),a()},function(t){var i="There was an error updating the user "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i),a()})},remove:function(e){var i=t.one("domains",u.name).one("users",e.name);i.remove().then(function(t){var r="User "+e.name+" deleted!";n.addAlert("success",r),a()},function(t){var i="There was an error deleting the user "+e.name+": \n"+r(t.data.error);n.addAlert("danger",i)})},getList:function(){return s},refresh:function(){a()}}}]),n.factory("UserAliasses",["Restangular","AlertService","Domains","Users",function(e,t,n,i){var s=[],o=null,u=null,a=function(){s=[],n.isValid(o)&&i.isValid(u)&&e.one("domains",o.name).one("users",u.name).all("aliases").getList().then(function(e){for(var t=0;t<e.length;t++)s.push(e[t].virtual_user_alias)})};return{setDomain:function(e){o!=e&&(o=e)},getDomain:function(){return o},setUser:function(e){u!=e&&(u=e)},getUser:function(){return u},create:function(n){var i=e.one("domains",o.name).one("users",u.name).all("aliases");i.post(n).then(function(e){var r="New user alias created: "+n.name;t.addAlert("success",r),a()},function(e){var i="There was an error saving the user alias "+n.name+": \n"+r(e.data.error);t.addAlert("danger",i)})},remove:function(n){var i=e.one("domains",o.name).one("users",u.name).one("aliases",n.name);i.remove().then(function(e){var r="User alias "+n.name+" deleted!";t.addAlert("success",r),a()},function(e){var i="There was an error deleting the user alias "+n.name+": \n"+r(e.data.error);t.addAlert("danger",i)})},getList:function(){return s},refresh:function(){a()}}}]),n.factory("Summaries",["Restangular",function(t){var n=[],r=function(){n=[],t.all("summary").getList().then(function(t){e.forEach(t,function(e){var t=new Object;t.value=e.count,t.percent=e.count,t.name=e.name,t.caption=e.name+": "+e.count.toFixed(0),n.push(t)})})};return{getList:function(){return n},refresh:function(){r()}}}]),n.factory("ApiKeys",["Restangular","AlertService",function(t,n){var i=[],s=[],o=function(){i=[],s=[],t.all("api_keys").getList().then(function(t){for(var n=0;n<t.length;n++)s.push(e.copy(t[n])),i.push(t[n].api_key)})},u=function(e){for(var t=0;t<s.length;t++)if(s[t].api_key.id==e)return s[t].api_key};return{create:function(e){var i=t.all("api_keys");i.post(e).then(function(e){var t="New api-key created: "+e.apiKey.access_token;n.addAlert("success",t),o()},function(e){var t="There was an error saving the api-key "+e.apiKey.access_token+": \n"+r(e.data.error);n.addAlert("danger",t)})},edit:function(e){var i=t.one("api_keys",e.access_token);i.expires_at=e.expires_at,i.active=Number(e.active),i.put().then(function(t){var r="Api-key "+e.access_token+" updated!";n.addAlert("success",r),o()},function(t){var i="There was an error updating the api-key "+e.access_token+": \n"+r(t.data.error);n.addAlert("danger",i),o()})},remove:function(e){var i=t.one("api_keys",e.access_token);i.remove().then(function(t){var r="Api-key "+e.access_token+" deleted!";n.addAlert("success",r),o()},function(t){var i="There was an error deleting the api-key "+e.access_token+": \n"+r(t.data.error);n.addAlert("danger",i)})},getList:function(){return i},refresh:function(){o()},isExpired:function(e){var t=new Date,n=new Date(e.expires_at);return n-t<0}}}])}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.12",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!../settings.json",[],function(){return'{\r\n    "servers": [\r\n        {\r\n            "caption": "posty server 1",\r\n            "url": "http://posty-api-development.herokuapp.com/api/v1",\r\n            "key": "123456"\r\n        }, \r\n		{\r\n            "caption": "posty server 2",\r\n            "url": "http://posty-api-development.herokuapp.com/api/v1",\r\n            "key": "123457"\r\n        },\r\n		{\r\n            "caption": "posty server 3",\r\n            "url": "http://posty-api-development.herokuapp.com/api/1",\r\n            "key": "123456"\r\n        }\r\n    ]\r\n}'}),define("conf",["angular","text!../settings.json"],function(e,t){var n=JSON.parse(t),r=e.module("postySoft.configurations",["postySoft.services","ui.bootstrap"]);r.run(["Restangular","ProcessService","ResponseHandler","Servers",function(t,r,i,s){t.addRequestInterceptor(function(e,t,n,i){return r.register(),e}),t.addResponseInterceptor(function(e,t,n,s,o,u){return i.add(o),r.unregister(),e}),t.setErrorInterceptor(function(e){return i.add(e),r.unregister(),!0}),e.forEach(n.servers,function(e){s.add(e)});if(!s.moreThanOneServer()){var o=s.getList()[0];s.setCurrentServer(o)}}]),r.config(["datepickerConfig","datepickerPopupConfig","CONFIGS",function(e,t,n){e.minDate=null,e.maxDate=null,e.startingDay=1,e.initDate=new Date,t.datepickerPopup=n.DATE_FORMAT}]),r.constant("CONFIGS",{DATE_FORMAT:"dd.MM.yyyy",API_DATE_FORMAT:"yyyy-MM-dd HH:mm:ss"}),r.constant("SETTINGS2",JSON.parse(t)),window.setTimeout(function(){window.console&&console.info&&console.info("You want to actively co-develop posty?\n Go on http://www.posty-soft.org")},5e3)}),function(e,t,n){function i(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var s=r==="?"?r:null,o=r==="*"?r:null;return i.push({name:n,optional:!!s}),t=t||"",""+(s?"":t)+"(?:"+(s?t:"")+(o&&"(.+?)"||"([^/]+)")+(s||"")+")"+(s||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var n={};this.when=function(e,i){n[e]=t.extend({reloadOnSearch:!0},i,e&&r(e,i));if(e){var s=e[e.length-1]=="/"?e.substr(0,e.length-1):e+"/";n[s]=t.extend({redirectTo:e},r(s,i))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(r,i,s,o,u,a,f,l){function p(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var s=1,o=i.length;s<o;++s){var u=n[s-1],a="string"==typeof i[s]?decodeURIComponent(i[s]):i[s];u&&a&&(r[u.name]=a)}return r}function d(){var e=v(),n=h.current;if(e&&n&&e.$$route===n.$$route&&t.equals(e.pathParams,n.pathParams)&&!e.reloadOnSearch&&!c)n.params=e.params,t.copy(n.params,s),r.$broadcast("$routeUpdate",n);else if(e||n)c=!1,r.$broadcast("$routeChangeStart",e,n),h.current=e,e&&e.redirectTo&&(t.isString(e.redirectTo)?i.path(m(e.redirectTo,e.params)).search(e.params).replace():i.url(e.redirectTo(e.pathParams,i.path(),i.search())).replace()),o.when(e).then(function(){if(e){var n=t.extend({},e.resolve),r,i;return t.forEach(n,function(e,r){n[r]=t.isString(e)?u.get(e):u.invoke(e)}),t.isDefined(r=e.template)?t.isFunction(r)&&(r=r(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),i=l.getTrustedResourceUrl(i),t.isDefined(i)&&(e.loadedTemplateUrl=i,r=a.get(i,{cache:f}).then(function(e){return e.data}))),t.isDefined(r)&&(n.$template=r),o.all(n)}}).then(function(i){e==h.current&&(e&&(e.locals=i,t.copy(e.params,s)),r.$broadcast("$routeChangeSuccess",e,n))},function(t){e==h.current&&r.$broadcast("$routeChangeError",e,n,t)})}function v(){var r,s;return t.forEach(n,function(n,o){!s&&(r=p(i.path(),n))&&(s=e(n,{params:t.extend({},i.search(),r),pathParams:r}),s.$$route=n)}),s||n[null]&&e(n[null],{params:{},pathParams:{}})}function m(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(t===0)r.push(e);else{var i=e.match(/(\w+)(.*)/),s=i[1];r.push(n[s]),r.push(i[2]||""),delete n[s]}}),r.join("")}var c=!1,h={routes:n,reload:function(){c=!0,r.$evalAsync(d)}};return r.$on("$locationChangeSuccess",d),h}]}function s(){this.$get=function(){return{}}}function o(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,s,o,u,a){function d(){c&&(c.remove(),c=null),f&&(f.$destroy(),f=null),l&&(r.leave(l,function(){c=null}),c=l,l=null)}function v(){var o=e.current&&e.current.locals,u=o&&o.$template;if(t.isDefined(u)){var c=i.$new(),v=e.current,m=a(c,function(e){r.enter(e,null,l||s,function(){t.isDefined(h)&&(!h||i.$eval(h))&&n()}),d()});l=m,f=v.scope=c,f.$emit("$viewContentLoaded"),f.$eval(p)}else d()}var f,l,c,h=o.autoscroll,p=o.onload||"";i.$on("$routeChangeSuccess",v),v()}}}function u(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var s=n.current,o=s.locals;i.html(o.$template);var u=e(i.contents());if(s.controller){o.$scope=r;var a=t(s.controller,o);s.controllerAs&&(r[s.controllerAs]=a),i.data("$ngControllerController",a),i.children().data("$ngControllerController",a)}u(r)}}}var r=t.module("ngRoute",["ng"]).provider("$route",i);r.provider("$routeParams",s),r.directive("ngView",o),r.directive("ngView",u),o.$inject=["$route","$anchorScroll","$animate"],u.$inject=["$compile","$controller","$route"]}(window,window.angular),define("angularRoute",function(){}),define("app",["angular","services","directives","controllers","models","conf","angularRoute"],function(e){return e.module("postySoft",["ngRoute","restangular","postySoft.controllers","postySoft.models","postySoft.services","postySoft.directives","postySoft.configurations"])}),define("routes",["angular","app"],function(e,t){return t.config(["$routeProvider",function(e){e.when("/view_dashboard",{templateUrl:"partials/partial_dashboard.html",controller:"DashboardCtrl"}),e.when("/view_domain",{templateUrl:"partials/partial_domain.html",controller:"DomainCtrl"}),e.when("/view_transport",{templateUrl:"partials/partial_transport.html",controller:"TransportCtrl"}),e.when("/view_user",{templateUrl:"partials/partial_user.html",controller:"UserCtrl"}),e.when("/view_summary",{templateUrl:"partials/partial_summary.html",controller:"SummaryCtrl"}),e.when("/view_apikey",{templateUrl:"partials/partial_apikey.html",controller:"ApiKeyCtrl"}),e.when("/error",{templateUrl:"partials/partial_error.html",controller:"ErrorCtrl"}),e.otherwise({redirectTo:"/view_dashboard"})}])}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function u(e){for(var t in e)if(i.style[t]!==undefined)return e[t]}var r=function(i,s,o){o=o||{};var u=e.defer(),a=r[o.animation?"animationEndEventName":"transitionEndEventName"],f=function(e){n.$apply(function(){i.unbind(a,f),u.resolve(i)})};return a&&i.bind(a,f),t(function(){angular.isString(s)?i.addClass(s):angular.isFunction(s)?s(i):angular.isObject(s)&&i.css(s),a||u.resolve(i)}),u.promise.cancel=function(){a&&i.unbind(a,f),u.reject("Transition cancelled")},u.promise},i=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},o={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=u(s),r.animationEndEventName=u(o),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,r){function o(t){function i(){s===r&&(s=undefined)}var r=e(n,t);return s&&s.cancel(),s=r,r.then(i,i),r}function u(){i?(i=!1,a()):(n.removeClass("collapse").addClass("collapsing"),o({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function f(){if(i)i=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});var e=n[0].offsetWidth;n.removeClass("collapse in").addClass("collapsing"),o({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var i=!0,s;t.$watch(r.collapse,function(e){e?f():u()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(n){t.html(n||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){s.$setViewValue(r?null:e.$eval(n.btnRadio)),s.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function o(){return a(n.btnCheckboxTrue,!0)}function u(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,o()))},t.bind(i.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(i.activeClass)?u():o()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(e,t,n){function f(){l();var n=+e.interval;!isNaN(n)&&n>=0&&(o=t(c,n))}function l(){o&&(t.cancel(o),o=null)}function c(){u?(e.next(),f()):e.pause()}var r=this,i=r.slides=e.slides=[],s=-1,o,u;r.currentSlide=null;var a=!1;r.select=e.select=function(o,u){function c(){if(a)return;if(r.currentSlide&&angular.isString(u)&&!e.noTransition&&o.$element){o.$element.addClass(u);var t=o.$element[0].offsetWidth;angular.forEach(i,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(o,{direction:u,active:!0,entering:!0}),angular.extend(r.currentSlide||{},{direction:u,leaving:!0}),e.$currentTransition=n(o.$element,{}),function(t,n){e.$currentTransition.then(function(){h(t,n)},function(){h(t,n)})}(o,r.currentSlide)}else h(o,r.currentSlide);r.currentSlide=o,s=l,f()}function h(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var l=i.indexOf(o);u===undefined&&(u=l>s?"next":"prev"),o&&o!==r.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},e.$on("$destroy",function(){a=!0}),r.indexOfSlide=function(e){return i.indexOf(e)},e.next=function(){var t=(s+1)%i.length;if(!e.$currentTransition)return r.select(i[t],"next")},e.prev=function(){var t=s-1<0?i.length-1:s-1;if(!e.$currentTransition)return r.select(i[t],"prev")},e.isActive=function(e){return r.currentSlide===e},e.$watch("interval",f),e.$on("$destroy",l),e.play=function(){u||(u=!0,f())},e.pause=function(){e.noPause||(u=!1,l())},r.addSlide=function(t,n){t.$element=n,i.push(t),i.length===1||t.active?(r.select(i[i.length-1]),i.length==1&&e.play()):t.active=!1},r.removeSlide=function(e){var t=i.indexOf(e);i.splice(t,1),i.length>0&&e.active?t>=i.length?r.select(i[t-1]):r.select(i[t]):s>t&&s--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function r(e,t,n){return t===1&&n>28?n===29&&(e%4===0&&e%100!==0||e%400===0):t===3||t===5||t===8||t===10?n<31:!0}this.parsers={};var n={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.createParser=function(e){var r=[],i=e.split("");return angular.forEach(n,function(t,n){var s=e.indexOf(n);if(s>-1){e=e.split(""),i[s]="("+t.regex+")",e[s]="$";for(var o=s+1,u=s+n.length;o<u;o++)i[o]="",e[o]="$";e=e.join(""),r.push({index:s,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(r,"index")}},this.parse=function(t,n){if(!angular.isString(t))return t;n=e.DATETIME_FORMATS[n]||n,this.parsers[n]||(this.parsers[n]=this.createParser(n));var i=this.parsers[n],s=i.regex,o=i.map,u=t.match(s);if(u&&u.length){var a={year:1900,month:0,date:1,hours:0},f;for(var l=1,c=u.length;l<c;l++){var h=o[l-1];h.apply&&h.apply.call(a,u[l])}return r(a.year,a.month,a.date)&&(f=new Date(a.year,a.month,a.date,a.hours)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return(n(e,"position")||"static")==="static"}var i=function(t){var n=e[0],i=t.offsetParent||n;while(i&&i!==n&&r(i))i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},s=i(t[0]);s!=e[0]&&(r=this.offset(angular.element(s)),r.top+=s.clientTop-s.scrollTop,r.left+=s.clientLeft-s.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i=n.split("-"),s=i[0],o=i[1]||"center",u,a,f,l;u=r?this.offset(e):this.position(e),a=t.prop("offsetWidth"),f=t.prop("offsetHeight");var c={center:function(){return u.left+u.width/2-a/2},left:function(){return u.left},right:function(){return u.left+u.width}},h={center:function(){return u.top+u.height/2-f/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(s){case"right":l={top:h[o](),left:c[s]()};break;case"left":l={top:h[o](),left:u.left-a};break;case"bottom":l={top:h[s](),left:c[o]()};break;default:l={top:u.top-f,left:c[o]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,s,o,u){var a=this,f={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){a[n]=angular.isDefined(t[n])?i<8?r(t[n])(e.$parent):e.$parent.$eval(t[n]):u[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){a[r]=e?new Date(e):null,a.refreshView()}):a[r]=u[r]?new Date(u[r]):null}),e.datepickerMode=e.datepickerMode||u.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(Math.random()*1e4),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return a.compare(t.date,a.activeDate)===0?(e.activeDateId=t.uid,!0):!1},this.init=function(e){f=e,f.$render=function(){a.render()}},this.render=function(){if(f.$modelValue){var e=new Date(f.$modelValue),t=!isNaN(e);t?this.activeDate=e:s.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),f.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=f.$modelValue?new Date(f.$modelValue):null;f.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=f.$modelValue?new Date(f.$modelValue):null;return{date:e,label:o(e,t),selected:n&&this.compare(e,n)===0,disabled:this.isDisabled(e),current:this.compare(e,new Date)===0}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){var n=[];while(e.length>0)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===a.minMode){var n=f.$modelValue?new Date(f.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),f.$setViewValue(n),f.$render()}else a.activeDate=t,e.datepickerMode=a.modes[a.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=a.activeDate.getFullYear()+e*(a.step.years||0),n=a.activeDate.getMonth()+e*(a.step.months||0);a.activeDate.setFullYear(t,n,1),a.refreshView()},e.toggleMode=function(t){t=t||1;if(e.datepickerMode===a.maxMode&&t===1||e.datepickerMode===a.minMode&&t===-1)return;e.datepickerMode=a.modes[a.modes.indexOf(e.datepickerMode)+t]},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){i(function(){a.element[0].focus()},0,!1)};e.$on("datepicker.focus",l),e.keydown=function(t){var n=e.keys[t.which];if(!n||t.shiftKey||t.altKey)return;t.preventDefault(),t.stopPropagation();if(n==="enter"||n==="space"){if(a.isDisabled(a.activeDate))return;e.select(a.activeDate),l()}else!t.ctrlKey||n!=="up"&&n!=="down"?(a.handleKeyDown(n,t),a.refreshView()):(e.toggleMode(n==="up"?1:-1),l())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],s=r[1];s&&i.init(s)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function o(e,t){return t!==1||e%4!==0||e%100===0&&e%400!==0?s[t]:29}function u(e,t){var n=new Array(t),r=new Date(e),i=0;r.setHours(12);while(i<t)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function a(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var s=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),s=new Date(n,r,1),o=i.startingDay-s.getDay(),f=o>0?7-o:-o,l=new Date(s);f>0&&l.setDate(-f+1);var c=u(l,42);for(var h=0;h<42;h++)c[h]=angular.extend(i.createDateObject(c[h],i.formatDay),{secondary:c[h].getMonth()!==r,uid:t.uniqueId+"-"+h});t.labels=new Array(7);for(var p=0;p<7;p++)t.labels[p]={abbr:e(c[p].date,i.formatDayHeader),full:e(c[p].date,"EEEE")};t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(c,7);if(t.showWeeks){t.weekNumbers=[];var d=a(t.rows[0][0].date),v=t.rows.length;while(t.weekNumbers.push(d++)<v);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if(e==="left")n-=1;else if(e==="up")n-=7;else if(e==="right")n+=1;else if(e==="down")n+=7;else if(e==="pageup"||e==="pagedown"){var r=i.activeDate.getMonth()+(e==="pageup"?-1:1);i.activeDate.setMonth(r,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else e==="home"?n=1:e==="end"&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){var n=new Array(12),r=i.activeDate.getFullYear();for(var s=0;s<12;s++)n[s]=angular.extend(i.createDateObject(new Date(r,s,1),i.formatMonth),{uid:t.uniqueId+"-"+s});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if(e==="left")n-=1;else if(e==="up")n-=3;else if(e==="right")n+=1;else if(e==="down")n+=3;else if(e==="pageup"||e==="pagedown"){var r=i.activeDate.getFullYear()+(e==="pageup"?-1:1);i.activeDate.setFullYear(r)}else e==="home"?n=0:e==="end"&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function s(e){return parseInt((e-1)/i,10)*i+1}var i=r.yearRange;r.step={years:i},r.element=t,r._refreshView=function(){var t=new Array(i);for(var n=0,o=s(r.activeDate.getFullYear());n<i;n++)t[n]=angular.extend(r.createDateObject(new Date(o+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[i-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e,t){var n=r.activeDate.getFullYear();e==="left"?n-=1:e==="up"?n-=5:e==="right"?n+=1:e==="down"?n+=5:e==="pageup"||e==="pagedown"?n+=(e==="pageup"?-1:1)*r.step.years:e==="home"?n=s(r.activeDate.getFullYear()):e==="end"&&(n=s(r.activeDate.getFullYear())+i-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,s,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(u,a,f,l){function v(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function g(e){if(!e)return l.$setValidity("date",!0),null;if(angular.isDate(e)&&!isNaN(e))return l.$setValidity("date",!0),e;if(angular.isString(e)){var t=s.parse(e,c)||new Date(e);return isNaN(t)?(l.$setValidity("date",!1),undefined):(l.$setValidity("date",!0),t)}return l.$setValidity("date",!1),undefined}var c,h=angular.isDefined(f.closeOnDateSelection)?u.$parent.$eval(f.closeOnDateSelection):o.closeOnDateSelection,p=angular.isDefined(f.datepickerAppendToBody)?u.$parent.$eval(f.datepickerAppendToBody):o.appendToBody;u.showButtonBar=angular.isDefined(f.showButtonBar)?u.$parent.$eval(f.showButtonBar):o.showButtonBar,u.getText=function(e){return u[e+"Text"]||o[e+"Text"]},f.$observe("datepickerPopup",function(e){c=e||o.datepickerPopup,l.$render()});var d=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");d.attr({"ng-model":"date","ng-change":"dateSelection()"});var m=angular.element(d.children()[0]);f.datepickerOptions&&angular.forEach(u.$parent.$eval(f.datepickerOptions),function(e,t){m.attr(v(t),e)}),angular.forEach(["minDate","maxDate"],function(e){f[e]&&(u.$parent.$watch(t(f[e]),function(t){u[e]=t}),m.attr(v(e),e))}),f.dateDisabled&&m.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.$parsers.unshift(g),u.dateSelection=function(e){angular.isDefined(e)&&(u.date=e),l.$setViewValue(u.date),l.$render(),h&&(u.isOpen=!1,a[0].focus())},a.bind("input change keyup",function(){u.$apply(function(){u.date=l.$modelValue})}),l.$render=function(){var e=l.$viewValue?i(l.$viewValue,c):"";a.val(e),u.date=g(l.$modelValue)};var y=function(e){u.isOpen&&e.target!==a[0]&&u.$apply(function(){u.isOpen=!1})},b=function(e,t){u.keydown(e)};a.bind("keydown",b),u.keydown=function(e){e.which===27?(e.preventDefault(),e.stopPropagation(),u.close()):e.which===40&&!u.isOpen&&(u.isOpen=!0)},u.$watch("isOpen",function(e){e?(u.$broadcast("datepicker.focus"),u.position=p?r.offset(a):r.position(a),u.position.top=u.position.top+a.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),u.select=function(e){if(e==="today"){var t=new Date;angular.isDate(l.$modelValue)?(e=new Date(l.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}u.dateSelection(e)},u.close=function(){u.isOpen=!1,a[0].focus()};var w=e(d)(u);p?n.find("body").append(w):a.after(w),u.$on("$destroy",function(){w.remove(),a.unbind("keydown",b),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){if(e&&e.isDefaultPrevented())return;t.$apply(function(){t.isOpen=!1})},r=function(e){e.which===27&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,s){var o=this,u=e.$new(),a=r.openClass,f,l=angular.noop,c=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){o.$element=r,t.isOpen&&(f=n(t.isOpen),l=f.assign,e.$watch(f,function(e){u.isOpen=!!e}))},this.toggle=function(e){return u.isOpen=arguments.length?!!e:!u.isOpen},this.isOpen=function(){return u.isOpen},u.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},u.$watch("isOpen",function(t,n){s[t?"addClass":"removeClass"](o.$element,a),t?(u.focusToggleElement(),i.open(u)):i.close(u),l(e,t),angular.isDefined(t)&&t!==n&&c(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){u.isOpen=!1}),e.$on("$destroy",function(){u.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,t,n,r){if(!r)return;r.toggleElement=t;var i=function(i){i.preventDefault(),!t.hasClass("disabled")&&!n.disabled&&e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){var n=-1;for(var r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&n.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,s){function c(){var e=-1,t=f.keys();for(var n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function h(e){var t=n.find("body").eq(0),r=f.get(e).value;f.remove(e),d(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),t.toggleClass(o,f.length()>0),p()})}function p(){if(u&&c()==-1){var e=a;d(u,a,150,function(){e.$destroy(),e=null}),u=undefined,a=undefined}}function d(n,r,i,s){function a(){if(a.done)return;a.done=!0,n.remove(),s&&s()}r.animate=!1;var o=e.transitionEndEventName;if(o){var u=t(a,i);n.bind(o,function(){t.cancel(u),a(),r.$apply()})}else t(a,0)}var o="modal-open",u,a,f=s.createNew(),l={};return i.$watch(c,function(e){a&&(a.index=e)}),n.bind("keydown",function(e){var t;e.which===27&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){l.dismiss(t.key,"escape key press")})))}),l.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var s=n.find("body").eq(0),l=c();l>=0&&!u&&(a=i.$new(!0),a.index=l,u=r("<div modal-backdrop></div>")(a),s.append(u));var h=angular.element("<div modal-window></div>");h.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content);var p=r(h)(t.scope);f.top().value.modalDomEl=p,s.append(p),s.addClass(o)},l.close=function(e,t){var n=f.get(e).value;n&&(n.deferred.resolve(t),h(e))},l.dismiss=function(e,t){var n=f.get(e).value;n&&(n.deferred.reject(t),h(e))},l.dismissAll=function(e){var t=this.getTop();while(t)this.dismiss(t.key,e),t=this.getTop()},l.getTop=function(){return f.top()},l}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,s,o,u){function f(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:s}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e,i){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var a={};return a.open=function(t){var i=r.defer(),s=r.defer(),a={result:i.promise,opened:s.promise,close:function(e){u.close(a,e)},dismiss:function(e){u.dismiss(a,e)}};t=angular.extend({},e.options,t),t.resolve=t.resolve||{};if(!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=r.all([f(t)].concat(l(t.resolve)));return c.then(function(r){var s=(t.scope||n).$new();s.$close=a.close,s.$dismiss=a.dismiss;var f,l={},c=1;t.controller&&(l.$scope=s,l.$modalInstance=a,angular.forEach(t.resolve,function(e,t){l[t]=r[c++]}),f=o(t.controller,l)),u.open(a,{scope:s,deferred:i,content:r[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(t){i.reject(t)}),c.then(function(){s.resolve(!0)},function(){s.reject(!1)}),a},a}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(s,o){i=s,this.config=o,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return e.page===1},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){s(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,s){function l(e,t,n){return{number:e,text:t,active:n}}function c(e,t){var n=[],r=1,i=t,s=angular.isDefined(a)&&a<t;s&&(f?(r=Math.max(e-Math.floor(a/2),1),i=r+a-1,i>t&&(i=t,r=i-a+1)):(r=(Math.ceil(e/a)-1)*a+1,i=Math.min(r+a-1,t)));for(var o=r;o<=i;o++){var u=l(o,o,o===e);n.push(u)}if(s&&!f){if(r>1){var c=l(r-1,"...",!1);n.unshift(c)}if(i<t){var h=l(i+1,"...",!1);n.push(h)}}return n}var o=s[0],u=s[1];if(!u)return;var a=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,f=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,o.init(u,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){a=parseInt(e,10),o.render()});var h=o.render;o.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=c(n.page,n.totalPages))}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){var s=i[0],o=i[1];if(!o)return;t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,s.init(o,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},t={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(n){angular.extend(t,n)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,s,o,u,a,f,l){return function(c,h,p){function v(e){var n=e||d.trigger||p,r=t[n]||n;return{show:n,hide:r}}var d=angular.extend({},e,n),m=r(c),g=l.startSymbol(),y=l.endSymbol(),b="<div "+m+"-popup "+'title="'+g+"tt_title"+y+'" '+'content="'+g+"tt_content"+y+'" '+'placement="'+g+"tt_placement"+y+'" '+'animation="tt_animation" '+'is-open="tt_isOpen"'+">"+"</div>";return{restrict:"EA",scope:!0,compile:function(e,t){var n=s(b);return function(t,r,i){function w(){t.tt_isOpen?S():E()}function E(){if(y&&!t.$eval(i[h+"Enable"]))return;t.tt_popupDelay?p||(p=o(x,t.tt_popupDelay,!1),p.then(function(e){e()})):x()()}function S(){t.$apply(function(){T()})}function x(){return p=null,l&&(o.cancel(l),l=null),t.tt_content?(N(),s.css({top:0,left:0,display:"block"}),m?a.find("body").append(s):r.after(s),b(),t.tt_isOpen=!0,t.$digest(),b):angular.noop}function T(){t.tt_isOpen=!1,o.cancel(p),p=null,t.tt_animation?l||(l=o(C,500)):C()}function N(){s&&C(),s=n(t,function(){}),t.$digest()}function C(){l=null,s&&(s.remove(),s=null)}var s,l,p,m=angular.isDefined(d.appendToBody)?d.appendToBody:!1,g=v(undefined),y=angular.isDefined(i[h+"Enable"]),b=function(){var e=f.positionElements(r,s,t.tt_placement,m);e.top+="px",e.left+="px",s.css(e)};t.tt_isOpen=!1,i.$observe(c,function(e){t.tt_content=e,!e&&t.tt_isOpen&&T()}),i.$observe(h+"Title",function(e){t.tt_title=e}),i.$observe(h+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement}),i.$observe(h+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?d.popupDelay:n});var k=function(){r.unbind(g.show,E),r.unbind(g.hide,S)};i.$observe(h+"Trigger",function(e){k(),g=v(e),g.show===g.hide?r.bind(g.show,w):(r.bind(g.show,E),r.bind(g.hide,S))});var L=t.$eval(i[h+"Animation"]);t.tt_animation=angular.isDefined(L)?!!L:d.animation,i.$observe(h+"AppendToBody",function(e){m=angular.isDefined(e)?u(e)(t):m}),m&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&T()}),t.$on("$destroy",function(){o.cancel(l),o.cancel(p),k(),C()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var s=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(s)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(t.which===38||t.which===39?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],s=r[1];s&&i.init(s)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var n=this,r=n.tabs=t.tabs=[];n.select=function(e){angular.forEach(r,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},n.addTab=function(t){r.push(t),r.length===1?t.active=!0:t.active&&n.select(t)},n.removeTab=function(t){var i=r.indexOf(t);if(t.active&&r.length>1){var s=i==r.length-1?i-1:i+1;n.select(r[s])}r.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(n,i,s,o){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,s.disabled&&n.$parent.$watch(e(s.disabled),function(e){n.disabled=!!e}),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.tagName.toLowerCase()==="tab-heading"||e.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,s){function c(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&t<13:t>=0&&t<24;return n?(e.showMeridian&&(t===12&&(t=0),e.meridian===a[1]&&(t+=12)),t):undefined}function h(){var t=parseInt(e.minutes,10);return t>=0&&t<60?t:undefined}function p(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function d(e){v(),u.$setViewValue(new Date(o)),m(e)}function v(){u.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function m(t){var n=o.getHours(),r=o.getMinutes();e.showMeridian&&(n=n===0||n===12?12:n%12),e.hours=t==="h"?n:p(n),e.minutes=t==="m"?r:p(r),e.meridian=o.getHours()<12?a[0]:a[1]}function g(e){var t=new Date(o.getTime()+e*6e4);o.setHours(t.getHours(),t.getMinutes()),d()}var o=new Date,u={$setViewValue:angular.noop},a=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):s.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){u=n,u.$render=this.render;var i=r.eq(0),o=r.eq(1),a=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):s.mousewheel;a&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):s.readonlyInput,this.setupInputEvents(i,o)};var f=s.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){f=parseInt(e,10)});var l=s.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){l=parseInt(e,10)}),e.showMeridian=s.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){e.showMeridian=!!t;if(u.$error.time){var n=c(),r=h();angular.isDefined(n)&&angular.isDefined(r)&&(o.setHours(n),d())}else m()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput){e.updateHours=angular.noop,e.updateMinutes=angular.noop;return}var r=function(t,n){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=c();angular.isDefined(e)?(o.setHours(e),d("h")):r(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=p(e.hours)})}),e.updateMinutes=function(){var e=h();angular.isDefined(e)?(o.setMinutes(e),d("m")):r(undefined,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=p(e.minutes)})})},this.render=function(){var e=u.$modelValue?new Date(u.$modelValue):null;isNaN(e)?(u.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(o=e),v(),m())},e.incrementHours=function(){g(f*60)},e.decrementHours=function(){g(-f*60)},e.incrementMinutes=function(){g(l)},e.decrementMinutes=function(){g(-l)},e.toggleMeridian=function(){g(720*(o.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],s=r[1];s&&i.init(s,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,s,o){var u=[9,13,27,38,40];return{require:"ngModel",link:function(a,f,l,c){var h=a.$eval(l.typeaheadMinLength)||1,p=a.$eval(l.typeaheadWaitMs)||0,d=a.$eval(l.typeaheadEditable)!==!1,v=t(l.typeaheadLoading).assign||angular.noop,m=t(l.typeaheadOnSelect),g=l.typeaheadInputFormatter?t(l.typeaheadInputFormatter):undefined,y=l.typeaheadAppendToBody?a.$eval(l.typeaheadAppendToBody):!1,b=t(l.ngModel).assign,w=o.parse(l.typeahead),E,S=a.$new();a.$on("$destroy",function(){S.$destroy()});var x="typeahead-"+S.$id+"-"+Math.floor(Math.random()*1e4);f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var T=angular.element("<div typeahead-popup></div>");T.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(l.typeaheadTemplateUrl)&&T.attr("template-url",l.typeaheadTemplateUrl);var N=function(){S.matches=[],S.activeIdx=-1,f.attr("aria-expanded",!1)},C=function(e){return x+"-option-"+e};S.$watch("activeIdx",function(e){e<0?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",C(e))});var k=function(e){var t={$viewValue:e};v(a,!0),n.when(w.source(a,t)).then(function(n){var r=e===c.$viewValue;if(r&&E)if(n.length>0){S.activeIdx=0,S.matches.length=0;for(var i=0;i<n.length;i++)t[w.itemName]=n[i],S.matches.push({id:C(i),label:w.viewMapper(S,t),model:n[i]});S.query=e,S.position=y?s.offset(f):s.position(f),S.position.top=S.position.top+f.prop("offsetHeight"),f.attr("aria-expanded",!0)}else N();r&&v(a,!1)},function(){N(),v(a,!1)})};N(),S.query=undefined;var L;c.$parsers.unshift(function(e){return E=!0,e&&e.length>=h?p>0?(L&&r.cancel(L),L=r(function(){k(e)},p)):k(e):(v(a,!1),N()),d?e:e?(c.$setValidity("editable",!1),undefined):(c.$setValidity("editable",!0),e)}),c.$formatters.push(function(e){var t,n,r={};return g?(r.$model=e,g(a,r)):(r[w.itemName]=e,t=w.viewMapper(a,r),r[w.itemName]=undefined,n=w.viewMapper(a,r),t!==n?t:e)}),S.select=function(e){var t={},n,i;t[w.itemName]=i=S.matches[e].model,n=w.modelMapper(a,t),b(a,n),c.$setValidity("editable",!0),m(a,{$item:i,$model:n,$label:w.viewMapper(a,t)}),N(),r(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(S.matches.length===0||u.indexOf(e.which)===-1)return;e.preventDefault(),e.which===40?(S.activeIdx=(S.activeIdx+1)%S.matches.length,S.$digest()):e.which===38?(S.activeIdx=(S.activeIdx?S.activeIdx:S.matches.length)-1,S.$digest()):e.which===13||e.which===9?S.$apply(function(){S.select(S.activeIdx)}):e.which===27&&(e.stopPropagation(),N(),S.$digest())}),f.bind("blur",function(e){E=!1});var A=function(e){f[0]!==e.target&&(N(),S.$digest())};i.bind("click",A),a.$on("$destroy",function(){i.unbind("click",A)});var O=e(T)(S);y?i.find("body").append(O):f.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,s,o){var u=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(u,{cache:t}).success(function(e){s.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),define("angularBootstrap",function(){}),require.config({paths:{angular:"../components/angular/angular",angularRoute:"../components/angular-route/angular-route",angularMocks:"../components/angular-mocks/angular-mocks",angularBootstrap:"../components/angular-bootstrap/ui-bootstrap-tpls",text:"../components/requirejs-text/text",restangular:"../components/restangular/src/restangular",underscore:"../components/underscore/underscore",d3:"../components/d3/d3"},shim:{angular:{exports:"angular"},angularRoute:["angular"],angularMocks:{deps:["angular"],exports:"angular.mock"},angularBootstrap:["angular"],restangular:{deps:["underscore","angular"]}},priority:["angular"]}),window.name="NG_DEFER_BOOTSTRAP!",require(["angular","app","routes","angularBootstrap","restangular"],function(e,t,n){var r=e.element(document.getElementsByTagName("html")[0]);e.element().ready(function(){e.resumeBootstrap([t.name])})}),define("main",function(){});